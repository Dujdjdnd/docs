{"config": {"lang": ["en"], "separator": "[\\s\\-]+", "pipeline": ["trimmer", "stopWordFilter"]}, "docs": [{"location": "", "title": "Documentation home", "text": "Getting started Adding your first repository (5 min) Sign up with your Git provider so that Codacy can have access to your Git provider organizations and members. You can then add any repository you have access to with one click. Supported languages Codacy supports over 40 programming languages and infrastructure-as-code platforms out of the box, and regularly adds support for new languages and tools. Using Codacy Creating and managing an organization Codacy automatically imports your Git provider organizations and members. Changes reflect on Codacy in real time and you can manage people who joined your organization on Codacy. Setting up integrations Configure Codacy to provide analysis feedback and status checks directly on your pull requests. Most popular topics Managing people in organizations Invite your teammates to join Codacy to analyze their commits on private repositories. Adding coverage to your repository Set up your repositories to show code coverage reports directly on Codacy. Using the Codacy API Retrieve and analyze data from Codacy and perform configuration changes programmatically"}, {"location": "special-thanks/", "title": "Special thanks", "text": "<p>We would like to thank everyone who helped us greatly. The names on these lists contributed immensely to what Codacy is today.</p>"}, {"location": "special-thanks/#open-source-tools", "title": "Open source tools", "text": "<p>In addition to in-house built rules, we use open source tools for many of our static analysis. We want to express our gratitude to everyone who contributed to those tools.</p> <ul> <li>SonarC#</li> <li>PMD</li> <li>Brakeman</li> <li>RuboCop</li> <li>SimpleCov</li> <li>CoffeeLint</li> <li>Pylint</li> </ul> <ul> <li>SonarVB</li> <li>PHPMD</li> <li>PHP_CodeSniffer</li> <li>Mocha</li> <li>Scalastyle</li> <li>CSSLint</li> </ul> <ul> <li>radon</li> <li>Clone Digger</li> <li>PHPCPD</li> <li>plato</li> <li>sloc</li> <li>LessLinter</li> </ul> <ul> <li>Hadolint</li> <li>SCSSLint</li> <li>Credo</li> <li>PSScriptAnalyzer</li> <li>Ameba</li> </ul>"}, {"location": "special-thanks/#language-support-contributions", "title": "Language support contributions", "text": "<p>These are the tools integrated on Codacy by our own users! Without them, we wouldn't have support for these languages.</p> Language Who made it possible CoffeeScript Ryan Delaney Elixir Grant McLendon PowerShell Aditya Patwardhan Crystal Vitalii Elenhaupt"}, {"location": "special-thanks/#collaborators", "title": "Collaborators", "text": "<p>For all the people who helped us so much, we want to give a big shout out and thanks!</p> <ul> <li>David Pate</li> <li>Adriaan Moors</li> <li>Iulian Dragos</li> </ul> <ul> <li>Jakob Pupke</li> <li>Mathieu Demarne</li> <li>Ryan Shipp</li> </ul> <ul> <li>Eugene Burmako</li> </ul>"}, {"location": "account/emails/", "title": "Emails", "text": "<p>To manage the email addresses associated with your account and your email notifications, click on your avatar on the top right-hand corner and open Your account, page Emails.</p> <p></p>"}, {"location": "account/emails/#updating", "title": "Updating your email addresses", "text": "<p>Codacy automatically links to your Codacy account the email addresses from the Git provider associated with your current session. On the Emails page, you can verify which email addresses are linked to your Codacy account.</p> <p>Note</p> <p>For GitHub, if you have email privacy enabled on the provider, Codacy doesn't show your private emails and uses another available email address when displaying your personal details on lists, search filters, or activity.</p> <p>To update the email addresses associated with your Codacy account, do the following:</p> <ol> <li> <p>Configure your Git email address. This ensures that commits are attributed to you.</p> </li> <li> <p>Update your email addresses on your Git provider (GitHub, Bitbucket, or GitLab).</p> </li> <li> <p>Log out and log back in to Codacy.</p> <p>Tip</p> <p>If the updates are still not reflected on Codacy, navigate to the access management page, revoke the relevant Git provider integration, then log out and back in to Codacy using the same provider.</p> </li> </ol> <p>Note</p> <p>When developers commit from GitHub or Bitbucket, Codacy automatically associates all the commit email addresses from the same Git provider user with a single Codacy committer. For developers that never logged in to the Codacy app, this mechanism requires that they set their Git email address and add all their email addresses to their GitHub account or Bitbucket account.</p>"}, {"location": "account/emails/#git-config", "title": "Setting your Git email address", "text": "<p>Unless you explicitly configure your email address, Git automatically uses an email address based on the username and hostname of your workstation, and associates this email address with your commits.</p> <p>To check which email address your local Git installation is using, run the following command on your workstation:</p> <pre><code>git config user.email\n</code></pre> <p>If the returned email address isn't one of the email addresses associated with your Git provider account, configure Git to use one of those email addresses instead:</p> <pre><code>git config --global user.email you@example.com\n</code></pre> <p>Important</p> <p>Make sure that your email address doesn't include any extra characters such as quotes (<code>\"\"</code> or <code>''</code>).</p>"}, {"location": "account/emails/#managing-your-email-notifications", "title": "Managing your email notifications", "text": "<p>Codacy can send you an email whenever there are new analysis results on your repositories with the list of found issues and the changes that created them. Codacy sends all email notifications to your default email address, and you can change your default email address by clicking make default next to another email address.</p> <p>Configure the notifications that you wish to receive under Repository notifications:</p> <ul> <li> <p>Per commit: Codacy will send you an email for each analyzed commit.</p> </li> <li> <p>Per pull request: Codacy will send you an email for each analyzed pull request.</p> </li> <li> <p>Only my activity: By default, Codacy will only send you emails about your own commits and pull requests. Turn off this setting to receive emails for commits and pull requests made by other people as well.</p> </li> </ul> <p>Tip</p> <p>To turn off all email notifications, disable the settings Per commit and Per pull request.</p>"}, {"location": "account/managing-your-profile/", "title": "Managing your profile", "text": "<p>To manage your profile information such as your name and avatar, click on your avatar on the top right-hand corner and select Your account.</p> <p></p>"}, {"location": "account/managing-your-profile/#changing-your-name-or-avatar", "title": "Changing your name or avatar", "text": "<ul> <li> <p>To change your avatar, sign up or log in at Gravatar using the same email address that you used to log into Codacy. The avatar that you define there will be automatically used as your avatar on Codacy.</p> <p>Note</p> <p>Organization avatars aren't editable at the moment.</p> </li> <li> <p>To change your name, update the field Name and click the button Update profile.</p> </li> </ul>"}, {"location": "account/managing-your-profile/#deleting-your-account", "title": "Deleting your account", "text": "<p>When you delete your account on Codacy:</p> <ul> <li>Your profile information and all data related to your personal repositories are completely removed from Codacy</li> <li>Codacy will stop analyzing any repositories added to Codacy using your account</li> </ul> <p>This operation doesn't make any changes on your Git provider.</p> <p>To delete your account, click the button Delete account and confirm that you really want to proceed.</p> <p>Note</p> <p>If you're the last organization admin of any of your organizations, you must either add someone else as an owner or delete those organizations before you can delete your account.</p>"}, {"location": "account/user-session-management/", "title": "User session management", "text": "<p>To reduce the risk of unauthorized access to your account, Codacy sets automatic expiration timeouts for every session. When a session expires, Codacy invalidates the session both on the client and server side, and creates a new session.</p>"}, {"location": "account/user-session-management/#idle-session-timeout", "title": "Idle session timeout", "text": "<p>The idle session timeout on the Codacy app is 30 minutes. In the absence of user activity during this period, such as typing or using the mouse, Codacy logs out the user and invalidates the session.</p>"}, {"location": "account/user-session-management/#absolute-session-timeout", "title": "Absolute session timeout", "text": "<p>The absolute session timeout on the Codacy app is 8 hours. When an active session reaches this maximum period, Codacy logs out the user and invalidates the session.</p>"}, {"location": "chart/", "title": "Installing Codacy Self-hosted", "text": "<p>This documentation guides you on how to install Codacy Self-hosted on Kubernetes or MicroK8s.</p> <p>Important</p> <p>If you're running the legacy Codacy Self-hosted solution running on Docker please contact support@codacy.com so that we can assist you with the migration to Codacy Self-hosted running on Kubernetes or MicroK8s.</p> <p>To install Codacy you must complete these main steps:</p> <ol> <li> <p>Setting up the system requirements</p> <p>Ensure that your infrastructure meets the hardware and system requirements to run Codacy.</p> </li> <li> <p>Installing Codacy</p> <p>Install Codacy on the cluster using our Helm chart that includes all the necessary components and dependencies.</p> </li> <li> <p>Configuring Codacy</p> <p>Configure integrations with Git providers and set up monitoring.</p> </li> </ol> <p>The next sections include detailed instructions on how to complete each step of the installation process. Make sure that you complete each step before advancing to the next one.</p>"}, {"location": "chart/#1-setting-up-the-system-requirements", "title": "1. Setting up the system requirements", "text": "<p>Before you start, you must prepare and provision the database server and Kubernetes or MicroK8s cluster that will host Codacy.</p> <p>Carefully review and set up the system requirements to run Codacy by following the instructions on the page below:</p> <ul> <li>System requirements</li> </ul> <p>Optionally, you can follow one of the guides below to quickly create a new Kubernetes or MicroK8s cluster that satisfies the characteristics described in the system requirements:</p> <ul> <li>Creating an Amazon EKS cluster</li> <li>Creating a MicroK8s cluster</li> </ul>"}, {"location": "chart/#2-installing-codacy", "title": "2. Installing Codacy", "text": "<p>Install Codacy on an existing cluster using our Helm chart:</p> <ol> <li> <p>Make sure that you have the following tools installed on your machine:</p> <ul> <li> <p>kubectl within one minor version difference of your cluster</p> <p>Important</p> <p>If you're using MicroK8s you don't need to install kubectl because you will execute all <code>kubectl</code> commands as <code>microk8s.kubectl</code> commands instead. To simplify this, check how to create an alias for <code>kubectl</code>.</p> </li> <li> <p>Helm version &gt;= 3.9</p> </li> </ul> </li> <li> <p>Create a cluster namespace called <code>codacy</code> that will group all resources related to Codacy.</p> <pre><code>kubectl create namespace codacy\n</code></pre> </li> <li> <p>Add the Docker registry credentials provided by Codacy together with your license to a cluster Secret. This is necessary because some Codacy Docker images are currently private.</p> <p>Substitute <code>&lt;docker_username&gt;</code> and <code>&lt;docker_password&gt;</code> with the Docker registry username and password and run the following command:</p> <pre><code>kubectl create secret docker-registry docker-credentials \\\n    --docker-username=&lt;docker_username&gt; \\\n    --docker-password=&lt;docker_password&gt; \\\n    --namespace codacy\n</code></pre> </li> <li> <p>Download the template file <code>values-production.yaml</code> and use a text editor of your choice to edit the value placeholders as described in the comments.</p> </li> <li> <p>Create an address record on your DNS provider mapping the hostname you used in the previous step to the IP address of your Ingress controller.</p> <p>Important</p> <p>If you're using MicroK8s you must map the hostname to the public IP address of the machine running MicroK8s.</p> </li> <li> <p>Add Codacy's chart repository to your Helm client and install the Codacy chart using the file <code>values-production.yaml</code> created previously.</p> <p>Important</p> <p>If you're using MicroK8s you must download and use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code> by uncommenting the last line in the <code>helm upgrade</code> command below.</p> <pre><code>helm repo add codacy-stable https://charts.codacy.com/stable/\nhelm repo update\nhelm upgrade --install codacy codacy-stable/codacy \\\n             --namespace codacy \\\n             --version 14.0.0 \\\n             --values values-production.yaml\n             # --values values-microk8s.yaml\n</code></pre> </li> <li> <p>By now all the Codacy pods should be starting in the cluster. Run the following command and wait for all the pods to have the status Running, which can take several minutes:</p> <pre><code>$ kubectl get pods -n codacy\nNAME                                            READY   STATUS    RESTARTS   AGE\ncodacy-api-f7897b965-fgn67                      1/1     Running   0          8m57s\ncodacy-api-f7897b965-kkqsx                      1/1     Running   0          8m57s\ncodacy-crow-7c957d45f6-b8zp2                    1/1     Running   2          8m57s\ncodacy-crowdb-0                                 1/1     Running   0          8m57s\ncodacy-engine-549bcb69d9-cgrqf                  1/1     Running   1          8m57s\ncodacy-engine-549bcb69d9-sh5f4                  1/1     Running   1          8m57s\ncodacy-fluentdoperator-x5vr2                    2/2     Running   0          8m57s\ncodacy-listener-868b784dcf-npdfh                1/1     Running   0          8m57s\ncodacy-listenerdb-0                             1/1     Running   0          8m57s\ncodacy-minio-7cfdc7b4f4-254gz                   1/1     Running   0          8m57s\ncodacy-nfsserverprovisioner-0                   1/1     Running   0          8m57s\ncodacy-portal-774d9fc596-rwqj5                  1/1     Running   2          8m56s\ncodacy-rabbitmq-ha-0                            1/1     Running   0          8m57s\ncodacy-ragnaros-69459775b5-hmj4d                1/1     Running   3          8m57s\ncodacy-remote-provider-service-8fb8556b-rr4ws   1/1     Running   0          8m56s\ncodacy-worker-manager-656dbf8d6d-n4j7c          1/1     Running   0          8m57s\n</code></pre> </li> </ol>"}, {"location": "chart/#3-configuring-codacy", "title": "3. Configuring Codacy", "text": "<p>After successfully installing Codacy on your cluster, you're now ready to perform the post-install configuration steps:</p> <ol> <li> <p>Use a browser to navigate to the Codacy hostname previously configured on the file <code>values-production.yaml</code>.</p> </li> <li> <p>Log in using your Git provider account. This automatically creates a Codacy administrator account with your credentials.</p> </li> <li> <p>Follow Codacy's onboarding process, which will guide you through the following steps:</p> <ul> <li>Configuring one or more of the following supported integrations:<ul> <li>GitHub Cloud</li> <li>GitHub Enterprise</li> <li>GitLab Cloud</li> <li>GitLab Enterprise</li> <li>Bitbucket Cloud</li> <li>Bitbucket Server</li> <li>Email</li> </ul> </li> <li>Creating an initial organization</li> <li>Inviting users to Codacy</li> </ul> </li> <li> <p>As a last step we recommend that you set up monitoring on your Codacy instance.</p> </li> </ol> <p>If you run into any issues while configuring Codacy, be sure to check our troubleshooting guide for more help.</p>"}, {"location": "chart/requirements/", "title": "System requirements", "text": "<p>Before installing Codacy Self-hosted you must ensure that you have the following infrastructure correctly provisioned and configured:</p> <ul> <li>Git provider</li> <li>Kubernetes or MicroK8s cluster</li> <li>PostgreSQL server</li> </ul> <p>The next sections describe in detail how to set up these prerequisites.</p>"}, {"location": "chart/requirements/#git-provider", "title": "Git provider", "text": "<p>To use Codacy Self-hosted, you must use one or more of our supported Git providers. In particular, if you're using a self-hosted Git provider, make sure that your version is supported by Codacy.</p>"}, {"location": "chart/requirements/#kubernetes-or-microk8s-cluster-setup", "title": "Kubernetes or MicroK8s cluster setup", "text": "<p>The cluster running Codacy must satisfy the following requirements:</p> <ul> <li>The infrastructure hosting the cluster must be provisioned with the hardware and networking requirements described below</li> <li>The orchestration platform managing the cluster must be one of:<ul> <li>Kubernetes version 1.22.* to 1.27.* (1.26 recommended)</li> <li>MicroK8s version 1.19.*</li> </ul> </li> <li>The NGINX Ingress controller must be installed and correctly set up in the cluster</li> </ul>"}, {"location": "chart/requirements/#cluster-networking-requirements", "title": "Cluster networking requirements", "text": "<p>The cluster must be configured to accept and establish connections on the following ports:</p> Service Protocol/Port Notes Inbound SSH TCP/22 MicroK8s only, to access the infrastructure remotely. Inbound HTTP TCP/80 Allow access to the Codacy website and API endpoints Inbound HTTPS TCP/443 Allow access to the Codacy website and API endpoints Outbound PostgreSQL TCP/5432 Connection to the PostgreSQL DBMS Outbound SMTP TCP/25 Connection to your SMTP server Outbound SMTPS TCP/465 Connection to your SMTP server over TLS/SSL Outbound Docker Hub * Connection to Docker Hub to download the required container images Outbound Git provider * Connection to the ports required by your remote Git provider"}, {"location": "chart/requirements/#cluster-hardware-requirements", "title": "Cluster hardware requirements", "text": "<p>The high-level architecture described in the next section is important in understanding how Codacy uses and allocates hardware resources. Below we also provide guidance on resource provisioning for typical scenarios.</p> <p>For a custom hardware resource recommendation, please contact us at support@codacy.com.</p>"}, {"location": "chart/requirements/#codacy-architecture", "title": "Codacy architecture", "text": "<p>You can look at Codacy separately as two groups of components:</p> <ul> <li>The \"Platform\" contains the UI and other components important to treat and show results</li> <li>The \"Analysis\" is the swarm of workers that run between one and four linters simultaneously, depending on factors such as the number of files or the programming languages used in your projects</li> </ul> <p></p> <p>Since all components are running on a cluster, you can increase the number of pod replicas in every deployment to give you more resilience and throughput, at a cost of increased resource usage.</p> <p>The following is a simplified overview of how to calculate resource allocation for the group of components \"Platform\" and \"Analysis\":</p> Group of components vCPU Memory Platform(1 pod replica per component) 4 8 GB Analysis(1 Analysis Worker pod with up to 4 linters) 5(per Analysis Worker) 10 GB(per Analysis Worker)"}, {"location": "chart/requirements/#standard-cluster-provisioning", "title": "Standard cluster provisioning", "text": "<p>As described in the section above, Codacy's architecture allows scaling the \"Analysis\" group of components, meaning that the resources needed for Codacy depend mainly on the rate of commits done by your team that Codacy will be analyzing.</p> <p>The resources recommended on the following table are based on our experience and are also the defaults in the <code>values-production.yaml</code> file. You might need to adapt these defaults taking into account your use case. In particular, you should set the value of <code>global.workerManager.workers.config.dedicatedMax</code> to the maximum number of concurrent analysis depending on the available resources and number of replicas per component.</p> <p>Note</p> <p>For MicroK8s clusters we added an extra 1.5 vCPU and 1.5 GB memory to the \"Platform\" to account for the MicroK8s platform itself running on the same machine.</p> Installation type Pod replicas per component Max. concurrent analysis Platform resources Analysis resources ~ Total resources KubernetesSmall Installation 1 2 4 vCPUs8 GB RAM 10 vCPUs20 GB RAM 16 vCPUs32 GB RAM KubernetesMedium Installation (default) 2 4 8 vCPUs16 GB RAM 20 vCPUs40 GB RAM 32 vCPUs64 GB RAM KubernetesBig Installation 2+ 10+ 8+ vCPUs16+ GB RAM 50+ vCPUs100+ GB RAM 60+ vCPUs110+ GB RAM MicroK8sMinimum 1 2 5.5 vCPUs9.5 GB RAM 10 vCPUs20 GB RAM 16 vCPUs32 GB RAM MicroK8sRecommended (default) 1+ 2 9.5+ vCPUs17.5+ GB RAM 10 vCPUs20 GB RAM 21+ vCPUs40+ GB RAM <p>The storage requirements recommended on the following table depend mainly on the number of repositories that Codacy will be analyzing and should be used as a guideline to determine your installation requirements.</p> Component Bundled in the chart? Minimum recommended NFS Yes 200 GB RabbitMQ Yes 8 GB Minio Yes 20 GB PostgreSQL No (external DB recommended) 500 GB+ <p>Note</p> <p>Please note that due to the way Codacy works, a small number of pods will run in privileged mode with the <code>CAP_SYS_ADMIN</code> capability. This is required to allow the Worker pods to serve NFS shares to be mounted by the pods running the static code analysis tools.</p>"}, {"location": "chart/requirements/#postgresql-server-setup", "title": "PostgreSQL server setup", "text": "<p>Codacy requires a database server to persist data that must satisfy the following requirements:</p> <ul> <li>The infrastructure hosting the database server must be provisioned with the hardware requirements described below</li> <li>The DBMS server must be PostgreSQL version 11.20 or version 12.* (12.* recommended)</li> <li>The PostgreSQL server must be configured to accept connections from the cluster</li> <li>The Codacy databases and a dedicated user must be created using the instructions below</li> </ul> <p>Important</p> <p>Google, the developer of Kubernetes, doesn't recommend running database servers on your cluster. As such, consider using a managed solution like Amazon RDS or Google Cloud SQL, or running the PostgreSQL server on a dedicated virtual machine.</p> <p>We recommend that you use a managed solution to reduce maintenance and configuration costs of the PostgreSQL server. The main cloud providers all have this service that you can use, for example:</p> <ul> <li>Amazon RDS for PostgreSQL or Amazon Aurora PostgreSQL-Compatible Edition</li> <li>Azure Database for PostgreSQL</li> <li>Google Cloud SQL for PostgreSQL</li> <li>Digital Ocean Managed Databases</li> </ul>"}, {"location": "chart/requirements/#postgresql-hardware-requirements", "title": "PostgreSQL hardware requirements", "text": "<p>The following are the minimum specifications recommended for provisioning the PostgreSQL server:</p> vCPUs Memory Storage Max. concurrent connections 4 8 GB 500 GB+ 300"}, {"location": "chart/requirements/#preparing-postgresql-for-codacy", "title": "Preparing PostgreSQL for Codacy", "text": "<p>Before installing Codacy you must create a set of databases that will be used by Codacy to persist data. We also recommend that you create a dedicated user for Codacy, with access permissions only to the databases that are specific to Codacy:</p> <ol> <li> <p>Connect to the PostgreSQL server as a database admin user. For example, using the <code>psql</code> command line client:</p> <pre><code>psql -U postgres -h &lt;PostgreSQL server hostname&gt;\n</code></pre> </li> <li> <p>Create the dedicated user that Codacy will use to connect to PostgreSQL. Make sure that you change the username and password to suit your security needs:</p> <pre><code>CREATE USER codacy WITH PASSWORD 'codacy';\nALTER ROLE codacy WITH CREATEDB;\n</code></pre> <p>Take note of the username and password you define, as you will require them later to configure the connection from Codacy to the PostgreSQL server.</p> </li> <li> <p>Make sure that you can connect to the PostgreSQL database using the newly created user. For example, using the <code>psql</code> command line client:</p> <pre><code>psql -U codacy -d postgres -h &lt;PostgreSQL server hostname&gt;\n</code></pre> </li> <li> <p>Create the databases required by Codacy:</p> <pre><code>CREATE DATABASE accounts WITH OWNER=codacy;\nCREATE DATABASE analysis WITH OWNER=codacy;\nCREATE DATABASE results WITH OWNER=codacy;\nCREATE DATABASE metrics WITH OWNER=codacy;\nCREATE DATABASE filestore WITH OWNER=codacy;\nCREATE DATABASE jobs WITH OWNER=codacy;\nCREATE DATABASE listener WITH OWNER=codacy;\nCREATE DATABASE crow WITH OWNER=codacy;\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/caching/", "title": "Caching", "text": "<p>Codacy Self-hosted includes a built-in NFS server provisioner that deploys a shared volume to cache the cloned repository files while they're being analyzed by each tool. However, if you're dealing with big repositories or a high volume of analysis, using an NFS server external to the cluster will improve the performance of the cache.</p> <p>To use your own external NFS server:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>listener.nfsserverprovisioner.enabled: \"false\"</code> and define the remaining <code>listener.cache.*</code> values as described below:</p> <pre><code>listener:\n  nfsserverprovisioner:\n    enabled: false\n  cache:\n    name: listener-cache\n    path: /data\n    nfs:\n      server: &lt;NFS_SERVER_IP&gt; # IP address of the external NFS server\n      path: /var/nfs/data/ # External NFS server directory or file system to be mounted\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> <li> <p>Validate that the <code>repository-listener</code> pod  is now using the external NFS server:</p> <pre><code>$ kubectl describe pod -n codacy codacy-listener-&lt;...&gt;\n\n[...]\n\nVolumes:\nlistener-cache:\n    Type:      NFS (an NFS mount that lasts the lifetime of a pod)\n    Server:    &lt;NFS_SERVER_IP&gt;\n    Path:      /var/nfs/data/\n    ReadOnly:  false\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/logging/", "title": "Logging", "text": "<p>Currently, Codacy Self-hosted supports two types of log configurations:</p> <ul> <li>Log level: The severity of the messages that will be shown in logs.</li> <li>Log retention period: The period during which logs will be stored, before being removed by the cleanup job specified in the configuration.</li> </ul> <p>The sections below provide instructions on how to configure each logging configuration.</p>"}, {"location": "chart/configuration/logging/#configuring-the-log-level", "title": "Configuring the log level", "text": "<p>The log level defines the minimum severity of the events contained in the logs, and affects the necessary storage space in MinIO.</p> <p>Important</p> <p>We recommend that you don't use a log level lower than WARN, as the logs are useful to troubleshoot any issues in your Codacy Self-hosted instance.</p> <p>Codacy supports configuring the log level of the following components:</p> <ul> <li><code>codacy-api</code></li> <li><code>engine</code></li> <li><code>listener</code></li> <li><code>worker-manager</code></li> </ul> <p>Follow these instructions to configure the log level: </p> <ol> <li> <p>Edit the value of <code>&lt;COMPONENT&gt;.config.logLevel</code> in the <code>values-production.yaml</code> file that is used to install Codacy, as shown in the example below.</p> <pre><code>worker-manager:\n  replicaCount: 2\n  config:\n    logLevel: WARN\n  resources:\n    limits:\n      cpu: 500m\n      memory: 1000Mi\n    requests:\n      cpu: 200m\n      memory: 200Mi\n</code></pre> <p>The list of supported values for <code>logLevel</code> is shown below. Note that each level also prints the information of the levels higher than it:</p> <ul> <li>DEBUG (default): Logs detailed information on the flow through the system. This is the most verbose level.</li> <li>INFO: Logs interesting events such as application startup and shutdown, important events on the flow of the system, or behavior that is skipped for expected reasons.</li> <li>WARN: Logs runtime events that are unexpected, or undesirable, but not necessarily wrong such as the use of deprecated APIs.</li> <li>ERROR: Only logs runtime errors, or unexpected conditions that prevent the expected behavior from happening. This is the least verbose level.</li> </ul> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/logging/#configuring-the-log-retention-period", "title": "Configuring the log retention period", "text": "<p>The log retention period is the number of days during which logs will be stored before being removed by the MinIO bucket lifecycle configuration policy that we provide in the template lifecycle-police-job.yaml.</p> <p>Follow these instructions to configure the log retention period:</p> <ol> <li> <p>Adjust the retention period of your logs by editing the value of <code>fluentdoperator.expirationDays</code> in the <code>values.yaml</code> file, as shown in the example below.</p> <pre><code>fluentdoperator:\n  enabled: true\n  defaultConfigmap: codacy-fluentd-config\n  bucketName: logs\n  expirationDays: 7\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/monitoring/", "title": "Monitoring", "text": "<p>Currently, Codacy Self-hosted supports two monitoring solutions:</p> <ul> <li>Crow: A simple, lightweight, and built-in monitoring solution, enabled by default when you install Codacy.</li> <li>Prometheus + Grafana + Loki: A comprehensive third-party monitoring solution, recommended for more advanced usage.</li> </ul> <p>The sections below provide instructions on how to set up each monitoring solution.</p>"}, {"location": "chart/configuration/monitoring/#setting-up-monitoring-using-crow", "title": "Setting up monitoring using Crow", "text": "<p>Crow displays information about the projects that are pending analysis and the jobs currently running on Codacy.</p> <p>Crow is installed alongside Codacy when the Helm chart is deployed to the cluster. By default, you can access Crow as follows:</p> <ul> <li>URL: <code>http://&lt;codacy hostname&gt;/monitoring</code>, where <code>&lt;codacy hostname&gt;</code> is the hostname of your Codacy instance</li> <li>Username: <code>codacy</code></li> <li>Password: <code>C0dacy123</code></li> </ul> <p>We highly recommend that you define a custom password for Crow, if you haven't already done it when installing Codacy:</p> <ol> <li> <p>Edit the value of <code>global.crow.config.passwordAuth.password</code> in the <code>values-production.yaml</code> file that you used to install Codacy:</p> <pre><code>global:\n  crow:\n    config:\n      passwordAuth:\n        password: C0dacy123\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/monitoring/#setting-up-monitoring-using-grafana-prometheus-and-loki", "title": "Setting up monitoring using Grafana, Prometheus, and Loki", "text": "<p>Prometheus is an open-source systems monitoring and alerting toolkit. Logs can be collected using Loki, which is a horizontally-scalable, highly-available, multi-tenant log aggregation system. Its data can be visualized with Grafana, a widely used open source analytics and monitoring solution.</p> <p>This solution is considerably more resource demanding than Crow, and is recommended only for more advanced usage. Furthermore, its installation, configuration, and management require a deeper knowledge of Kubernetes as each component must be carefully tweaked to match your specific use case, using as starting point the <code>.yaml</code> values files provided by us.</p> <p>The instructions below cover the basic installation of these monitoring services using the Kube Prometheus Stack.</p> <p>Important</p> <p>If you're using MicroK8s run <code>alias kubectl=microk8s.kubectl</code>.</p>"}, {"location": "chart/configuration/monitoring/#1-install-custom-resources", "title": "1. Install custom resources", "text": "<p>Add the custom resources required for installing the monitoring bundle in your cluster:</p> <pre><code>kubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_alertmanagerconfigs.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_alertmanagers.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_podmonitors.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_probes.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_prometheuses.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_prometheusrules.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_servicemonitors.yaml\nkubectl apply --server-side -f https://raw.githubusercontent.com/prometheus-operator/prometheus-operator/v0.58.0/example/prometheus-operator-crd/monitoring.coreos.com_thanosrulers.yaml\n</code></pre>"}, {"location": "chart/configuration/monitoring/#2-installing-loki", "title": "2. Installing Loki", "text": "<p>Obtain the configuration file for Loki, <code>values-loki.yaml</code>, and install it by running the command below. While the default storage class setting for Loki persistence should suit most use cases, you may need to adjust it to your specific Kubernetes installation. For instance, for MicroK8s use <code>storageClassName: microk8s-hostpath</code>.</p> <pre><code>helm repo add grafana https://grafana.github.io/helm-charts\n\nkubectl create namespace monitoring\n\nhelm upgrade --install --atomic --timeout 600s loki grafana/loki \\\n  --version 2.14.1 --namespace monitoring --values values-loki.yaml\n</code></pre>"}, {"location": "chart/configuration/monitoring/#3-installing-promtail", "title": "3. Installing Promtail", "text": "<p>Promtail is an agent that ships the contents of local logs to a Loki instance.</p> <p>Obtain the configuration file for Promtail, <code>values-promtail.yaml</code>, and install it by running the command below.</p> <pre><code>helm upgrade --install --atomic --timeout 600s promtail grafana/promtail \\\n  --version 2.2.0 --namespace monitoring --values values-promtail.yaml\n</code></pre>"}, {"location": "chart/configuration/monitoring/#4-installing-prometheus-and-grafana", "title": "4. Installing Prometheus and Grafana", "text": "<p>Obtain the configuration file for the Kube Prometheus Stack, <code>values-prometheus-operator.yaml</code>. Then:</p> <ol> <li> <p>Edit the Grafana password for the <code>admin</code> user and the hostname for Grafana in the <code>values-prometheus-operator.yaml</code> file.</p> </li> <li> <p>Install the bundle on your cluster by running the command below.</p> </li> </ol> <pre><code>helm repo add prometheus-community https://prometheus-community.github.io/helm-charts\nhelm repo update\n\nhelm upgrade --install --atomic --timeout 600s monitoring  prometheus-community/kube-prometheus-stack \\\n  --version 39.9.0 --namespace monitoring --values values-prometheus-operator.yaml\n</code></pre> <p>Grafana will be available on the domain you configured in your <code>values-prometheus-operator.yaml</code> file, with Prometheus and Loki configured as datasources. Follow the Kubernetes documentation if you need to access other monitoring services that are now running on your cluster, using the method that best suits your use case.</p>"}, {"location": "chart/configuration/monitoring/#5-enable-service-dashboards", "title": "5. Enable service dashboards", "text": "<p>Now that you have Prometheus and Grafana installed you can enable metrics reporting for Codacy components.</p> <ol> <li> <p>Create a file named <code>values-monitoring.yaml</code> with the following content:</p> <pre><code>global:\n  metrics:\n    kamon:\n      enabled: true\n      prometheusReporter:\n        enabled: true\n    serviceMonitor:\n      enabled: true\n    grafana:\n      enabled: true\n</code></pre> </li> <li> <p>Apply this configuration by performing a Helm upgrade. To do so append <code>--values values-monitoring.yaml</code> to the command used to install Codacy:</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-monitoring.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/configuration/integrations/bitbucket-cloud/", "title": "Bitbucket Cloud", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with Bitbucket Cloud.</p>"}, {"location": "chart/configuration/integrations/bitbucket-cloud/#create-oauth", "title": "Create an OAuth consumer", "text": "<p>To integrate Codacy with Bitbucket Cloud, you must register an OAuth consumer for Codacy on Bitbucket.</p> <p>You can create a consumer on any existing individual or team account. To create a consumer, do the following:</p> <ol> <li> <p>On Bitbucket, click on your avatar on the bottom left-hand corner and select Bitbucket settings.</p> </li> <li> <p>Select OAuth on the left sidebar and click the button Add consumer.</p> </li> <li> <p>Fill in the fields to create the OAuth consumer:</p> <ul> <li> <p>Name: Name of the OAuth consumer. For example, <code>Codacy</code>.</p> </li> <li> <p>Callback URL: Copy the URL below, replacing the HTTP protocol and hostname with the correct values for your Codacy instance.</p> <pre><code>https://codacy.example.com/login/Bitbucket?codacy_skip_ga=1\n</code></pre> </li> <li> <p>This is a private consumer: Enable the check box.</p> </li> <li> <p>Add the permissions:</p> <ul> <li>Account: Write</li> <li>Team membership: Read</li> <li>Projects: Read</li> <li>Repositories: Admin</li> <li>Pull requests: Write</li> <li>Issues: Write</li> <li>Webhooks: Read and write</li> </ul> </li> </ul> <p></p> <p></p> </li> <li> <p>Click Save, and then click the name of the new OAuth consumer to take note of the generated key and secret.</p> </li> </ol> <p></p>"}, {"location": "chart/configuration/integrations/bitbucket-cloud/#configure", "title": "Configure Bitbucket Cloud on Codacy", "text": "<p>After creating the OAuth consumer on Bitbucket Cloud, you must configure it on Codacy:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.bitbucket.enabled: \"true\"</code> and define the remaining values as described below using the information obtained when you created the OAuth consumer:</p> </li> </ol> <pre><code>global:\n  bitbucket:\n    enabled: \"true\"\n    login: \"true\" # Show login button for Bitbucket Cloud\n    key: \"\" # OAuth consumer key\n    secret: \"\" # OAuth consumer secret\n</code></pre> <ol> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use Bitbucket Cloud to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/bitbucket-server/", "title": "Bitbucket Server", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with Bitbucket Server.</p>"}, {"location": "chart/configuration/integrations/bitbucket-server/#create-a-bitbucket-server-application-link", "title": "Create a Bitbucket Server application link", "text": "<p>To integrate Codacy with Bitbucket Server, you must create an application link on your Bitbucket Server instance:</p> <ol> <li> <p>Create a key pair to sign and validate the requests between Codacy and the Bitbucket Server instance.</p> <p>Run the following command to create the key pair using the RSA algorithm in the PKCS#8 format:</p> <pre><code>bash &lt;(curl -fsSL https://raw.githubusercontent.com/codacy/chart/master/docs/configuration/integrations/generate-bitbucket-server-secrets.sh)\n</code></pre> <p>Store the keys in a safe place for usage in the next steps and as a backup.</p> </li> <li> <p>Open <code>&lt;bitbucket server url&gt;/plugins/servlet/applinks/listApplicationLinks</code>, where <code>&lt;bitbucket server url&gt;</code> is the URL of your Bitbucket Server instance.</p> </li> <li> <p>Create a new application link with the URL of your Codacy instance.</p> <p>Important</p> <p>If you're using Bitbucket Server 7.20 or later you must select the application type Atlassian product while creating the new application link.</p> <p>This forces the integration to use OAuth 1.0 and is necessary to ensure the compatibility between Codacy and older versions of Bitbucket that only supported OAuth 1.0.</p> <p></p> <p>If Bitbucket Server may warn you that there was no response from the URL you entered. This is expected, and you can click Continue after verifying that the URL is correct.</p> <p></p> </li> <li> <p>Fill in the fields:</p> <ul> <li>Application Name: Name of the application. For example, <code>Codacy</code>.</li> <li>Application Type: Select <code>Generic Application</code>.</li> </ul> <p>The remaining fields should be left blank.</p> <p></p> </li> <li> <p>After creating the new application link, click Edit to add an incoming authentication.</p> </li> <li> <p>Fill in the fields of the incoming authentication:</p> <ul> <li>Consumer Key: Enter the <code>consumerKey</code> generated previously.</li> <li>Consumer Name: Name of the consumer. For example, <code>Codacy</code>.</li> <li>Public Key: Enter the <code>consumerPublicKey</code> generated previously.</li> </ul> <p>The remaining fields should be left blank.</p> <p></p> </li> </ol>"}, {"location": "chart/configuration/integrations/bitbucket-server/#configure-bitbucket-server-on-codacy", "title": "Configure Bitbucket Server on Codacy", "text": "<p>After creating the Bitbucket Server application link, you must configure it on Codacy:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.bitbucketEnterprise.enabled: \"true\"</code> and define the remaining values as described below and with the information obtained when you created the Bitbucket Server application link:</p> <pre><code>bitbucketEnterprise:\n  enabled: \"true\"\n  login: \"true\" # Show login button for Bitbucket Server\n  hostname: \"bitbucket.example.com\" # Hostname of your Bitbucket Server instance\n  protocol: \"https\" # Protocol of your Bitbucket Server instance\n  port: 7990 # Port of your Bitbucket Server instance\n  consumerKey: \"\" # Generated when creating the Bitbucket Server application link\n  consumerPublicKey: \"\" # Generated when creating the Bitbucket Server application link\n  consumerPrivateKey: \"\" # Generated when creating the Bitbucket Server application link\n  contextPath: \"\" # Context path of your Bitbucket Server, if configured\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use Bitbucket Server to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/email/", "title": "SMTP server", "text": "<p>Follow the instructions below to set up Codacy Self-hosted to send emails using your SMTP server:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.email.enabled: \"true\"</code> and define the remaining values with the credentials for your SMTP server:</p> <pre><code>email:\n  enabled: \"true\"\n  replyTo: \"notifications@mycompany.com\" # Reply-to field on sent emails\n  smtp:\n    protocol: \"smtp\" # SMTP protocol to use, either smtps or smtp\n    hostname: \"smtp.example.com\" # Hostname of your SMTP server\n    # username: \"\" # Optional username to authenticate on your SMTP server\n    # password: \"\" # Optional password to authenticate on your SMTP server\n    # port: 25 # Optional port of your SMTP server, the default is 25\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to:</p> <ul> <li>Invite new users via email</li> <li>Receive commit and pull request email notifications</li> </ul>"}, {"location": "chart/configuration/integrations/github-app-create/", "title": "Creating a GitHub App", "text": "<p>You must create and correctly set up a GitHub App to allow Codacy Self-hosted to integrate with GitHub.</p> <p>To create the GitHub App:</p> <ol> <li> <p>If you're using GitHub Cloud, open https://github.com/settings/apps/new.</p> <p>If you're using GitHub Enterprise, open <code>https://github.example.com/settings/apps/new</code>, replacing the HTTP protocol and hostname with the correct values for your GitHub Enterprise instance.</p> </li> <li> <p>Configure the new GitHub App using the values listed on the table below, replacing <code>https://codacy.example.com</code> with the correct base URL of your Codacy instance.</p> Field Value GitHub App name Codacy Homepage URL <code>https://codacy.example.com</code> User authorization callback URL <code>https://codacy.example.com</code> Request user authorization (OAuth) during installation EnabledMake sure this option is selected to request that the installing user grants access to their identity during the installation of your Codacy GitHub App. Webhook URL For GitHub Cloud:<code>https://codacy.example.com/2.0/events/gh/organization</code>For GitHub Enterprise:<code>https://codacy.example.com/2.0/events/ghe/organization</code> Repository permissions Administration Read &amp; write Checks Read &amp; write Issues Read &amp; write Metadata Read only Pull requests Read &amp; write Webhooks Read &amp; write Commit statuses Read &amp; write Organization permissions Members Read only Webhooks Read &amp; write User permissions Email addresses Read only Git SSH keys Read &amp; write Where can this GitHub App be installed? Any account </li> <li> <p>Scroll to the bottom of the page, click Generate a private key, and save the <code>.pem</code> file containing the private key.</p> </li> <li> <p>Take note of the following information, as you'll need it to configure Codacy:</p> <ul> <li>GitHub App name </li> <li>App ID</li> <li>Client ID</li> <li>Client secret</li> <li>Private key (contents of the <code>.pem</code> file generated in the previous step)</li> </ul> </li> </ol>"}, {"location": "chart/configuration/integrations/github-cloud/", "title": "GitHub Cloud", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with GitHub Cloud:</p> <ol> <li> <p>Follow the instructions on creating a GitHub App.</p> </li> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.github.enabled: \"true\"</code> and define the remaining values as described below using the information obtained when you created the GitHub App:</p> <pre><code>github:\n  enabled: \"true\"\n  login: \"true\" # Show login button for GitHub Cloud\n  clientId: \"\" # Client ID\n  clientSecret: \"\" # Client secret\n  app:\n    name: \"codacy\" # GitHub App name\n    id: \"1234\" # App ID\n    privateKey: \"\" # Contents of the .pem file without newlines or the BEGIN/END lines\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use GitHub Cloud to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/github-enterprise/", "title": "GitHub Enterprise", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with GitHub Enterprise:</p> <ol> <li> <p>Follow the instructions on creating a GitHub App.</p> </li> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.githubEnterprise.enabled: \"true\"</code> and define the remaining values as described below using the information obtained when you created the GitHub App:</p> <pre><code>githubEnterprise:\n  enabled: \"true\"\n  login: \"true\" # Show login button for GitHub Enterprise\n  hostname: \"github.example.com\" # Hostname of your GitHub Enterprise instance\n  protocol: \"https\" # Protocol of your GitHub Enterprise instance\n  port: 443 # Port of your GitHub Enterprise instance\n  disableSSL: \"false\" # Disable certificate validation\n  isPrivateMode: \"true\" # Status of private mode on your GitHub Enterprise instance\n  clientId: \"\" # GitHub App Client ID\n  clientSecret: \"\" # GitHub App Client secret\n  app:\n    name: \"codacy\" # GitHub App name\n    id: \"1234\" # GitHub App ID\n    privateKey: \"\" # Contents of the .pem file without newlines or the BEGIN/END lines\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use GitHub Enterprise to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/gitlab-cloud/", "title": "GitLab Cloud", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with GitLab Cloud.</p>"}, {"location": "chart/configuration/integrations/gitlab-cloud/#create-application", "title": "Create a GitLab application", "text": "<p>To integrate Codacy with GitLab Cloud, you must create a GitLab application:</p> <ol> <li> <p>Open https://gitlab.com/-/profile/applications.</p> </li> <li> <p>Fill in the fields to register your Codacy instance on GitLab:</p> <ul> <li> <p>Name: Name of the application. For example, <code>Codacy</code>.</p> </li> <li> <p>Redirect URI: Copy the URLs below, replacing the HTTP protocol and hostname with the correct values for your Codacy instance. This field is case sensitive.</p> <pre><code>https://codacy.example.com/login/GitLab\nhttps://codacy.example.com/add/addProvider/GitLab\nhttps://codacy.example.com/add/addService/GitLab\nhttps://codacy.example.com/add/addPermissions/GitLab\n</code></pre> </li> <li> <p>Scopes: Enable the scopes:</p> <ul> <li><code>api</code></li> <li><code>read_user</code></li> <li><code>read_repository</code></li> <li><code>openid</code></li> </ul> </li> </ul> <p></p> </li> <li> <p>Click Save application and take note of the generated Application Id and Secret.</p> </li> </ol> <p>Note</p> <p>You can ignore the following error that GitLab may display when you test or save the new GitLab application:</p> <p></p> <p>This happens because GitLab tests the new application by calling an endpoint that Codacy doesn't implement.</p>"}, {"location": "chart/configuration/integrations/gitlab-cloud/#configure", "title": "Configure GitLab Cloud on Codacy", "text": "<p>After creating the GitLab application, you must configure it on Codacy:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.gitlab.enabled: \"true\"</code> and define the remaining values as described below using the information obtained when you created the GitLab application:</p> <pre><code>gitlab:\n  enabled: \"true\"\n  login: \"true\" # Show login button for GitLab Cloud\n  clientId: \"\" # Application ID\n  clientSecret: \"\" # Secret\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use GitLab Cloud to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/gitlab-enterprise/", "title": "GitLab Enterprise", "text": "<p>Follow the instructions below to set up the Codacy Self-hosted integration with GitLab Enterprise:</p>"}, {"location": "chart/configuration/integrations/gitlab-enterprise/#create-application", "title": "Create a GitLab application", "text": "<p>To integrate Codacy with GitLab Enterprise, you must create a GitLab application:</p> <ol> <li> <p>Open <code>&lt;gitlab enterprise url&gt;/-/profile/applications</code> as a GitLab admin, where <code>&lt;gitlab enterprise url&gt;</code> is the URL of your GitLab Enterprise instance.</p> </li> <li> <p>Fill in the fields to register your Codacy instance on GitLab:</p> <ul> <li> <p>Name: Name of the application. For example, <code>Codacy</code>.</p> </li> <li> <p>Redirect URI: Copy the URLs below, replacing the HTTP protocol and hostname with the correct values for your Codacy instance. This field is case sensitive.</p> <pre><code>https://codacy.example.com/login/GitLabEnterprise\nhttps://codacy.example.com/add/addProvider/GitLabEnterprise\nhttps://codacy.example.com/add/addService/GitLabEnterprise\nhttps://codacy.example.com/add/addPermissions/GitLabEnterprise\n</code></pre> </li> <li> <p>Scopes: Enable the scopes:</p> <ul> <li><code>api</code></li> <li><code>read_user</code></li> <li><code>read_repository</code></li> <li><code>openid</code></li> </ul> </li> </ul> <p></p> </li> <li> <p>Click Save application and take note of the generated Application Id and Secret.</p> </li> </ol> <p>Note</p> <p>You can ignore the following error that GitLab Enterprise may display when you test or save the new GitLab application:</p> <p></p> <p>This happens because GitLab Enterprise tests the new application by calling an endpoint that Codacy doesn't implement.</p>"}, {"location": "chart/configuration/integrations/gitlab-enterprise/#configure", "title": "Configure GitLab Enterprise on Codacy", "text": "<p>After creating the GitLab application, you must configure it on Codacy:</p> <ol> <li> <p>Edit the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Set <code>global.gitlabEnterprise.enabled: \"true\"</code> and define the remaining values as described below using the information obtained when you created the GitLab application:</p> <pre><code>gitlabEnterprise:\n  enabled: \"true\"\n  login: \"true\" # Show login button for GitLab Enterprise\n  hostname: \"gitlab.example.com\" # Hostname of your GitLab Enterprise instance\n  protocol: \"https\" # Protocol of your GitLab Enterprise instance\n  port: 443 # Port of your GitLab Enterprise instance\n  clientId: \"\" # Application ID\n  clientSecret: \"\" # Secret\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol> <p>After this is done you will be able to use GitLab Enterprise to authenticate to Codacy.</p>"}, {"location": "chart/configuration/integrations/gitlab-enterprise/#detect-changes-to-repositories-and-organizations", "title": "Detect changes to repositories and organizations", "text": "<p>Optionally, Codacy can automatically detect the following changes to repositories and organizations on your GitLab Enterprise instance:</p> <ul> <li>For repositories: renames, deletes, and visibility changes</li> <li>For organizations: renames, deletes, and access removed</li> </ul> <p>To do this, you must configure a System Hook on your GitLab Enterprise instance to notify Codacy of the changes:</p> <ol> <li> <p>Open <code>&lt;gitlab enterprise url&gt;/admin/hooks</code> as a GitLab admin, where <code>&lt;gitlab enterprise url&gt;</code> is the URL of your GitLab Enterprise instance.</p> </li> <li> <p>Fill in the fields to create the System Hook:</p> <ul> <li> <p>URL: The URL of your Codacy instance with the path <code>/2.0/events/gle/organization</code>. For example, <code>http://codacy.example.com/2.0/events/gle/organization</code></p> </li> <li> <p>Secret Token: Copy the Application Secret from the GitLab application that you created previously, or from the value of <code>clientSecret</code> in the file <code>values-production.yaml</code> that you used to install Codacy.</p> </li> <li> <p>Trigger: Enable the trigger <code>Repository update events</code></p> </li> <li> <p>SSL verification: Enable the SSL verification.</p> </li> </ul> <p></p> </li> <li> <p>Click Save Changes to save the System Hook.</p> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/", "title": "Creating an Amazon EKS cluster", "text": "<p>Follow the instructions below to set up an Amazon EKS cluster from scratch, including the necessary underlying infrastructure, using Terraform.</p> <p>The following diagram is a non-exhaustive overview of what you can expect to have deployed in your AWS account by using this quickstart guide.</p> <p></p>"}, {"location": "chart/infrastructure/eks-quickstart/#1-prepare-your-environment", "title": "1. Prepare your environment", "text": "<p>Prepare your environment to set up the Amazon EKS cluster:</p> <ol> <li> <p>Make sure that you have the following tools installed on your machine:</p> <ul> <li>Git version &gt;= 2.0.0</li> <li>AWS CLI version 1</li> <li>Terraform version &gt;= 0.12</li> <li>Kubectl version &gt;= 1.14</li> </ul> </li> <li> <p>Set up the AWS CLI credentials for your AWS account using the AWS CLI and Terraform documentation as reference.</p> <p>Note that, as stated on the Terraform documentation, if your <code>.aws/credentials</code> are more complex you might need to set <code>AWS_SDK_LOAD_CONFIG=1</code> for Terraform to work correctly:</p> <pre><code>export AWS_SDK_LOAD_CONFIG=1\n</code></pre> </li> <li> <p>Clone the Codacy chart repository and change to the directory that includes the provided Terraform configuration files:</p> <pre><code>git clone https://github.com/codacy/chart.git\ncd chart/docs/infrastructure/EKS/\n</code></pre> <p>This folder includes the following infrastructure stacks:</p> <ul> <li>backend: Optional S3 bucket for storing the Terraform state and a DynamoDB table for state locking</li> <li>main: Amazon EKS cluster, including the setup of all network and node infrastructure to go from zero to a fully functional cluster</li> </ul> <p>You must have administration privileges on AWS to deploy (and eventually destroy) this infrastructure. The policy file aws-terraform-minimum-admin-policy.json lists the minimum privileges that are required.</p> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/#2-set-up-the-terraform-state-storage-backend", "title": "2. Set up the Terraform state storage backend", "text": "<p>The backend stores the current and historical state of your infrastructure.</p> <p>Although using the backend is optional, we recommend that you deploy it, particularly if you're planning to use these Terraform templates to make modifications to the cluster in the future:</p> <ol> <li> <p>Initialize Terraform and deploy the infrastructure described in the <code>backend/</code> directory, then follow Terraform's instructions:</p> <pre><code>cd backend/\nterraform init &amp;&amp; terraform apply\n</code></pre> <p>This creates an Amazon S3 bucket with a unique name to save the infrastructure state.</p> </li> <li> <p>Take note of the value of <code>state_bucket_name</code> in the output of the command.</p> </li> <li> <p>Edit the <code>main/config.tf</code> file and follow the instructions included in the comments to set the name of the Amazon S3 bucket created above and enable the use of the backend in those infrastructure stacks.</p> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/#3-create-a-vanilla-amazon-eks-cluster", "title": "3. Create a vanilla Amazon EKS cluster", "text": "<p>Create a cluster that includes all the required network and node setup:</p> <ol> <li> <p>Initialize Terraform and deploy the infrastructure described in the <code>main/</code> directory, then follow Terraform's instructions:</p> <pre><code>cd ../main/\nterraform init &amp;&amp; terraform apply\n</code></pre> <p>This process takes around 10 minutes.</p> </li> <li> <p>Consider if you want to tailor the cluster to your needs by customizing the cluster configuration.</p> <p>The cluster configuration (such as the type and number of nodes, network CIDRs, etc.) is exposed as variables in the <code>main/variables.tf</code> file.</p> <p>To customize the defaults of that file we recommend that you use a variable definitions file and set the variables in a file named <code>terraform.tfvars</code> in the directory <code>main/</code>. The following is an example <code>terraform.tfvars</code>:</p> <pre><code>some_key = \"a_string_value\"\nanother_key = 3\nsometing_else = true\n</code></pre> <p>Subsequently running <code>terraform apply</code> loads the variables in the <code>terraform.tfvars</code> file by default:</p> <pre><code>terraform apply\n</code></pre> </li> <li> <p>Set up the kubeconfig file that stores the information needed by <code>kubectl</code> to connect to the new cluster by default:</p> <pre><code>aws eks update-kubeconfig --name codacy-cluster --alias codacy-cluster\n</code></pre> </li> <li> <p>Get information about the pods in the cluster to test that the cluster was created and that <code>kubectl</code> can successfully connect to the cluster:</p> <pre><code>kubectl get pods -A\n</code></pre> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/#4-prepare-to-set-up-the-ingress-controller", "title": "4. Prepare to set up the Ingress Controller", "text": "<p>Prepare your infrastructure for the Ingress Controller setup, which is performed later during the installation process:</p> <ol> <li> <p>Make sure that your network resources are correctly tagged, and create the following required tags if they are missing:</p> Resource Type Key = Value VPC <code>kubernetes.io/cluster/codacy-cluster</code> = <code>shared</code> Subnet (public) <code>kubernetes.io/cluster/codacy-cluster</code> = <code>shared</code><code>kubernetes.io/role/elb</code> = <code>1</code> Subnet (private) <code>kubernetes.io/cluster/codacy-cluster</code> = <code>shared</code><code>kubernetes.io/role/internal-elb</code> = <code>1</code> <p>For more information refer to the AWS documentation.</p> </li> <li> <p>Add the following chart repositories to Helm:</p> <pre><code>helm repo add stable https://charts.helm.sh/stable\nhelm repo update\n</code></pre> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/#5-install-the-nginx-ingress-controller", "title": "5. Install the NGINX Ingress Controller", "text": "<p>Install the NGINX Ingress Controller:</p> <ol> <li> <p>Download the configuration file <code>values-nginx.yaml</code> for the NGINX Ingress Controller.</p> <p>If you wish to use a private load balancer or restrict the IP range for the provisioned load balancer edit the file and enable the required annotation and/or the corresponding setting where indicated.</p> </li> <li> <p>Install the NGINX Ingress Controller.</p> <p>If you're using Kubernetes version &lt;=1.21, run:</p> <pre><code>kubectl create namespace codacy\nhelm upgrade --install --namespace codacy --version 1.39.0 codacy-nginx-ingress stable/nginx-ingress -f values-nginx.yaml\n</code></pre> <p>If you're using Kubernetes version 1.22 or later, run:</p> <pre><code>kubectl create namespace codacy\nhelm repo add ingress-nginx https://kubernetes.github.io/ingress-nginx\nhelm repo update\nhelm upgrade --install --namespace codacy --version 4.8.3 nginx-ingress ingress-nginx/ingress-nginx -f values-nginx.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/infrastructure/eks-quickstart/#uninstalling-the-amazon-eks-cluster", "title": "Uninstalling the Amazon EKS cluster", "text": "<p>Warning</p> <p>If you proceed beyond this point you'll permanently delete and break things.</p> <ol> <li> <p>Delete the Kubernetes cluster.</p> <p>Run the following command in the <code>main/</code> directory:</p> <pre><code>terraform destroy\n</code></pre> <p>This process takes around 10 minutes.</p> </li> <li> <p>Remove the Terraform backend.</p> <p>If you created the Terraform backend with the provided stack you can now safely delete it.</p> <p>The backend is purposely created with extra settings to prevent its accidental destruction. To destroy it cleanly you must first disable these settings by editing the file <code>backend/state_and_lock.tf</code> and following the instructions included in the comments.</p> <p>Afterwards, run the following command in the <code>backend/</code> directory:</p> <pre><code>terraform apply &amp;&amp; terraform destroy\n</code></pre> <p>Note that you first have to run <code>terraform apply</code> to update the settings, and only then will <code>terraform destroy</code> be able to destroy the backend.</p> </li> </ol>"}, {"location": "chart/infrastructure/microk8s-quickstart/", "title": "Creating a MicroK8s cluster", "text": "<p>Follow the instructions below to set up a MicroK8s instance from scratch, including all the necessary dependencies and configurations.</p> <p>MicroK8s is a lightweight, fully conformant, single-package Kubernetes developed by Canonical. The project is publicly available on GitHub.</p>"}, {"location": "chart/infrastructure/microk8s-quickstart/#1-prepare-your-environment", "title": "1. Prepare your environment", "text": "<p>Prepare your environment to set up the MicroK8s instance.</p> <ul> <li> <p>You will need a machine running Ubuntu Server 20.04 LTS that:</p> <ul> <li>Is correctly provisioned with the resources described for MicroK8s in the system requirements</li> <li>Is able to establish a connection to the PostgreSQL instance described in the system requirements</li> </ul> </li> <li> <p>Make sure that you have Helm version 3.8.1 installed.</p> </li> </ul> <p>The next steps assume that you're starting from a clean install of Ubuntu Server and require that you run commands on a local or remote command line session on the machine.</p>"}, {"location": "chart/infrastructure/microk8s-quickstart/#2-installing-microk8s", "title": "2. Installing MicroK8s", "text": "<p>Install MicroK8s on the machine:</p> <ol> <li> <p>Make sure that the package <code>nfs-common</code> is installed:</p> <pre><code>sudo apt update &amp;&amp; sudo apt install nfs-common -y\n</code></pre> </li> <li> <p>Install MicroK8s from the <code>1.19/stable</code> channel:</p> <pre><code>sudo snap install microk8s --classic --channel=1.19/stable\nsudo usermod -a -G microk8s $USER\nsudo su - $USER\n</code></pre> </li> <li> <p>Check that MicroK8s is running:</p> <pre><code>microk8s.status --wait-ready\n</code></pre> </li> <li> <p>If you're running MicroK8s using a single node, disable high-availability clustering for improved performance:</p> <pre><code>microk8s.disable ha-cluster\n</code></pre> </li> </ol>"}, {"location": "chart/infrastructure/microk8s-quickstart/#3-configuring-microk8s", "title": "3. Configuring MicroK8s", "text": "<p>Now that MicroK8s is running on the machine we can proceed to enabling the necessary addons:</p> <ol> <li> <p>Configure MicroK8s to allow privileged containers:</p> <pre><code>sudo mkdir -p /var/snap/microk8s/current/args\nsudo echo \"--allow-privileged=true\" &gt;&gt; /var/snap/microk8s/current/args/kube-apiserver\nmicrok8s.status --wait-ready\n</code></pre> </li> <li> <p>Enable the following MicroK8s addons:</p> <pre><code>microk8s.enable dns\nmicrok8s.status --wait-ready\nmicrok8s.enable storage\nmicrok8s.status --wait-ready\nmicrok8s.enable ingress\nmicrok8s.status --wait-ready\n</code></pre> <p>Important</p> <p>Check the output of the commands to make sure that all the addons are enabled correctly.</p> <p>If by chance any of the addons fails to be enabled, re-execute the <code>microk8s.enable</code> command for that addon.</p> </li> <li> <p>Restart MicroK8s and its services to make sure that all configurations are working:</p> <pre><code>microk8s.stop\nmicrok8s.start\nmicrok8s.status --wait-ready\n</code></pre> </li> <li> <p>Export your kubeconfig so that Helm knows on which cluster to install the charts:</p> <pre><code>microk8s.config &gt; ~/.kube/config\n</code></pre> </li> <li> <p>The addons are now enabled and the MicroK8s instance bootstrapped. However, we must wait for some MicroK8s pods to be ready, as failing to do so can result in the pods entering a <code>CrashLoopBackoff</code> state:</p> <pre><code>microk8s.kubectl wait -n kube-system --for=condition=Ready pod -l k8s-app=kube-dns\nmicrok8s.kubectl wait -n kube-system --for=condition=Ready pod -l k8s-app=hostpath-provisioner\n# If the following command fails, you probably installed the wrong MicroK8s version\nmicrok8s.kubectl wait --all-namespaces --for=condition=Ready pod -l name=nginx-ingress-microk8s\n</code></pre> </li> <li> <p>Verify that the MicroK8s configuration was successful:</p> <pre><code>microk8s.status --wait-ready\n</code></pre> <p>The output of the command should be the following:</p> <pre><code>microk8s is running\naddons:\nknative: disabled\njaeger: disabled\nfluentd: disabled\ngpu: disabled\ncilium: disabled\nstorage: enabled\nregistry: disabled\nrbac: disabled\ningress: enabled\ndns: enabled\nmetrics-server: disabled\nlinkerd: disabled\nprometheus: disabled\nistio: disabled\ndashboard: disabled\n</code></pre> </li> </ol> <p>After these steps you have ensured that DNS, HTTP, and NGINX Ingress are enabled and working properly inside the MicroK8s instance.</p>"}, {"location": "chart/infrastructure/microk8s-quickstart/#notes-on-installing-codacy", "title": "Notes on installing Codacy", "text": "<p>You can now follow the generic Codacy installation instructions but please note the following:</p> <ul> <li> <p>You must execute all <code>kubectl</code> commands as <code>microk8s.kubectl</code> commands instead.</p> <p>To simplify this, we suggest that you create an alias so that you can run the commands directly as provided on the instructions:</p> <pre><code>alias kubectl=microk8s.kubectl\n</code></pre> </li> <li> <p>When running the <code>helm upgrade</code> command that installs the Codacy chart, you will be instructed to also use the file <code>values-microk8s.yaml</code> that downsizes some component limits, making it easier to fit Codacy in the lightweight MicroK8s solution.</p> </li> </ul>"}, {"location": "chart/maintenance/database/", "title": "Database migration guide", "text": "<p>Migrating databases between pods is a straightforward process with 3 steps:</p> <ol> <li>Dump the databases to a dump file.</li> <li>Apply the dump file.</li> <li>Delete the dump file.</li> </ol> <p>You will have to dump all the following databases:</p> <ol> <li>accounts</li> <li>analysis</li> <li>filestore</li> <li>jobs</li> <li>metrics</li> <li>results</li> </ol>"}, {"location": "chart/maintenance/database/#requirements", "title": "Requirements", "text": "<p>The following operations must be executed by a user which has elevated access (<code>SUPERUSER</code>) in the Postgres databases.</p>"}, {"location": "chart/maintenance/database/#dumping-your-current-data-out-of-a-running-postgres", "title": "Dumping your current data out of a running Postgres", "text": "<p>You will need to know the following:</p> <ul> <li><code>$HOSTNAME</code> - the hostname where the database is located.</li> <li><code>$DB_USER</code> - the username with privileged access to the database that will perform the dump.</li> <li><code>$DB</code> - the database that you would like to export.</li> <li><code>$DB_PASSWORD</code> - the database password.</li> </ul>"}, {"location": "chart/maintenance/database/#pg_dump", "title": "pg_dump", "text": "<p>The following command lets you extract a given database into a dump file:</p> <pre><code>PGPASSWORD=$DB_PASSWORD pg_dump -h $SRC_HOSTNAME -p $SRC_HOSTPORT -U $DB_USER --clean -Fc $db &gt; /tmp/$db.dump\n</code></pre> <p>This will dump the file with the <code>.dump</code> extension into the <code>/tmp</code> folder.</p> <p>For more information and additional options, please check the official documentation.</p>"}, {"location": "chart/maintenance/database/#pg_restore", "title": "pg_restore", "text": "<p>To restore a database, you can run a <code>pg_restore</code> command to consume the dump file and replicate the data onto Postgres:</p> <pre><code>PGPASSWORD=$DB_PASSWORD pg_restore -h $DEST_HOSTNAME -p $DEST_HOSTPORT -U $DB_USER -j 8 -d $db -n public --clean $db.dump\n</code></pre> <p>With the custom format from <code>pg_dump</code> (by using <code>-Fc</code>) we can now invoke <code>pg_restore</code> with multiple parallel jobs. This should make the restoration of the databases quicker, depending on which value you provide for the number of parallel jobs to execute. We provide a value of 8 parallel jobs in the example above (<code>-j 8</code>).</p> <p>Note</p> <p>If you run into any problems while restoring, make sure that you have the database created in that Postgres instance (e.g. before restoring the jobs database the Postgres instance should have an empty database called <code>jobs</code> created there).</p> <p>For more information and additional options, please check the official documentation.</p>"}, {"location": "chart/maintenance/database/#sample-script", "title": "Sample script", "text": "<p>Assuming you have the same <code>$DB_USER</code> and <code>$DB_PASSWORD</code>, and that you want to migrate all the databases from the same hostname to the same destination hostname, you could migrate your databases with the following sample script:</p> <pre><code>SRC_HOSTNAME=$1\nSRC_HOSTPORT=$2\nDEST_HOSTNAME=$3\nDEST_HOSTPORT=$4\nDB_USER=$5\nDB_PASSWORD=$6\n\ndeclare -a dbs=(accounts analysis filestore jobs metrics results)\nfor db in ${dbs[@]}\ndo\n  PGPASSWORD=$DB_PASSWORD pg_dump -h $SRC_HOSTNAME -p $SRC_HOSTPORT -U $DB_USER --clean -Fc $db &gt; /tmp/$db.dump\n  PGPASSWORD=$DB_PASSWORD pg_restore -h $DEST_HOSTNAME -p $DEST_HOSTPORT -U $DB_USER -d $db -n public --clean $db.dump\ndone\n</code></pre> <p>As an example, you could run the script as follows:</p> <pre><code>migrateDBs.sh postgres\u2013instance1.us-east-1.rds.amazonaws.com 25060 postgres\u2013instance1.eu-west-1.rds.amazonaws.com 25060 super_user secret_password\n</code></pre>"}, {"location": "chart/maintenance/license/", "title": "Updating your Codacy license", "text": "<p>Some changes to your Codacy plan require that you update your Codacy Self-hosted license with a new one provided by a Codacy representative:</p> <ol> <li> <p>Edit the value of <code>codacy-api.config.license</code> in the <code>values-production.yaml</code> file that you used to install Codacy:</p> <pre><code>codacy-api:\n  config:\n    license: &lt;--- insert your Codacy license here ---&gt;\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version 14.0.0 \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol>"}, {"location": "chart/maintenance/license/#checking-the-expiration-date-of-your-codacy-license", "title": "Checking the expiration date of your Codacy license", "text": "<p>To check the expiration date of your Codacy license, do the following:</p> <ol> <li> <p>Click the Admin link in the top right-hand corner.</p> </li> <li> <p>On the Dashboard page, search for your organization and click the organization identifier to navigate to its details.</p> </li> <li> <p>On the Organization details, check your Plan expiry date.</p> </li> </ol>"}, {"location": "chart/maintenance/uninstall/", "title": "Uninstalling Codacy", "text": "<p>To ensure a clean removal you should uninstall Codacy Self-hosted before destroying the cluster.</p> <p>To do so run:</p> <pre><code>helm -n codacy uninstall codacy\nkubectl -n codacy delete --all pod &amp;\nkubectl -n codacy delete --all pvc &amp;\nkubectl -n codacy delete --all job &amp;\nsleep 5\nkubectl -n codacy patch pvc -p '{\"metadata\":{\"finalizers\":null}}' $(kubectl -n codacy get pvc -o jsonpath='{.items[*].metadata.name}')\nsleep 5\nkubectl -n codacy delete pod $(kubectl -n codacy get pod -o jsonpath='{.items[*].metadata.name}') --force --grace-period=0\nkubectl -n codacy get pod &amp;\nkubectl -n codacy get pvc &amp;\nkubectl -n codacy get job &amp;\n</code></pre> <p>Note that the deletion of <code>pvc</code>s in the above command has to run in the background due to a cyclic dependency in one of the components. If you're unsure of the effects of these commands please run each of the <code>bash</code> subcommands and validate their output:</p> <pre><code>echo \"PVCs to delete:\"\nkubectl get pvc -n codacy -o jsonpath='{.items[*].metadata.name}'\necho \"PODS to delete:\"\nkubectl get pods -n codacy -o jsonpath='{.items[*].metadata.name}'\n</code></pre>"}, {"location": "chart/maintenance/upgrade/", "title": "Upgrading Codacy", "text": "<p>To upgrade Codacy Self-hosted to the latest stable version:</p> <ol> <li> <p>Check the release notes for all Codacy Self-hosted versions between your current version and the most recent version for breaking changes and follow the instructions provided carefully.</p> <p>Warning</p> <p>Failing to follow the steps to deal with breaking changes can cause the upgrade to fail or cause problems while Codacy is running.</p> <p>In particular, Codacy Self-hosted v5.0.0 drops the support for legacy manual organizations.</p> <p>Tip</p> <p>To see the version of your Codacy Self-hosted instance click your avatar on the top right-hand corner of any Codacy page: </p> <p></p> </li> <li> <p>Store all your currently defined configuration values in a file:</p> <pre><code>helm get values codacy \\\n                --namespace codacy \\\n                --output yaml &gt; codacy.yaml\n</code></pre> <p>Note</p> <p>If you installed Codacy on a Kubernetes namespace different from <code>codacy</code>, make sure that you adjust the namespace when executing the commands in this page.</p> </li> <li> <p>Review the values stored in the file <code>codacy.yaml</code>, making any changes if necessary.</p> </li> <li> <p>Perform the upgrade using the values stored in the file:</p> <pre><code>helm repo update\nhelm upgrade codacy codacy-stable/codacy \\\n             --version 14.0.0 \\\n             --namespace codacy \\\n             --values codacy.yaml\n</code></pre> </li> <li> <p>Update your Codacy command-line tools to the versions with the Git tag <code>self-hosted-14.0.0</code>:</p> <ul> <li>Codacy Analysis CLI</li> <li>Codacy Coverage Reporter</li> </ul> </li> </ol>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/", "title": "Kubernetes cheatsheet", "text": ""}, {"location": "chart/troubleshoot/k8s-cheatsheet/#debugging-using-events", "title": "Debugging using events", "text": "<p>Important</p> <p>Always check the pods and deployment versions in the namespace to make sure you aren't debugging an issue in a version that's not the one you would expect</p> <p>Events are a great way to understand what's going on under the hood in a Kubernetes cluster. By looking at them you can see if probes are failing, and other important signals from your cluster.</p> <p>Get events for the whole namespace:</p> <pre><code>kubectl -n codacy get events --sort-by=.metadata.creationTimestamp\n</code></pre> <p>Get error events:</p> <pre><code>kubectl -n codacy get events --sort-by=.metadata.creationTimestamp --field-selector type=Error\n</code></pre> <p>Get warning events:</p> <pre><code>kubectl -n codacy get events --sort-by=.metadata.creationTimestamp --field-selector type=Warning\n</code></pre> <p>Get events from a specific pod:</p> <pre><code>kubectl -n codacy get events --sort-by=.metadata.creationTimestamp --field-selector involvedObject.name=&lt;POD-NAME&gt;\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#helm", "title": "Helm", "text": "<p>Check all the previous releases in your namespace:</p> <pre><code>helm -n codacy history codacy\n</code></pre> <p>Rollback to a specific revision:</p> <pre><code>helm -n codacy rollback codacy &lt;REVISION&gt;\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#edit-configmap", "title": "Edit configmap", "text": "<pre><code>kubectl get configmaps\n</code></pre> <p>and</p> <pre><code>kubectl edit configmap &lt;configmap-name&gt;\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#restart-deployment-of-daemonset", "title": "Restart deployment of daemonset", "text": ""}, {"location": "chart/troubleshoot/k8s-cheatsheet/#daemonsets", "title": "daemonsets", "text": "<pre><code>kubectl get daemonsets\n</code></pre> <p>and</p> <pre><code>kubectl rollout restart daemonset/&lt;daemonset-name&gt;\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#deployment", "title": "deployment", "text": "<pre><code>kubectl get deployment\n</code></pre> <p>and</p> <pre><code>kubectl rollout restart deployment/&lt;deployment-name&gt;\n</code></pre> <p>and</p> <pre><code>kubectl rollout status deployment/&lt;deployment-name&gt; -w\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#read-logs", "title": "Read logs", "text": ""}, {"location": "chart/troubleshoot/k8s-cheatsheet/#daemonset-with-multiple-containers", "title": "daemonset with multiple containers", "text": "<pre><code>kubectl logs daemonset/&lt;daemonset-name&gt; &lt;container-name&gt; -f\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#service", "title": "service", "text": "<pre><code>kubectl get svc\n</code></pre> <p>and</p> <pre><code>kubectl logs -l $(kubectl get svc/&lt;service-name&gt; -o=json | jq \".spec.selector\" | jq -r 'to_entries|map(\"\\(.key)=\\(.value|tostring)\")|.[]' | sed -e 'H;${x;s/\\n/,/g;s/^,//;p;};d') -f\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#open-shell-inside-container", "title": "Open shell inside container", "text": "<pre><code>kubectl exec -it daemonset/&lt;daemonset-name&gt; -c &lt;container-name&gt; sh\n</code></pre> <p>or</p> <pre><code>kubectl exec -it deployment/&lt;deployment-name&gt; sh\n</code></pre>"}, {"location": "chart/troubleshoot/k8s-cheatsheet/#microk8s", "title": "MicroK8s", "text": ""}, {"location": "chart/troubleshoot/k8s-cheatsheet/#session-manager-ssh", "title": "Session Manager SSH", "text": "<p>When using AWS Session Manager, to connect to the instance where you installed microk8s, since the CLI is very limited you will benefit from using these aliases:</p> <pre><code>alias kubectl='sudo microk8s.kubectl -n &lt;namespace-name&gt;'\nalias helm='sudo helm'\n</code></pre>"}, {"location": "chart/troubleshoot/logs-collect/", "title": "Collecting logs for Support", "text": "<p>To help troubleshoot issues, obtain the logs from your Codacy Self-hosted instance and send them to Codacy's Support:</p> <ol> <li> <p>Run the following command on a machine with network access to the Codacy cluster, replacing <code>&lt;namespace&gt;</code> with the namespace in which Codacy was installed:</p> <pre><code>bash &lt;(curl -fsSL https://raw.githubusercontent.com/codacy/chart/master/docs/troubleshoot/extract-codacy-logs.sh) \\\n    -n &lt;namespace&gt;\n</code></pre> <p>This will download the logs of the last 7 days as an archive file with the name <code>codacy_logs_&lt;timestamp&gt;.zip</code>.</p> <p>Tip</p> <p>You can also download the script extract-codacy-logs.sh to run it manually.</p> </li> <li> <p>Send the compressed logs to Codacy's support team at support@codacy.com for analysis.</p> <p>Note</p> <p>If the file is too big, please upload the file to either a cloud storage service such as Google Drive or to a file transfer service such as WeTransfer and send us the link to the file instead.</p> <p>Alternatively, to reduce the size of the compressed archive file, retrieve logs for a smaller number of days by replacing <code>&lt;days&gt;</code> with a number between 1 and 7:</p> <pre><code>bash &lt;(curl -fsSL https://raw.githubusercontent.com/codacy/chart/master/docs/troubleshoot/extract-codacy-logs.sh) \\\n    -n &lt;namespace&gt; -d &lt;days&gt;\n</code></pre> </li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/", "title": "Troubleshooting Codacy Self-hosted", "text": "<p>This page includes information to help you troubleshoot issues that you may come across while installing, configuring, and operating Codacy Self-hosted.</p> <p>If the information provided on this page isn't enough to solve your issue, contact support@codacy.com providing:</p> <ul> <li>The description of the issue</li> <li>All the information that you were able to obtain while following these troubleshooting instructions</li> <li>The collected logs of your Codacy instance</li> <li> <p>The version of your Codacy instance</p> <p>Tip</p> <p>To see the version of your Codacy Self-hosted instance click your avatar on the top right-hand corner of any Codacy page: </p> <p></p> </li> </ul>"}, {"location": "chart/troubleshoot/troubleshoot/#git-provider-integrations", "title": "Git provider integrations", "text": "<p>The following sections help you troubleshoot the integration of Codacy with your Git provider.</p>"}, {"location": "chart/troubleshoot/troubleshoot/#github", "title": "GitHub Cloud and GitHub Enterprise authentication", "text": ""}, {"location": "chart/troubleshoot/troubleshoot/#404-error", "title": "404 error", "text": "<p>While trying to authenticate on GitHub you get the following error message:</p> <p></p> <p>This might mean that there is a mismatch in the Client ID that Codacy is using to authenticate on GitHub.</p> <p>To solve this issue:</p> <ol> <li>Make sure that the value of <code>clientId</code> in your <code>values-production.yaml</code> file is the same as the Client ID of the GitHub App that you created</li> <li>If the values were different, update your configuration and re-execute the <code>helm upgrade</code> command as described for GitHub Cloud or GitHub Enterprise</li> </ol> <p>If the error persists:</p> <ol> <li>Take note of the parameter <code>client_id</code> in the URL of the GitHub error page (for example, <code>Iv1.0000000000000000</code>)</li> <li>Check if the value of the parameter matches the value of the Client ID of your GitHub App</li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/#gitlab", "title": "GitLab Cloud and GitLab Enterprise authentication", "text": ""}, {"location": "chart/troubleshoot/troubleshoot/#invalid-redirect-uri", "title": "Invalid redirect URI", "text": "<p>While trying to authenticate on GitLab you get the following error message:</p> <p></p> <p>This might mean that the redirect URIs are not correct in the GitLab application that Codacy is using to authenticate on GitLab.</p> <p>To solve this issue:</p> <ol> <li>Open the GitLab application that you created on GitLab Cloud or GitLab Enterprise</li> <li>Make sure that all the redirect URIs have the correct protocol for the Codacy instance endpoints, either <code>http://</code> or <code>https://</code></li> <li>Make sure that all the redirect URIs have the full path with the correct case, since the field is case-sensitive</li> </ol> <p>If the error persists:</p> <ol> <li>Take note of the parameter <code>redirect_uri</code> in the URL of the GitLab error page (for example, <code>https%3A%2F%2Fcodacy.example.com%2Flogin%2FGitLab</code> or <code>https%3A%2F%2Fcodacy.example.com%2Flogin%2FGitLabEnterprise</code>)</li> <li>Decode the value of the parameter using a tool such as urldecoder.com (for example, <code>https://codacy.example.com/login/GitLab</code> or <code>https://codacy.example.com/login/GitLabEnterprise</code>)</li> <li>Check if the decoded value matches one of the redirect URIs of your GitLab application</li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/#unknown-client", "title": "Unknown client", "text": "<p>While trying to authenticate on GitLab you get the following error message:</p> <p></p> <p>This might mean that there is a mismatch in the Application ID that Codacy is using to authenticate on GitLab.</p> <p>To solve this issue:</p> <ol> <li>Make sure that the value of <code>clientId</code> in your <code>values-production.yaml</code> file is the same as the Application ID of the GitLab Cloud or GitLab Enterprise application that you created</li> <li>If the values were different, update your configuration and re-execute the <code>helm upgrade</code> command as described for GitLab Cloud or GitLab Enterprise</li> </ol> <p>If the error persists:</p> <ol> <li>Take note of the parameter <code>client_id</code> in the URL of the GitLab error page (for example, <code>cca35a2a1f9b9b516ac927d82947bd5149b0e57e922c9e5564ac092ea16a3ccd</code>)</li> <li>Check if the value of the parameter matches the value of the Application ID of your GitLab application</li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/#bitbucket-cloud", "title": "Bitbucket Cloud authentication", "text": ""}, {"location": "chart/troubleshoot/troubleshoot/#invalid-client_id", "title": "Invalid client_id", "text": "<p>While trying to authenticate on Bitbucket Cloud you get the following error message:</p> <p></p> <p>This might mean that there is a mismatch in the OAuth consumer Client ID that Codacy is using to authenticate on Bitbucket Cloud.</p> <p>To solve this issue:</p> <ol> <li>Make sure that the value of <code>key</code> in your <code>values-production.yaml</code> file is the same as the Key of the Bitbucket OAuth consumer that you created</li> <li>If the values were different, update your configuration and re-execute the <code>helm upgrade</code> command as described for Bitbucket Cloud</li> </ol> <p>If the error persists:</p> <ol> <li>Take note of the parameter <code>client_id</code> in the URL of the Bitbucket Cloud error page (for example, <code>r8QJDkkxj8unYfg4Bd</code>)</li> <li>Check if the value of the parameter matches the value of the Client ID of your Bitbucket OAuth consumer</li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/#accessing-the-rabbitmq-dashboard", "title": "Accessing the RabbitMQ dashboard", "text": "<p>We use RabbitMQ for the internal message queue between our components.</p> <p>If you need to access the RabbitMQ dashboard:</p> <ol> <li> <p>Create a <code>port-forward</code> from the <code>rabbitmq</code> pod to your local machine, replacing <code>&lt;namespace&gt;</code> with the namespace in which Codacy was installed:</p> <pre><code>kubectl port-forward codacy-rabbitmq-ha-0 15672:15672 --namespace=&lt;namespace&gt;\n</code></pre> <p>Important</p> <p>If you're using MicroK8s use <code>microk8s.kubectl</code> instead of <code>kubectl</code>.</p> </li> <li> <p>Access the RabbitMQ dashboard on the address <code>localhost:15672</code>, and log in with the configured RabbitMQ credentials.</p> <p>The default RabbitMQ credentials are the following:</p> <ul> <li>Username: <code>rabbitmq-codacy</code></li> <li>Password: <code>rabbitmq-codacy</code></li> </ul> </li> </ol>"}, {"location": "chart/troubleshoot/troubleshoot/#missing-new-tools", "title": "Missing new tools", "text": "<p>If the Code patterns page of your repositories doesn't list a new tool that was included in a new Codacy version, force the list of available tools to refresh by running the following command on any <code>codacy-engine-*</code> pod:</p> <pre><code>curl -X POST localhost:9000/api/v1/engine/initialize\n</code></pre>"}, {"location": "chart/troubleshoot/troubleshoot/#upgrade-failed-cannot-patch-codacy-minio", "title": "Upgrade failed: cannot patch \"codacy-minio\"", "text": "<p>If you download and use an updated <code>values-production.yaml</code> file while upgrading to Codacy Self-hosted 9.0.0, you'll get the following error:</p> <p>Error: UPGRADE FAILED: cannot patch \"codacy-minio\" with kind PersistentVolumeClaim: persistentvolumeclaims \"codacy-minio\" is forbidden: only dynamically provisioned pvc can be resized and the storageclass that provisions the pvc must support resize</p> <p>This happens because we updated the MinIO PVC size. As a workaround, you can either:</p> <ul> <li> <p>Reset the PVC size back to the original value of 20Gi on your <code>values.yaml</code> file:</p> <pre><code>minio:\n  fullnameOverride: codacy-minio\n  persistence:\n    size: 20Gi\n</code></pre> </li> <li> <p>Uninstall your current version of Codacy and reinstall Codacy Self-hosted 9.0.0 directly. Your data won't be impacted by the uninstall since it's stored on the database.</p> </li> </ul>"}, {"location": "codacy-api/api-tokens/", "title": "API tokens", "text": "<p>Codacy provides account and repository-level API tokens that allow you to:</p> <ul> <li>Upload coverage data to Codacy</li> <li>Upload to Codacy the results of running client-side analysis tools</li> <li>Authenticate when using the Codacy API</li> </ul> <p>The sections below provide details about the two types of API tokens and instructions on how to generate and revoke them.</p> <p>Warning</p> <p>Never write API tokens to your configuration files and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy.</p> <p>It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this.</p>"}, {"location": "codacy-api/api-tokens/#account-api-tokens", "title": "Generating and revoking account API tokens", "text": "<p>Account API tokens are defined at the Codacy user account level. Each account API token authorizes access to the same organizations, repositories, and operations as the roles and permissions of the owner of the account.</p> <p>Important</p> <p>If you're using an account API token to upload coverage be sure to check the roles that your Git provider account must have to authorize uploading coverage to Codacy.</p> <p>Use a dedicated service account to integrate Codacy with your repositories. This prevents disruption of service if the user who created an account API token loses access to the repositories, which may happen when a user leaves the team or the organization.</p> <p>You can create new account API tokens programmatically using the Codacy API or using the Codacy UI:</p> <ol> <li> <p>Open your account, tab Access management.</p> </li> <li> <p>Click the button Create API token under Account API tokens.</p> <p>Tip</p> <p>You can create multiple account API tokens. This can be useful to have a more flexible control by revoking only a specific token.</p> <p></p> </li> </ol> <p>To revoke an account API token, click the \"X\" next to the token. After this, all applications or services using that token to access the Codacy API will fail to authenticate and will receive the reply <code>{\"error\":\"not found\"}</code>.</p>"}, {"location": "codacy-api/api-tokens/#repository-api-tokens", "title": "Generating and revoking repository API tokens", "text": "<p>Repository API tokens are defined on individual repositories. Each repository API token only authorizes access to the corresponding repository.</p> <p>You can create new repository API tokens programmatically using the Codacy API or using the Codacy UI:</p> <ol> <li> <p>Open your repository Settings, tab Integrations.</p> </li> <li> <p>Click the button Create API token under Repository API tokens.</p> <p>Tip</p> <p>You can create multiple (up to 100) API tokens per repository. This can be useful to have a more flexible control by revoking only a specific token.</p> <p></p> </li> </ol> <p>To revoke a repository API token, click the X next to the token. After this, all applications or services using that token to access the Codacy API will fail to authenticate and will receive the reply <code>{\"error\":\"not found\"}</code>.</p>"}, {"location": "codacy-api/api-tokens/#see-also", "title": "See also", "text": "<ul> <li>Adding coverage to your repository</li> <li>Client-side tools</li> <li>Creating repository API tokens programmatically</li> </ul>"}, {"location": "codacy-api/using-the-codacy-api/", "title": "Using the Codacy API", "text": "<p>The Codacy API allows you to programmatically retrieve and analyze data from Codacy and perform a few configuration changes.</p> <p>Codacy supports two API versions but we strongly recommend using the new API v3 when possible since it's the version being actively developed. Import the OpenAPI 2.0 definition provided below into your development tools to help bootstrap your integration with Codacy.</p> API v3 (recommended) API v2 Endpoint documentation https://api.codacy.com/api/api-docs https://api.codacy.com/api-docs OpenAPI 2.0 definition https://api.codacy.com/api/api-docs/swagger.yaml -            Base URL <code>https://api.codacy.com/api/v3</code> <code>https://api.codacy.com/</code> Overview <p>Use the new endpoints to access and manipulate the following resources, among others:<p> <ul> <li>Analysis details, issue and ignored issue details, repository quality settings</li> <li>Account details and API token management</li> <li>Organization details and join request management</li> <li>People management</li> <li>Repository management and file details</li> <li>Tool and code pattern details</li> </ul> <p>Use the legacy endpoints to access and manipulate the following resources:</p> <ul> <li>Commit code quality details and deltas</li> <li>Project details and configurations, file code quality and issue details</li> </ul> <p>Important</p> <p>If you're using Codacy Self-hosted you must use your own Codacy instance domain name in the API URLs to access the endpoint documentation matching your Codacy Self-hosted version and to call the endpoints on your Codacy instance.</p> <p>For example, use the following URLs for the API v3 endpoint documentation and endpoints:</p> <pre><code>https://&lt;your Codacy instance domain name&gt;/api/api-docs\n\nhttps://&lt;your Codacy instance domain name&gt;/api/v3\n</code></pre>"}, {"location": "codacy-api/using-the-codacy-api/#authenticating-requests", "title": "Authenticating requests", "text": "<p>Most API endpoints require that you authenticate using an API token. After obtaining the necessary tokens, include them in your request headers using the format <code>api-token: &lt;your account API token&gt;</code> or <code>project-token: &lt;your repository API token&gt;</code>.</p> <p>Note</p> <p>Currently, all API v3 endpoints that require authentication must use account API tokens, while the API v2 endpoints require either account or repository API tokens.</p> <p>Performing <code>GET</code> requests for public repositories doesn't require authentication.</p> <p>For example, to make a request to an API v3 endpoint that requires an account API token:</p> <pre><code>curl -X GET 'https://api.codacy.com/api/v3/user/organizations/gh' \\\n     -H 'api-token: &lt;your account API token&gt;'\n</code></pre> <p>Or to make a request to an API v2 endpoint that requires a repository API token:</p> <pre><code>curl -X GET 'https://api.codacy.com/2.0/commit/da275c14ffab6e402dcc6009828067ffa44b7ee0' \\\n     -H 'project-token: &lt;your repository API token&gt;'\n</code></pre>"}, {"location": "codacy-api/using-the-codacy-api/#using-parameters-in-requests", "title": "Using parameters in requests", "text": "<p>Most API endpoints require that you specify parameters.</p> <p>For <code>GET</code> requests, specify parameters directly as path segments of the endpoint URLs. Some endpoints also accept optional query string parameters.</p> <p>For example, to call the endpoint getRepositoryWithAnalysis with the parameters:</p> <ul> <li>provider: <code>gh</code></li> <li>remoteOrganizationName: <code>codacy</code></li> <li>repositoryName: <code>docs</code></li> <li>branch (query string): <code>api-overview</code></li> </ul> <pre><code>curl -X GET 'https://app.codacy.com/api/v3/analysis/organizations/gh/codacy/repositories/docs?branch=api-overview' \\\n     -H 'api-token: &lt;your account API token&gt;'\n</code></pre> <p>For <code>POST</code>, <code>PATCH</code>, and <code>DELETE</code> requests, besides the parameters included in the URL you may also need to include a JSON body.</p> <p>For example, to call the endpoint searchRepositoryIssues specifying the issue levels <code>Error</code> and <code>Warning</code> in the body:</p> <pre><code>curl -X POST 'https://app.codacy.com/api/v3/analysis/organizations/gh/codacy/repositories/docs/issues/search' \\\n     -H 'api-token: &lt;your account API token&gt;' \\\n     -H 'Content-Type: application/json' \\\n     -d '{\"levels\": [\"Error\", \"Warning\"]}'\n</code></pre>"}, {"location": "codacy-api/using-the-codacy-api/#using-pagination", "title": "Using pagination", "text": "<p>Endpoints that return lists containing a potential large number of results use cursor-based pagination to return the results in small batches.</p> <p>These endpoints return the results together with a <code>pagination</code> object:</p> <ul> <li> <p>If the <code>pagination</code> object includes a <code>cursor</code>, obtain the next page of results by calling the endpoint again using the <code>cursor</code> from the previous response as a query string parameter</p> <p>If the <code>pagination</code> object doesn't include a <code>cursor</code>, the endpoint returned the last page of results</p> </li> <li> <p>Use the query string parameter <code>limit</code> to configure the number of results that the endpoint returns in each page. The maximum <code>limit</code> is 1000 and the default is 100</p> </li> <li>The <code>total</code> is the total number of results that the endpoint can return</li> </ul> <p>Note</p> <p>To make sure that you receive all results when calling an endpoint with pagination, repeat the process above until the response doesn't include the cursor to obtain another page of results.</p> <p>For example, the following command requests the first 10 repositories in the Codacy GitHub organization:</p> <pre><code>curl -X GET 'https://app.codacy.com/api/v3/organizations/gh/codacy/repositories?limit=10'\n     -H 'api-token: &lt;your account API token&gt;'\n</code></pre> <p>The response includes the first 10 results, as well as the cursor to obtain the next page of results:</p> <pre><code>{\n  \"data\": [\n    ...\n  ],\n  \"pagination\": {\n      \"cursor\": \"codacy_2\",\n      \"limit\": 10,\n      \"total\": 156\n  }\n}\n</code></pre> <p>To obtain the next page of results, it's necessary to include the <code>cursor</code> from the previous page as a parameter:</p> <pre><code>curl -X GET 'https://app.codacy.com/api/v3/organizations/gh/codacy/repositories?limit=10&amp;cursor=codacy_2'\n     -H 'api-token: &lt;your account API token&gt;'\n</code></pre> <p>If you continue requesting more pages the endpoint will eventually return a <code>pagination</code> object that doesn't include a <code>cursor</code>. This means that you've reached the last page of results:</p> <pre><code>{\n  \"data\": [\n    ...\n  ],\n  \"pagination\": {\n      \"limit\": 10,\n      \"total\": 156\n  }\n}\n</code></pre>"}, {"location": "codacy-api/using-the-codacy-api/#request-rate-limit", "title": "Request rate limit", "text": "<p>On Codacy Cloud the number of requests that you can perform to the Codacy API is rate limited to help us provide a reliable service:</p> <ul> <li>The limit is 2500 requests per 5 minutes and per source IP address</li> <li>When a request is rate limited, Codacy responds with an HTTP 503 or 504 error code and you should wait before attempting the request again</li> </ul> <p>Although it's possible for you to perform short bursts of requests to the Codacy API, you should always use a delay between requests to ensure that your API client doesn't hit the rate limits.</p> <p>The request rate limit doesn't apply to Codacy Self-hosted.</p>"}, {"location": "codacy-api/examples/adding-people-to-codacy-programmatically/", "title": "Adding people to Codacy programmatically", "text": "<p>There are scenarios where manually adding people on the Codacy UI is inconvenient or time-consuming. For example, you're adding many people to Codacy, such as when initially onboarding all developers within a team.</p> <p>To add people programmatically, use the Codacy API endpoint addPeopleToOrganization by performing an HTTP POST request to <code>/people</code>, specifying a list of email addresses in the body of the request:</p> <pre><code>curl -X POST https://app.codacy.com/api/v3/organizations/&lt;GIT_PROVIDER&gt;/&lt;ORGANIZATION&gt;/people \\\n  -H 'Content-Type: application/json' \\\n  -H 'api-token: &lt;API_KEY&gt;' \\\n  -d '[\"&lt;EMAIL#1&gt;\", \"&lt;EMAIL#2&gt;\"]'\n</code></pre> <p>Substitute the placeholders with your own values:</p> <ul> <li>API_KEY: Account API token used to authenticate on the Codacy API.</li> <li> <p>GIT_PROVIDER: Git provider hosting of the organization, using one of the values in the table below. For example, <code>gh</code> for GitHub Cloud.</p> Value Git provider <code>gh</code> GitHub Cloud <code>ghe</code> GitHub Enterprise <code>gl</code> GitLab Cloud <code>gle</code> GitLab Enterprise <code>bb</code> Bitbucket Cloud <code>bbe</code> Bitbucket Server </li> <li> <p>ORGANIZATION: Name of the organization on the Git provider. For example, <code>codacy</code>. You must have admin permissions over the organization on the Git provider.</p> </li> <li> <p>EMAIL#1...N: Email addresses of the people to be added. For example, <code>no-reply@codacy.com</code>.</p> </li> </ul>"}, {"location": "codacy-api/examples/adding-people-to-codacy-programmatically/#example-adding-people-from-a-file-containing-emails", "title": "Example: Adding people from a file containing emails", "text": "<p>We provide an example Bash script that adds all emails in a text file to Codacy. We suggest that you adapt the script to your specific scenario.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API.</li> <li>Defines the path and filename of the file containing the email addresses list.</li> <li>Uses <code>awk</code> and <code>sed</code> to read the email addresses list from a file.</li> <li>Calls the endpoint addPeopleToOrganization to add a list of email addresses to Codacy.</li> </ol> <pre><code>CODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nFILENAME=\"emails.txt\"\n\nEMAILS=`awk -vORS=, '{if(length($1)&gt;0) printf(\"\\\"%s\\\",\", $1)}' $FILENAME | sed 's/,$//'`\n\ncurl -X POST \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/people\" \\\n     -H 'Content-Type: application/json' \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n     -d \"[$EMAILS]\"\n</code></pre> <p>Expected format of the file containing the email addresses list:</p> <pre><code>$ cat emails.txt\nemail1@codacy.com\nemail2@codacy.com\nemail3@codacy.com\n\nemail4@codacy.com\n</code></pre>"}, {"location": "codacy-api/examples/adding-people-to-codacy-programmatically/#see-also", "title": "See also", "text": "<ul> <li>Adding people to your organization</li> </ul>"}, {"location": "codacy-api/examples/adding-repositories-to-codacy-programmatically/", "title": "Adding repositories to Codacy programmatically", "text": "<p>There are scenarios where manually adding Git repositories on the Codacy UI is inconvenient or time-consuming. For example:</p> <ul> <li>You want to add all new repositories to Codacy when they're created on the Git provider</li> <li>You're adding many repositories to Codacy, such as when initially adding all repositories in your Git provider organization</li> </ul> <p>To add repositories programmatically, use the Codacy API v3 endpoint addRepository by performing an HTTP POST request to <code>/repositories</code>, specifying the Git provider and the full path of the repository in the body of the request:</p> <pre><code>curl -X POST https://app.codacy.com/api/v3/repositories \\\n  -H 'Content-Type: application/json' \\\n  -H 'api-token: &lt;API_KEY&gt;' \\\n  -d '{\"provider\":\"&lt;GIT_PROVIDER&gt;\", \"repositoryFullPath\":\"&lt;REPOSITORY_FULL_PATH&gt;\"}'\n</code></pre> <p>Substitute the placeholders with your own values:</p> <ul> <li>API_KEY: Account API token used to authenticate on the Codacy API.</li> <li> <p>GIT_PROVIDER: Git provider hosting of the repository, using one of the values in the table below. For example, <code>gh</code> for GitHub Cloud.</p> Value Git provider <code>gh</code> GitHub Cloud <code>ghe</code> GitHub Enterprise <code>gl</code> GitLab Cloud <code>gle</code> GitLab Enterprise <code>bb</code> Bitbucket Cloud <code>bbe</code> Bitbucket Server </li> <li> <p>REPOSITORY_FULL_PATH: Name of the organization and repository on the Git provider, using the format <code>&lt;organization&gt;/&lt;repository&gt;</code>. For example, <code>codacy/docs</code>. You must have admin permissions over the repository on the Git provider.</p> <p>Important</p> <p>If you're using GitLab you must specify the full group path and the repository using the format <code>&lt;group&gt;/&lt;subgroup-1&gt;/.../&lt;subgroup-N&gt;/&lt;repository&gt;</code>.</p> </li> </ul>"}, {"location": "codacy-api/examples/adding-repositories-to-codacy-programmatically/#example-adding-all-repositories-in-a-github-organization", "title": "Example: Adding all repositories in a GitHub organization", "text": "<p>We provide an example Bash script that adds all repositories in a GitHub Cloud organization to Codacy. We suggest that you adapt the script to your specific scenario.</p> <p>Warning</p> <p>Since Codacy automatically analyzes new repositories, adding many repositories in a short time can cause delays in the analysis of other repositories depending on the size of the repositories, the sizing of the infrastructure, and the concurrent analysis configuration. For example:</p> Repositories added Expected delay 1 to 10 Small 11 to 100 Considerable More than 100 Extreme <p>To avoid these delays, add repositories in small batches or space out adding new repositories over time.</p> <p>The example script:</p> <ol> <li>Defines a GitHub personal access token, the GitHub organization name, and the account API token used to authenticate on the Codacy API.</li> <li>Calls the GitHub API to obtain the list of all repositories in the defined organization.</li> <li>Uses jq to return the value of <code>full_name</code> for each repository obtained in the JSON response. The <code>full_name</code> already includes the organization and repository names using the format <code>&lt;organization&gt;/&lt;repository&gt;</code>.</li> <li>For each repository, calls the endpoint addRepository to add a new repository specifying <code>gh</code> as the Git provider and the value of <code>full_name</code> as the full path of the repository.</li> <li>Checks the HTTP status code obtained in the response and performs basic error handling.</li> <li>Pauses a few seconds between requests to the Codacy API to avoid rate limiting.</li> </ol> <pre><code>#!/bin/bash\n\nGITHUB_AUTH_TOKEN=\"&lt;your GitHub personal access token&gt;\"\nGITHUB_ORG_NAME=\"&lt;your GitHub organization name&gt;\"\nCODACY_API_TOKEN=\"&lt;your account API token&gt;\"\n\nprintf \"Obtaining all repositories in the $GITHUB_ORG_NAME organization\\n\"\nfor repo in $(curl -s https://api.github.com/orgs/$GITHUB_ORG_NAME/repos -H \"Authorization: Bearer $GITHUB_AUTH_TOKEN\" | jq -r '.[] | .full_name'); do\n  printf \"Adding $repo to Codacy\\n\"\n  http_status=$(curl -X POST https://app.codacy.com/api/v3/repositories \\\n                     -H \"Content-Type: application/json\" \\\n                     -H \"api-token: $CODACY_API_TOKEN\" \\\n                     -d '{\"provider\":\"gh\", \"repositoryFullPath\":\"'$repo'\"}' \\\n                     -sSo /dev/null -w \"%{http_code}\")\n  case \"$http_status\" in\n    200) printf \"$repo added successfully\\n\"\n         ;;\n    401) printf \"Error: 401 Unauthorized, check the Codacy API token\\n\"\n         break\n         ;;\n    409) printf \"Error: 409 Conflict, $repo is already added to Codacy\\n\"\n         ;;\n      *) printf \"Error: $http_status HTTP status code\\n\"\n         break\n         ;;\n  esac\n  sleep 60 # Pause between repositories\ndone\n</code></pre> <p>Important</p> <p>For the sake of simplicity, the example doesn't consider paginated results obtained from the Codacy API. Learn how to use pagination to ensure that you process all results returned by the API.</p> <p>Besides this, the script doesn't consider paginated results obtained from the GitHub API. Learn how to use pagination on the GitHub API to ensure that you obtain all the repositories in your organization.</p>"}, {"location": "codacy-api/examples/creating-repository-api-tokens-programmatically/", "title": "Creating repository API tokens programmatically", "text": "<p>To create new repository API tokens for your Codacy repositories programmatically, use the Codacy API endpoint createRepositoryApiToken. You can also list all repository API tokens for a repository using the endpoint listRepositoryApiTokens.</p> <p>For example, if you're setting up coverage for all your repositories and prefer not to use a single account API token that grants the same permissions as an administrator, you need to create an individual repository API token for each repository.</p>"}, {"location": "codacy-api/examples/creating-repository-api-tokens-programmatically/#example-creating-a-repository-api-token-for-a-single-repository", "title": "Example: Creating a repository API token for a single repository", "text": "<p>This example creates a new repository API token for a repository and outputs the new token string.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API, the Git provider, the organization name, and the repository name passed as an argument to the script.</li> <li>Calls the endpoint createRepositoryApiToken to create a new repository API token and uses jq to obtain only the created token string.</li> </ol> <pre><code>#!/bin/bash\n\nCODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nREPOSITORY=$1\n\ncurl -sX POST \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/tokens\" \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n| jq -r \".data | .token\"\n</code></pre> <p>Example usage and output</p> <pre><code>$ ./create-token.sh website\n&lt;new repository API token&gt;\n</code></pre>"}, {"location": "codacy-api/examples/creating-repository-api-tokens-programmatically/#example-creating-repository-api-tokens-for-all-repositories-in-an-organization", "title": "Example: Creating repository API tokens for all repositories in an organization", "text": "<p>This example creates new repository API tokens for all the repositories in an organization and outputs a comma-separated list of repository names and corresponding token strings.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API, the Git provider, and the organization name.</li> <li>Calls the endpoint listOrganizationRepositories to retrieve the list of repositories in the organization.</li> <li>Uses jq to select only the name of the repositories.</li> <li>Asks for confirmation from the user before making any changes.</li> <li>For each repository, calls the endpoint createRepositoryApiToken to create a new repository API token and uses jq to obtain only the created token string.</li> <li>Outputs a comma-separated list of the repository names and the corresponding new token strings.</li> <li>Pauses a few seconds between requests to the Codacy API to avoid rate limiting.</li> </ol> <pre><code>#!/bin/bash\n\nCODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\n\nrepositories=$(curl -sX GET \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories\" \\\n                    -H \"api-token: $CODACY_API_TOKEN\" \\\n               | jq -r \".data[] | .name\")\n\ncount=$(echo \"$repositories\" | wc -l)\nread -p \"Create repository tokens for $count repositories? (y/n) \" choice\nif [ \"$choice\" = \"y\" ]; then\n    echo \"$repositories\" | while read repository; do\n        echo -n \"$repository,\"\n        curl -sX POST \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$repository/tokens\" \\\n             -H \"api-token: $CODACY_API_TOKEN\" \\\n        | jq -r \".data | .token\"\n        sleep 2 # Wait 2 seconds\n    done\nelse\n    echo \"No changes made.\";\nfi\n</code></pre> <p>Example output:</p> <pre><code>chart,&lt;new repository API token&gt;\ndocs,&lt;new repository API token&gt;\nwebsite,&lt;new repository API token&gt;\n[...]\n</code></pre> <p>Important</p> <p>For the sake of simplicity, the example doesn't consider paginated results obtained from the Codacy API. Learn how to use pagination to ensure that you process all results returned by the API.</p>"}, {"location": "codacy-api/examples/creating-repository-api-tokens-programmatically/#example-listing-the-repository-api-tokens-for-a-repository", "title": "Example: Listing the repository API tokens for a repository", "text": "<p>This example lists all repository API tokens created for a repository.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API, the Git provider, the organization name, and the repository name passed as an argument to the script.</li> <li>Calls the endpoint listRepositoryApiTokens to list the repository API tokens available on the repository and uses jq to obtain only the token strings, or exit with a non-zero status if the repository doesn't have any repository API tokens created yet.</li> </ol> <pre><code>#!/bin/bash\nCODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nREPOSITORY=$1\n\ncurl -sX GET \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/tokens\" \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n| jq -er \".data[] | .token\"\n</code></pre> <p>Example usage to obtain only the repository API token created most recently for the repository:</p> <pre><code>$ ./list-tokens.sh website | head -n 1\n&lt;last repository API token created&gt;\n</code></pre>"}, {"location": "codacy-api/examples/creating-repository-api-tokens-programmatically/#see-also", "title": "See also", "text": "<ul> <li>API tokens</li> </ul>"}, {"location": "codacy-api/examples/identifying-commits-without-coverage-data/", "title": "Identifying commits without coverage data", "text": "<p>To calculate the supported coverage metrics for pull requests, Codacy requires that at least the following commits provide coverage data:</p> <ul> <li>The common ancestor commit of the pull request branch and the target branch</li> <li>The head commit of the pull request branch</li> </ul> <p>The following diagram highlights the commits that must have received coverage data for Codacy to display the coverage variation metric on a pull request:</p> <p></p> <p>However, different factors may prevent your setup from correctly reporting coverage data for the required commits.</p> <p>To check if Codacy has received the required coverage data to calculate the coverage metrics for a pull request, use the Codacy API endpoint getPullRequestCoverageReports.</p>"}, {"location": "codacy-api/examples/identifying-commits-without-coverage-data/#example-identifying-which-pull-request-commits-are-missing-coverage-data", "title": "Example: Identifying which pull request commits are missing coverage data", "text": "<p>This example checks whether the open pull requests in a repository have received coverage data for their head and common ancestor commits.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API, the Git provider, the organization name, and the repository name passed as an argument to the script.</li> <li>Calls the Codacy API endpoint listRepositoryPullRequests to retrieve the list of open pull requests on the repository.</li> <li>Uses jq to select only the numbers that identify the pull requests on the Git provider.</li> <li>For each pull request, outputs the pull request number and calls the Codacy API endpoint getPullRequestCoverageReports to obtain the information about the coverage data received for the head and common ancestor commits of the pull request.</li> <li>Uses jq to select and output the commit SHA-1 and coverage status for the commits.</li> </ol> <pre><code>#!/bin/bash\n\nCODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nREPOSITORY=$1\n\ncurl -sX GET \"https://app.codacy.com/api/v3/analysis/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/pull-requests\" \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n     -H \"Content-Type: application/json\" \\\n| jq -r \".data[] | .pullRequest.number\" | \\\n\nwhile read pull_request_number; do\n    echo \"Checking #$pull_request_number\"\n    curl -sX GET \"https://app.codacy.com/api/v3/analysis/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/pull-requests/$pull_request_number/coverage/status\" \\\n         -H \"api-token: $CODACY_API_TOKEN\" \\\n         -H \"Content-Type: application/json\" \\\n    | jq -r '.data[] | \"Coverage for \\(.commitSha) is \\(.reports[0].status)\"'\ndone\n</code></pre> <p>Example usage and output, where:</p> <ul> <li>The first commit listed for each pull request is the head commit of the pull request branch</li> <li>The second commit listed for each pull request is the common ancestor commit of the pull request branch</li> </ul> <p>Note</p> <p>If you find commits where the coverage status is different from <code>Processed</code>, follow these troubleshooting instructions to validate that your coverage setup is working correctly.</p> <pre><code>$ ./check-coverage.sh pulse\nChecking #1563\nCoverage for 4faccc86676f7dba3af2b71400605b0be4a686e3 is Processed\nCoverage for 51e57784468459b9b2839aa63c3e7e807a39c4ab is null\nChecking #1481\nCoverage for 6d6a3ec0c773fb016a7302f8111c185a34e1a9b2 is null\nCoverage for 4015f987fab77d41dc27ec3100b57fa58bef4559 is Processed\nChecking #1434\nCoverage for 74efe5d7542846f36cb8c030bd6b73fa9060dca2 is null\nCoverage for 1a64ea8885717e7b9874c9f3702806ec96b00276 is null\n</code></pre> <p>Important</p> <p>For the sake of simplicity, the example doesn't consider paginated results obtained from the Codacy API. Learn how to use pagination to ensure that you process all results returned by the API.</p>"}, {"location": "codacy-api/examples/identifying-commits-without-coverage-data/#see-also", "title": "See also", "text": "<ul> <li>Adding coverage to your repository</li> </ul>"}, {"location": "codacy-api/examples/obtaining-code-quality-metrics-for-files/", "title": "Obtaining code quality metrics for files", "text": "<p>To obtain the code quality information for your files in a flexible way, use the Codacy API endpoint listFiles.</p> <p>For example, if you're managing your source code using a monorepo strategy you may want to generate separate code quality reports for the subset of files that belong to each component or project in your repository.</p>"}, {"location": "codacy-api/examples/obtaining-code-quality-metrics-for-files/#example-obtaining-code-quality-metrics-for-a-subdirectory-of-your-repository", "title": "Example: Obtaining code quality metrics for a subdirectory of your repository", "text": "<p>This example exports the grade, total issues, complexity, coverage, and duplication in CSV format for all files in the directory <code>src/router</code> of the GitHub repository <code>codacy/website</code>.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API.</li> <li>Calls the endpoint listFiles to retrieve the code quality metrics, filtering the results by files that include <code>src/router/</code> in the path.</li> <li>Uses jq to select only the necessary data fields and convert the results to the CSV format.</li> </ol> <pre><code>CODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nREPOSITORY=\"&lt;your repository name&gt;\"\n\ncurl -X GET \"https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/files?search=src/router/\" \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n| jq -r \".data[] | [.path, .gradeLetter, .totalIssues, .complexity, .coverage, .duplication] | @csv\"\n</code></pre> <p>Example output:</p> <pre><code>\"src/components/router/index.ts\",\"A\",0,8,70,0\n\"src/components/router/Link.tsx\",\"A\",0,5,100,0\n\"src/components/router/Redirect.tsx\",\"B\",0,2,14,0\n\"src/components/router/routes/account.ts\",\"A\",0,0,100,0\n[...]\n</code></pre> <p>Important</p> <p>For the sake of simplicity, the example doesn't consider paginated results obtained from the Codacy API. Learn how to use pagination to ensure that you process all results returned by the API.</p>"}, {"location": "codacy-api/examples/obtaining-code-quality-metrics-for-files/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Files page</li> </ul>"}, {"location": "codacy-api/examples/obtaining-current-issues-in-repositories/", "title": "Obtaining current issues in repositories", "text": "<p>To obtain information about the current issues in your repositories in a flexible way, use the Codacy API endpoint searchRepositoryIssues.</p> <p>For example, you may want to generate a report that includes only issues that belong to specific categories (such as security issues), or that have a minimum severity level.</p>"}, {"location": "codacy-api/examples/obtaining-current-issues-in-repositories/#example-obtaining-security-issues-with-level-error-and-warning", "title": "Example: Obtaining security issues with level Error and Warning", "text": "<p>This example exports the pattern ID, issue level, file path, and timestamp for all security issues that have the severity level <code>Warning</code> or <code>Error</code> in the GitHub repository <code>codacy/website</code>.</p> <p>The example script:</p> <ol> <li>Defines the account API token used to authenticate on the Codacy API.</li> <li>Calls the endpoint searchRepositoryIssues to retrieve information about the issues, filtering the results by security issues with the relevant severity levels.</li> <li>Uses jq to select only the necessary data fields and convert the results to the CSV format.</li> </ol> <pre><code>CODACY_API_TOKEN=\"&lt;your account API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # gh, ghe, gl, gle, bb, or bbe\nORGANIZATION=\"&lt;your organization name&gt;\"\nREPOSITORY=\"&lt;your repository name&gt;\"\n\ncurl -X POST \"https://app.codacy.com/api/v3/analysis/organizations/$GIT_PROVIDER/$ORGANIZATION/repositories/$REPOSITORY/issues/search\" \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n     -H \"Content-Type: application/json\" \\\n     -d '{ \"levels\": [\"Error\", \"Warning\"], \"categories\": [\"Security\"] }' \\\n| jq -r \".data[] | [.patternInfo.id, .patternInfo.level, .filePath, .commitInfo.timestamp] | @csv\"\n</code></pre> <p>Example output:</p> <pre><code>\"BundlerAudit_Insecure Dependency\",\"Error\",\"Gemfile.lock\",\"2021-06-16T11:46:24Z\"\n\"Custom_Scala_PredictableRandom\",\"Warning\",\"src/test/database/SpecsHelper.scala\",\"2021-05-21T16:20:15Z\"\n\"Custom_Scala_PlayUntrustedHttpRequestParameter\",\"Warning\",\"app/RedirectController.scala\",\"2021-04-26T15:06:33Z\"\n[...]\n</code></pre> <p>Important</p> <p>For the sake of simplicity, the example doesn't consider paginated results obtained from the Codacy API. Learn how to use pagination to ensure that you process all results returned by the API.</p>"}, {"location": "codacy-api/examples/obtaining-current-issues-in-repositories/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Issues page</li> </ul>"}, {"location": "codacy-api/examples/uploading-dast-results/", "title": "Uploading DAST results to Codacy", "text": "<p>To ensure the security of your web applications, Codacy allows you to upload DAST (dynamic application security testing) results from Zed Attack Proxy (ZAP) directly to Codacy and monitor them as findings under Security and risk management.</p>"}, {"location": "codacy-api/examples/uploading-dast-results/#uploading-results-to-codacy", "title": "Uploading results to Codacy", "text": "<ol> <li> <p>Use ZAP to perform DAST on your application and generate a report in the Traditional JSON format.</p> <p>For details on generating reports in ZAP, refer to the ZAP documentation.</p> </li> <li> <p>Upload the report to Codacy using the API endpoint uploadDASTReport:</p> <p>Note</p> <p>The DAST report must be under 20MB in size.</p> <pre><code>curl -X POST https://app.codacy.com/api/v3/organizations/&lt;GIT_PROVIDER&gt;/&lt;ORGANIZATION&gt;/security/tools/dast/&lt;TOOL_NAME&gt;/reports \\\n  -H 'api-token: &lt;API_KEY&gt;' \\\n  -H 'Content-Type: multipart/form-data' \\\n  -H 'Accept: application/json' \\\n  -F 'file=@&lt;REPORT_PATH&gt;' \\\n  -F 'reportFormat=json'\n</code></pre> </li> </ol> <p>Replace the placeholders with your own values:</p> <ul> <li>API_KEY: Account API token used to authenticate on the Codacy API.</li> <li> <p>GIT_PROVIDER: Git provider hosting of the organization, using one of the values in the table below. For example, <code>gh</code> for GitHub Cloud.</p> Value Git provider <code>gh</code> GitHub Cloud <code>ghe</code> GitHub Enterprise <code>gl</code> GitLab Cloud <code>gle</code> GitLab Enterprise <code>bb</code> Bitbucket Cloud <code>bbe</code> Bitbucket Server </li> <li> <p>ORGANIZATION: Name of the organization on the Git provider. For example, <code>codacy</code>. You must have admin permissions over the organization on the Git provider.</p> </li> <li> <p>TOOL_NAME: Name of the tool used to generate the report. Currently, only ZAP is supported.</p> </li> <li> <p>REPORT_PATH: Path to the file containing the DAST report.</p> </li> </ul> <p>Replace placeholders with your specific details to complete the upload.</p> <p>This process seamlessly integrates the security insights of third-party DAST tools with Codacy for a comprehensive security overview.</p>"}, {"location": "codacy-api/examples/uploading-dast-results/#retrieving-uploaded-results-on-codacy", "title": "Retrieving uploaded results on Codacy", "text": "<p>To retrieve a list of uploaded DAST reports, access the Codacy API endpoint listDASTReports:</p> <p>GET /organizations/{provider}/{remoteOrganizationName}/security/dast/reports <pre><code>curl -X GET https://api.codacy.com/api/v3/organizations/&lt;GIT_PROVIDER&gt;/&lt;ORGANIZATION&gt;/security/dast/reports \\\n  -H 'api-token: &lt;API_KEY&gt;' \\\n  -H 'Accept: application/json'\n</code></pre></p> <p>Replace the placeholders with your own values:</p> <ul> <li>API_KEY: Account API token used to authenticate on the Codacy API.</li> <li> <p>GIT_PROVIDER: Git provider hosting of the organization, using one of the values in the table below. For example, <code>gh</code> for GitHub Cloud.</p> Value Git provider <code>gh</code> GitHub Cloud <code>ghe</code> GitHub Enterprise <code>gl</code> GitLab Cloud <code>gle</code> GitLab Enterprise <code>bb</code> Bitbucket Cloud <code>bbe</code> Bitbucket Server </li> <li> <p>TOOL_NAME: Name of the tool used to generate the report. Currently, only ZAP is supported.</p> </li> </ul> <p>This endpoint provides a list of all DAST reports uploaded to Codacy, allowing you to check the status and details of each report.</p>"}, {"location": "codacy-api/examples/uploading-dast-results/#example-uploading-zap-dast-results", "title": "Example: Uploading ZAP DAST results", "text": "<p>Use this example Bash script to upload the ZAP DAST report to Codacy. This example can be adapted to fit your specific needs.</p> <p>The example script:</p> <ol> <li>Defines the API token used to authenticate on the Codacy API.</li> <li>Defines the path and filename of the file containing the DAST report.</li> <li>Calls the endpoint uploadDASTReport to upload the report to Codacy.</li> </ol> <pre><code>CODACY_API_TOKEN=\"&lt;your API token&gt;\"\nGIT_PROVIDER=\"&lt;your Git provider&gt;\" # e.g., gh for GitHub\nORGANIZATION_NAME=\"&lt;your organization name&gt;\"\nTOOL_NAME=\"&lt;DAST tool name&gt;\" # e.g., ZAP\nREPORT_FILE_PATH=\"zap-report.json\"\n\ncurl -X POST https://app.codacy.com/api/v3/organizations/$GIT_PROVIDER/$ORGANIZATION_NAME/security/tools/dast/$TOOL_NAME/reports \\\n     -H \"api-token: $CODACY_API_TOKEN\" \\\n     -H \"Content-Type: multipart/form-data\" \\\n     -H \"Accept: application/json\" \\\n     -F \"file=@$REPORT_FILE_PATH\" \\\n     -F \"reportFormat=json\"\n</code></pre>"}, {"location": "coverage-reporter/", "title": "Adding coverage to your repository", "text": "<p>Code coverage is a metric used to describe the degree to which the source code of a program is tested. A program with high code coverage has been more thoroughly tested and has a lower chance of containing software bugs than a program with low code coverage. You can read more about the basics of code coverage on Codacy's blog.</p> <p>To monitor the code coverage of your repository on Codacy you must generate coverage reports for each commit on your CI/CD workflow, and then upload the coverage data to Codacy.</p> <p>Complete these main steps to set up coverage for your repository:</p> <ol> <li> <p>Generating coverage reports</p> <p>Ensure that you're generating one of the code coverage report formats supported by Codacy on each push to your repository.</p> </li> <li> <p>Uploading coverage data to Codacy</p> <p>After each push to your repository, run the Codacy Coverage Reporter to parse your report file and upload the coverage data to Codacy.</p> </li> <li> <p>Validating that the coverage setup is complete</p> <p>Check if Codacy displays the coverage metrics for new commits and pull requests and troubleshoot the coverage setup if necessary.</p> </li> </ol> <p>The next sections include detailed instructions on how to complete each step of the setup process.</p>"}, {"location": "coverage-reporter/#generating-coverage", "title": "1. Generating coverage reports", "text": "<p>Before setting up Codacy to display code coverage metrics for your repository you must have tests and use tools to generate coverage reports for the source code files in your repository.</p> <p>Consider the following when generating coverage reports for your repository:</p> <ul> <li>There are many tools that you can use to generate coverage reports, but you must ensure that the coverage reports are in one of the formats that Codacy supports</li> <li>If your repository includes multiple programming languages, you may need to generate a separate coverage report for each language depending on the specific languages and tools that you use</li> <li>Make sure that you generate coverage reports that include coverage data for all tested source code files in your repository and not just the files that were changed in each commit</li> </ul> <p>The following table contains example coverage tools that generate reports in formats that Codacy supports:</p> Language Example coverage tools Report files C# OpenCover <code>opencover.xml</code> (OpenCover) dotCover CLI <code>dotcover.xml</code> (dotCover detailedXML) Coverlet Make sure that you output the report files in a supported format using one of the following file names: <code>opencover.xml</code> (OpenCover) <code>cobertura.xml</code> (Cobertura) <code>lcov.info</code>, <code>lcov.dat</code>, <code>*.lcov</code> (LCOV)      Go Golang Code Coverage Golang report files don't have a specific name. Because of this, later in the setup process you must follow specific instructions while submitting coverage to Codacy. Java JaCoCo <code>jacoco*.xml</code> (JaCoCo) Cobertura <code>cobertura.xml</code> (Cobertura) JavaScript Istanbul Mocha + Blanket.js <code>lcov.info</code>, <code>lcov.dat</code>, <code>*.lcov</code> (LCOV) PHP PHPUnit <code>coverage-xml/index.xml</code> (PHPUnit XML version &lt;= 4) <code>clover.xml</code> (Clover) Python Coverage.py <code>cobertura.xml</code> (Cobertura) Ruby SimpleCov <code>cobertura.xml</code> (Cobertura) <code>lcov.info</code>, <code>lcov.dat</code>, <code>*.lcov</code> (LCOV) Scala sbt-jacoco <code>jacoco*.xml</code> (JaCoCo) scoverage <code>cobertura.xml</code> (Cobertura) Swift/Objective-C Xcode Code Coverage See below how to generate coverage reports with Xcode"}, {"location": "coverage-reporter/#handling-unsupported-languages", "title": "Handling unsupported languages", "text": "<p>If you're generating a report format that Codacy doesn't support yet, contribute with a parser implementation yourself or use one of the community projects below to generate coverage reports in a supported format:</p> <ul> <li> <p>SlatherOrg/slather: generate Cobertura reports from Xcode coverage reports:</p> <pre><code>gem install slather\nslather coverage -x --output-directory &lt;report-output-dir&gt; --scheme &lt;project-name&gt; &lt;project-name&gt;.xcodeproj\n</code></pre> <p>This will generate a file <code>cobertura.xml</code> inside the folder <code>&lt;report-output-dir&gt;</code>.</p> </li> <li> <p>dariodf/lcov_ex: generate LCOV reports for Elixir projects</p> </li> <li>chrisgit/sfdx-plugins_apex_coverage_report: generate LCOV or Cobertura reports from Apex code coverage data</li> <li>danielpalme/ReportGenerator: convert between different report formats</li> </ul> <p>Important</p> <p>Make sure that you specify the language when uploading coverage for an unsupported language.</p> <p>As a last resort, you can also send the coverage data directly by calling one of the following Codacy API endpoints:</p> <ul> <li>saveCoverage</li> <li>saveCoverageWithAccountToken</li> </ul>"}, {"location": "coverage-reporter/#uploading-coverage", "title": "2. Uploading coverage data to Codacy", "text": "<p>After having coverage reports set up for your repository, you must use the Codacy Coverage Reporter to upload them to Codacy. The recommended way to do this is by using a CI/CD platform that automatically runs tests, generates coverage, and then uses the Codacy Coverage Reporter to upload the coverage report information to Codacy.</p> <p>Important</p> <p>Please note that Codacy needs to receive coverage data for:</p> <ul> <li>Every push to your repository including merge commits or any commits created automatically by tools such as Dependabot</li> <li>All tested files in your repository including the files that weren't changed in the commit, or files from unchanged modules in a monorepo setup</li> </ul> <p>Alternative ways of running the Codacy Coverage Reporter</p> <p>Codacy makes available alternative ways to run the Codacy Coverage Reporter, such as by installing the binary manually or by using Docker, a GitHub Action, or a CircleCI Orb.</p> <p>However, the instructions on this page assume that you'll run the recommended self-contained bash script <code>get.sh</code> to automatically download and run the most recent version of the Codacy Coverage Reporter.    </p> <ol> <li> <p>Set up an API token to allow Codacy Coverage Reporter to authenticate on Codacy:</p> <ul> <li> <p>If you're setting up coverage for one repository, obtain a repository API token and set the following environment variable to specify your repository API token:</p> <pre><code>export CODACY_PROJECT_TOKEN=&lt;your repository API token&gt;\n</code></pre> </li> <li> <p>If you're setting up and automating coverage for multiple repositories, obtain an account API Token and set the following environment variables:</p> <ul> <li> <p>CODACY_API_TOKEN: Your account API token.</p> </li> <li> <p>CODACY_ORGANIZATION_PROVIDER: Git provider hosting the repository.</p> <p>Must be one of <code>gh</code>, <code>ghe</code>, <code>gl</code>, <code>gle</code>, <code>bb</code>, or <code>bbe</code> to specify GitHub, GitHub Enterprise, GitLab, GitLab Enterprise, Bitbucket, or Bitbucket Enterprise, respectively.</p> </li> <li> <p>CODACY_USERNAME: Name of your organization on the Git provider, or your username on the Git provider if you're using a personal organization.</p> </li> <li> <p>CODACY_PROJECT_NAME: Name of the repository for which you're uploading the coverage data.</p> </li> </ul> <pre><code>export CODACY_API_TOKEN=&lt;your account API token&gt;\nexport CODACY_ORGANIZATION_PROVIDER=&lt;Git provider hosting the repository&gt;\nexport CODACY_USERNAME=&lt;organization name or username on the Git provider&gt;\nexport CODACY_PROJECT_NAME=&lt;repository name&gt;\n</code></pre> </li> </ul> <p>Warning</p> <p>Never write API tokens to your configuration files and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy</p> <p>It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this.</p> </li> <li> <p>If you're using Codacy Self-hosted set the following environment variables to specify your Codacy instance URL and the Codacy Coverage Reporter version that's compatible with Codacy Self-hosted 14.0.0:</p> <pre><code>export CODACY_API_BASE_URL=&lt;your Codacy instance URL&gt;\nexport CODACY_REPORTER_VERSION=13.10.15\n</code></pre> </li> <li> <p>Run Codacy Coverage Reporter on the root of the locally checked out branch of your Git repository, specifying the relative path to the coverage report to upload:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report -r &lt;coverage report file name&gt;\n</code></pre> <p>Check the console output to validate that the Codacy Coverage Reporter detected the correct commit SHA-1 hash and successfully uploaded the coverage data to Codacy. If you need help, check the troubleshooting page for solutions to the most common issues while running the CLI.</p> <p>Note</p> <p>Be sure to also check the instructions for more advanced scenarios while uploading the coverage data to Codacy, such as when running parallel tests, using monorepos, or testing source code in multiple or unsupported languages.</p> </li> </ol>"}, {"location": "coverage-reporter/#validating-coverage", "title": "3. Validating that the coverage setup is complete", "text": "<p>Codacy displays the code coverage in each branch, as well as the evolution of code coverage between commits and the code coverage variation introduced by pull requests.</p> <p>Because of this, to ensure that all code coverage metrics are available on Codacy, you must have successfully uploaded coverage data and analyzed:</p> <ul> <li>The last two commits in each branch</li> <li>The common ancestor commit of each pull request branch and its target branch</li> </ul> <p>Example</p> <p>The example below shows that after pushing a commit that correctly sets up coverage on the default branch:</p> <ul> <li> <p>Codacy will report coverage metrics for all subsequent commits and pull requests relative to the default branch.</p> </li> <li> <p>Codacy won't report coverage metrics for commits and pull requests that are relative to older branches where the coverage setup wasn't performed yet.</p> <p>To solve this issue, you can rebase the old feature branch to update the common ancestor commit to one that already has coverage data.</p> </li> </ul> <p></p> <p>Follow these instructions to validate that your coverage setup is working correctly:</p> <ol> <li> <p>On Codacy, open your Repository Settings, tab Coverage, and observe the list of the most recent 50 coverage reports in the section Test your integration.</p> <p>Make sure that Codacy receives and processes the coverage data successfully for at least two commits.</p> <p></p> <p>If there are commits with a status different from Processed, please follow the troubleshooting instructions for the corresponding error status and click the button Test integration to display any new coverage reports uploaded to Codacy.</p>"}, {"location": "coverage-reporter/#status-commit-not-found", "title": "Commit not found", "text": "<p>Codacy doesn't have information about the commit associated with the coverage data.</p> <p> What causes the error? How to fix the error?          Codacy didn't receive the webhook for that commit from the Git provider.      <p>Wait a few more minutes until Codacy detects the commit and the status will update automatically.</p> <p>If it takes more than 5 to 10 minutes for Codacy to detect the commit, the webhook call from the Git provider may have been lost. You can wait until you push a new commit or contact support@codacy.com asking us to sync the commits on Codacy with your Git provider.</p>          The commit SHA-1 hash sent while uploading coverage is wrong.               Make sure that the Codacy Coverage Reporter detects the correct commit SHA-1 hash for the uploaded coverage data."}, {"location": "coverage-reporter/#status-branch-not-enabled", "title": "Branch not enabled", "text": "<p>The commit associated with the coverage data doesn't belong to any branch that Codacy is analyzing.</p> <p> What causes the error? How to fix the error?          Coverage was uploaded for a commit that belongs to a branch that isn't analyzed by Codacy.      <p>Make sure that the branch is enabled on Codacy. Alternatively, ensure that the target branch is enabled and open a pull request for Codacy to start analyzing the branch automatically.</p> <p>If Codacy is already analyzing the branch, make sure that the Codacy Coverage Reporter detects the correct commit SHA-1 hash for the uploaded coverage data.</p>          Coverage was uploaded for a commit that no longer belongs to any branch on the Git repository, for example after a rebase or squash merge.               The error status is expected in this scenario and you can ignore it."}, {"location": "coverage-reporter/#status-commit-not-analyzed", "title": "Commit not analyzed", "text": "<p>Due to technical limitations, Codacy only reports coverage for a commit after successfully completing the static code analysis of that commit.</p> <p> What causes the error? How to fix the error?          Codacy hasn't finished analyzing the commit yet.               Wait a few more minutes until Codacy completes the static code analysis for the commit and the status will update automatically.               Codacy didn't analyze the commit on a private repository because the committer doesn't belong to the Codacy organization.               Make sure that you add all committers to your Codacy organization.               Codacy skipped analyzing the commit because there are more recent commits in the branch.               Upload coverage data for the most recent commit in the branch.               The setting Run analysis on your build server is on, but your client-side tools didn't upload results to Codacy.               Make sure that your client-side tools run successfully and upload the results to Codacy to complete the analysis.               Codacy ran into an error while analyzing the commit.               Solve the issue that caused the analysis to fail (such as Codacy losing access to the repository), or contact us at support@codacy.com asking for help."}, {"location": "coverage-reporter/#status-final-report-not-sent", "title": "Final report not sent", "text": "<p>Codacy is waiting to receive more coverage data before reporting the coverage for a commit.</p> <p> What causes the error? How to fix the error?          Coverage was uploaded with the <code>--partial</code> flag but Codacy didn't receive the <code>final</code> notification.               Make sure that after uploading all partial reports you send the <code>final</code> notification."}, {"location": "coverage-reporter/#status-pending", "title": "Pending", "text": "<p>Codacy is waiting to receive valid coverage data for the files in your repository.</p> <p> What causes the error? How to fix the error?          The file paths in the coverage report don't match the ones on the repository Files page on Codacy.               Make sure that the file paths included in your coverage report are relative to the root directory of your repository. For example, <code>src/index.js</code>.               The uploaded coverage data only includes information for files that are ignored on Codacy.               Check which files are ignored on Codacy and make sure that you're generating coverage reports for the correct files in your repository.               The uploaded coverage data is incorrectly associated, using the <code>-l</code> option, to a language that's not present in your repository.               Verify that you are associating the correct language, or don't specify a language to let Codacy detect the contents of the coverage reports automatically. See how to upload coverage in advanced scenarios for more information.      <li> <p>Check that Codacy displays the coverage metrics for the latest commits and pull requests.</p> <p></p> <p>If Codacy can't calculate the coverage metrics for pull requests, make sure that you're uploading coverage data for the following commits of the pull request:</p> Commit Required to calculate the coverage metrics Head commitof the pull request branch Coverage variationDiff coverage Common ancestor commitof the pull request and target branches Coverage variation <p>The following diagram highlights the commits that must receive coverage data for Codacy to calculate the coverage metrics for pull requests:</p> <p></p> <p>Click View logs on a pull request detail page to see the SHA-1 hashes of the commits that are missing coverage data. If you have many open pull requests, you can also use a script to identify if any pull requests are missing coverage data.</p> <p></p> </li> <p>Need help?</p> <p>If you need help setting up coverage on your repository please contact us at support@codacy.com including the following information:</p> <ul> <li>URL of your repository on Codacy</li> <li>Your CI/CD configuration files and the name of your CI/CD platform</li> <li>Full console output of your CI/CD when running the Codacy Coverage Reporter</li> <li>Branch name and commit SHA-1 hash corresponding to the CI/CD output</li> <li>Test coverage report that you're uploading to Codacy</li> <li>Any other relevant information or screenshots of your setup</li> </ul>"}, {"location": "coverage-reporter/#see-also", "title": "See also", "text": "<ul> <li>Identifying commits without coverage data</li> <li>Why does Codacy show unexpected coverage changes?</li> </ul>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/", "title": "Alternative ways of running Coverage Reporter", "text": "<p>The following sections list the alternative ways of running or installing Codacy Coverage Reporter.</p> <p>Important</p> <p>If you're using Codacy Self-hosted 14.0.0 you must use Codacy Coverage Reporter 13.10.15 to ensure it's compatible with your Codacy instance.</p>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#bash-script", "title": "Bash script (recommended)", "text": "<p>The recommended way to run the Codacy Coverage Reporter is by using the self-contained bash script <code>get.sh</code> that automatically downloads and runs the most recent version of the Codacy Coverage Reporter:</p> <ul> <li> <p>On Ubuntu, run:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report -r &lt;coverage report file name&gt;\n</code></pre> </li> <li> <p>On Alpine Linux, run:</p> <pre><code>wget -qO - https://coverage.codacy.com/get.sh | sh -s -- report -r &lt;coverage report file name&gt;\n</code></pre> </li> </ul> <p>Note</p> <p>Starting on version <code>13.0.0</code> the script automatically validates the checksum of the downloaded binary. To skip the checksum validation, define the following environment variable:</p> <pre><code>export CODACY_REPORTER_SKIP_CHECKSUM=true\n</code></pre> <p>The self-contained script can cache the binary. To avoid downloading the binary every time that the script runs, add one of the following directories to your CI cached folders:</p> <ul> <li><code>$HOME/.cache/codacy</code> on Linux</li> <li><code>$HOME/Library/Caches/Codacy</code> on Mac OS X</li> </ul> <p>To use a specific version of the Codacy Coverage Reporter, set the following environment variable to one of the released versions:</p> <pre><code>export CODACY_REPORTER_VERSION=&lt;version&gt;\n</code></pre>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#docker", "title": "Docker", "text": "<p>You can use Docker to run Codacy Coverage Reporter.</p> <p>Use the following command where <code>&lt;version&gt;</code> is either one of the released versions, or <code>latest</code> to use the most recent version:</p> <pre><code>docker run -v $PWD:/code codacy/codacy-coverage-reporter:&lt;version&gt; report\n</code></pre>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#github-action", "title": "GitHub Action", "text": "<p>If you're using GitHub Actions to report coverage, you can use our GitHub Action codacy/codacy-coverage-reporter-action.</p>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#circleci-orb", "title": "CircleCI orb", "text": "<p>If you're using CircleCI to report coverage, you can use our orb codacy/coverage-reporter.</p>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#manually-downloading-the-binary", "title": "Manually downloading the binary", "text": ""}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#linux-amd64", "title": "Linux amd64", "text": "<p>If you prefer, you can manually download and run the native <code>codacy-coverage-reporter</code> binary, either for the latest version or a specific one.</p> <p>You can use the scripts below to automatically check for the latest version of the binaries, download the binaries from either Codacy's public store or GitHub, and run them.</p> <ul> <li> <p>Using Codacy's public S3:</p> <pre><code>LATEST_VERSION=\"$(curl -Ls https://artifacts.codacy.com/bin/codacy-coverage-reporter/latest)\"\ncurl -Ls -o codacy-coverage-reporter \"https://artifacts.codacy.com/bin/codacy-coverage-reporter/${LATEST_VERSION}/codacy-coverage-reporter-linux\"\nchmod +x codacy-coverage-reporter\n./codacy-coverage-reporter report\n</code></pre> </li> <li> <p>Using GitHub:</p> <pre><code>curl -Ls -o codacy-coverage-reporter \"$(curl -Ls https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r '.assets | map({name, browser_download_url} | select(.name | contains(\"codacy-coverage-reporter-linux\"))) | .[0].browser_download_url')\"\nchmod +x codacy-coverage-reporter\n./codacy-coverage-reporter report\n</code></pre> </li> </ul>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#java", "title": "Java", "text": "<p>Use the Java binary to run Codacy Coverage reporter on other platforms, such as Linux x86, macOS, Windows, etc.</p> <p>You can use the scripts below to automatically check for the latest version of the Java binaries, download the binaries from either Codacy's public store or GitHub, and run them.</p> <ul> <li> <p>Using Codacy's public store:</p> <pre><code>LATEST_VERSION=\"$(curl -Ls https://artifacts.codacy.com/bin/codacy-coverage-reporter/latest)\"\ncurl -Ls -o codacy-coverage-reporter-assembly.jar \"https://artifacts.codacy.com/bin/codacy-coverage-reporter/${LATEST_VERSION}/codacy-coverage-reporter-assembly.jar\"\njava -jar codacy-coverage-reporter-assembly.jar report\n</code></pre> </li> <li> <p>Using GitHub:</p> <pre><code>curl -LS -o codacy-coverage-reporter-assembly.jar \"$(curl -LSs https://api.github.com/repos/codacy/codacy-coverage-reporter/releases/latest | jq -r '.assets | map({name, browser_download_url} | select(.name | endswith(\".jar\"))) | .[0].browser_download_url')\"\njava -jar codacy-coverage-reporter-assembly.jar report\n</code></pre> </li> </ul>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#validating-the-checksum-of-the-binaries", "title": "Validating the checksum of the binaries", "text": "<p>You can use the checksums available for each release to validate the binaries that you download manually. You can use any tool of your choice to validate the checksum, as long as it uses the <code>SHA512</code> algorithm.</p> <p>For example, run the commands below to download and validate the checksum for the 13.0.0 Linux binary. Note that the command <code>sha512sum</code> expects to find the binary on the same directory and with the original name <code>codacy-coverage-reporter-linux</code>.</p> <pre><code>curl -Ls -O https://github.com/codacy/codacy-coverage-reporter/releases/download/13.0.0/codacy-coverage-reporter-linux.SHA512SUM\nsha512sum -c codacy-coverage-reporter-linux.SHA512SUM\n</code></pre>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#building-from-source", "title": "Building from source", "text": "<p>If you are having any issues with your installation, you can also build the coverage reporter from source.</p> <ol> <li> <p>Clone the Codacy Coverage Reporter repository:</p> <pre><code>git clone https://github.com/codacy/codacy-coverage-reporter.git\n</code></pre> </li> <li> <p>Run the command <code>sbt assembly</code> inside the local repository folder:</p> <pre><code>cd codacy-coverage-reporter\nsbt assembly\n</code></pre> <p>This will produce a file <code>target/codacy-coverage-reporter-assembly-&lt;version&gt;.jar</code> that you can run.</p> </li> <li> <p>Execute this <code>.jar</code> in the repository where you want to upload the coverage. For example:</p> <pre><code>&lt;path&gt;/java-project$ java -jar ../codacy-coverage-reporter/target/codacy-coverage-reporter-assembly-&lt;version&gt;.jar report\n</code></pre> </li> </ol>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#community-supported-alternatives", "title": "Community supported alternatives", "text": ""}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#maven-plugin", "title": "Maven plugin", "text": "<p>Thanks to the amazing job of Gavin Mogan you can now send your coverage to Codacy using his Maven plugin halkeye/codacy-maven-plugin! Be sure to follow the instructions on his repository.</p>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#travis-ci", "title": "Travis CI", "text": "<p>If you are using Travis CI to report coverage, update your file <code>.travis.yml</code> to include the following blocks:</p> <pre><code>before_script:\n  - bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) download\n\nafter_success:\n  - bash &lt;(curl -Ls https://coverage.codacy.com/get.sh)\n</code></pre> <p>Make sure that you also set your project or account API Token as an environment variable in your Travis CI job.</p>"}, {"location": "coverage-reporter/alternative-ways-of-running-coverage-reporter/#gradle-task", "title": "Gradle task", "text": "<p>If you're using Gradle to automate your CI/CD you can add use the following example task, where <code>&lt;COVERAGE_REPORT_TASK&gt;</code> is the name of the task that generates your coverage report:</p> <pre><code>task uploadCoverage(type:Exec, dependsOn: &lt;COVERAGE_REPORT_TASK&gt;) {\n    description 'Uploads coverage data to Codacy.'\n    commandLine 'bash', '-c', 'bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report'\n}\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/", "title": "Troubleshooting coverage CLI issues", "text": "<p>The sections below provide instructions or workarounds to overcome common issues while using Codacy Coverage Reporter CLI:</p> <ul> <li>Can't guess any report due to no matching</li> <li>Can't validate checksum</li> <li>Commit SHA-1 hash detection</li> <li>Connect timed out while uploading coverage data</li> <li>coverage-xml/index.xml generated an empty result</li> <li>JsonParseException while uploading coverage data</li> <li>MalformedInputException while parsing report</li> <li>No coverage data was sent</li> <li>Report generated an empty result while uploading C# coverage data</li> <li>SubstrateSegfaultHandler caught signal 11</li> </ul>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#cant-guess-any-report-due-to-no-matching", "title": "Can't guess any report due to no matching", "text": "<p>Codacy Coverage Reporter automatically searches for coverage reports matching the file name conventions for supported formats.</p> <p>However, if Codacy Coverage Reporter doesn't find your coverage report, you can explicitly define the report file name with the flag <code>-r</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report -r &lt;coverage report file name&gt;\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#checksum", "title": "Can't validate checksum", "text": "<p>Starting on version 13.0.0 the <code>get.sh</code> script automatically validates the checksum of the downloaded Codacy Coverage Reporter binary. This requires having either the <code>sha512sum</code> or <code>shasum</code> command on the operating system where you're running the script.</p> <p>If you're getting this error while uploading your coverage data to Codacy, install the correct version of <code>sha512sum</code> or <code>shasum</code> for the operating system that you're using.</p> <p>You can also skip validating the checksum of the binary by defining the following environment variable, however, Codacy doesn't recommend this:</p> <pre><code>export CODACY_REPORTER_SKIP_CHECKSUM=true\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#commit-detection", "title": "Commit SHA-1 hash detection", "text": "<p>The Codacy Coverage Reporter automatically detects the SHA-1 hash of the current commit to associate with the coverage data when you're using one of the following CI/CD platforms:</p> <ul> <li>Appveyor</li> <li>Argo CD</li> <li>AWS CodeBuild</li> <li>Azure Pipelines</li> <li>Bitrise</li> <li>Buildkite</li> <li>Circle CI</li> <li>Codefresh</li> <li>Codeship</li> <li>Docker</li> <li>GitLab</li> <li>Greenhouse CI</li> <li>Heroku CI</li> <li>Jenkins</li> <li>Magnum CI</li> <li>Semaphore CI</li> <li>Shippable CI</li> <li>Solano CI</li> <li>TeamCity CI</li> <li>Travis CI</li> <li>Wercker CI</li> </ul> <p>If the Codacy Coverage Reporter fails to detect the current commit from the CI workflow context, it will use the current commit from the local Git repository instead.</p> <p>However, you can also force using a specific commit SHA-1 hash with the flag <code>--commit-uuid</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    -r report.xml \\\n    --commit-uuid cd4d000083a744cf1617d46af4ec108b79e06bed\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#connect-timed-out-while-uploading-coverage-data", "title": "Connect timed out while uploading coverage data", "text": "<p>If you get a <code>Error doing a post to &lt;...&gt; connect timed out</code> error while uploading your coverage data to Codacy it means that the Codacy Coverage Reporter is timing out while connecting to the Codacy API. This typically happens if you're uploading coverage data for larger repositories.</p> <p>To increase the default timeout while connecting to the Codacy API, use the flag <code>--http-timeout</code> to set a value larger than 10000 milliseconds. For example, to set the timeout to 30 seconds:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    -r report.xml \\\n    --http-timeout 30000\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#coverage-xmlindexxml-generated-an-empty-result", "title": "coverage-xml/index.xml generated an empty result", "text": "<p>If you're using PHPUnit version 5 or above to generate your coverage report, you must output the report using the Clover format. Codacy Coverage Reporter supports the PHPUnit XML format only for versions 4 and older.</p> <p>To change the output format replace the flag <code>--coverage-xml &lt;dir&gt;</code> with <code>--coverage-clover &lt;file&gt;</code> when executing <code>phpunit</code>.</p> <p>See PHPUnit command-line documentation for more information.</p>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#jsonparseexception-while-uploading-coverage-data", "title": "JsonParseException while uploading coverage data", "text": "<p>If you get a <code>com.fasterxml.jackson.core.JsonParseException</code> error while uploading your coverage data to Codacy it means that your coverage report is too big and that Codacy Coverage Reporter hit a limit of 10 MB when uploading the coverage data to Codacy.</p> <p>There are some ways you can solve this:</p> <ul> <li> <p>Split your coverage reports into smaller files and upload them to Codacy one at a time.</p> </li> <li> <p>If you're using dotCover to generate coverage reports for your C# projects, you should exclude xUnit files from the coverage analysis as follows:</p> <pre><code>dotCover.exe cover &lt;...&gt; /Filters=-:xunit*\n</code></pre> <p>By default, dotCover includes xUnit files in the coverage analysis and this results in larger coverage reports. This filter helps ensure that the resulting coverage data doesn't exceed the size limit accepted by the Codacy API when uploading the results.</p> </li> </ul>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#malformedinputexception-while-parsing-report", "title": "MalformedInputException while parsing report", "text": "<p>If you get a <code>java.nio.charset.MalformedInputException</code> when running the Codacy Coverage Reporter it means that the coverage report includes a character that's not encoded in UTF-8. The invalid character can belong to the file name of one of your source code files, or even a class or method name.</p> <p>For maximum compatibility of your coverage reports with the Codacy Coverage Reporter, make sure that your coverage reports use UTF-8 encoding and that they only include UTF-8 characters.</p>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#no-coverage-data-was-sent", "title": "No coverage data was sent", "text": "<p>You can get the <code>No coverage data was sent</code> error when running the Codacy Coverage Reporter for the following reasons:</p> <ul> <li>The coverage report doesn't include any coverage data.</li> <li>The coverage report only includes data for files that don't exist in the associated Git repository. In this case, you also get one or more warnings <code>File: [filename] will be discarded and will not be considered for coverage calculation</code>.</li> </ul> <p>Make sure that your coverage report isn't empty and that it includes coverage data for files in the associated Git repository.</p> <p>Note</p> <p>If you upload multiple coverage reports and at least one contains valid data, the Codacy Coverage Reporter uploads the valid reports and ignores the invalid ones.</p>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#detailedxml", "title": "Report generated an empty result while uploading C# coverage data", "text": "<p>If you're using dotCover to generate coverage reports for your C# projects, you must use the dotCover detailedXML report format as follows:</p> <pre><code>dotCover.exe cover &lt;...&gt; --reportType=DetailedXml\n</code></pre>"}, {"location": "coverage-reporter/troubleshooting-coverage-cli-issues/#substratesegfaulthandler-caught-signal-11", "title": "SubstrateSegfaultHandler caught signal 11", "text": "<p>If you're experiencing segmentation faults when uploading the coverage results due to oracle/graal#624, execute the following command before running the reporter, as a workaround:</p> <pre><code>echo \"$(dig +short api.codacy.com | tail -n1) api.codacy.com\" &gt;&gt; /etc/hosts\n</code></pre>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/", "title": "Uploading coverage in advanced scenarios", "text": "<p>The following sections include instructions on how to use the Codacy Coverage Reporter to upload coverage data in more advanced scenarios.</p>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#multiple-reports", "title": "Uploading multiple coverage reports for the same language", "text": "<p>If your test suite is split into different modules or runs in parallel, you must upload multiple coverage reports for the same language either at once or in sequence.</p> <p>Alternatively, consider merging multiple coverage reports before uploading them to Codacy. Most coverage tools support merging or aggregating coverage data. For example, use the merge mojo for JaCoCo.</p> <p>Note</p> <p>If one or more coverage reports mark a line as covered multiple times, Codacy counts it as a single covered line when calculating coverage.</p>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#multiple-reports-once", "title": "Uploading all reports at once", "text": "<p>Upload multiple partial coverage reports with a single command by specifying each report with the flag <code>-r</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    -l Java -r report1.xml -r report2.xml -r report3.xml\n</code></pre> <p>You can also upload all your reports dynamically using the command <code>find</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    -l Java $(find . -name 'jacoco*.xml' | sed 's,^, -r ,' | xargs echo)\n</code></pre>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#multiple-reports-sequence", "title": "Uploading reports in sequence", "text": "<p>Upload multiple partial coverage reports in sequence:</p> <ol> <li> <p>Upload each report separately with the flag <code>--partial</code>.</p> <p>If you're sending reports for a language with the flag <code>--partial</code>, you must use the flag in all reports for that language to ensure the correct calculation of the coverage.</p> </li> <li> <p>Notify Codacy with the <code>final</code> command after uploading all reports.</p> </li> </ol> <p>For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    --partial -l Java -r report1.xml\nbash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    --partial -l Java -r report2.xml\nbash &lt;(curl -Ls https://coverage.codacy.com/get.sh) final\n</code></pre>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#multiple-languages", "title": "Uploading the same coverage report for multiple languages", "text": "<p>If your test suite generates a single coverage report for more than one language, you must upload the same coverage report for each language.</p> <p>To do this, upload the same report multiple times, specifying each different language with the flag <code>-l</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    --partial -l Javascript -r report.xml\nbash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    --partial -l TypeScript -r report.xml\nbash &lt;(curl -Ls https://coverage.codacy.com/get.sh) final\n</code></pre>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#golang", "title": "Uploading coverage for Golang", "text": "<p>Codacy can't automatically detect Golang coverage report files because they don't have specific file names.</p> <p>If you're uploading a Golang coverage report, you must also specify the report type:</p> <pre><code>go test -coverprofile=unit.coverage.out ./...\nbash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n    --force-coverage-parser go -r unit.coverage.out\n</code></pre>"}, {"location": "coverage-reporter/uploading-coverage-in-advanced-scenarios/#unsupported-languages", "title": "Uploading coverage for unsupported languages", "text": "<p>If your language isn't in the list of supported languages, you can still send coverage to Codacy.</p> <p>To do this, provide the correct language with the flag <code>-l</code>, together with <code>--force-language</code>. For example:</p> <pre><code>bash &lt;(curl -Ls https://coverage.codacy.com/get.sh) report \\\n  -l Kotlin --force-language -r &lt;coverage report file name&gt;\n</code></pre> <p>See the list of languages that you can specify using the flag <code>-l</code>.</p>"}, {"location": "faq/code-analysis/can-i-bypass-codacy-status-check/", "title": "Can I bypass Codacy status check?", "text": "<p>To protect your code from unwelcome changes, you can configure your Git workflow to block merging pull requests if they don't pass the Codacy status check.</p> <p>However, on very specific and exceptional situations where your pull request merging is blocked due to an unexpected issue not related to the quality of your code, Codacy allows repository admins to bypass the Codacy status check for that pull request.</p> <p>To bypass Codacy status check for a pull request, a repository admin must click Bypass status checks on the pull request status area of the pull request detail screen.</p> <p></p>"}, {"location": "faq/code-analysis/does-codacy-check-for-dependencies/", "title": "Does Codacy check for dependencies?", "text": "<p>Yes, Codacy scans the manifest files of your repositories and displays any vulnerable dependencies as Codacy issues.</p> <p>For a list of supported languages and manifest files scanned by the Codacy dependency vulnerability scanning tools, see Supported languages and tools.</p>"}, {"location": "faq/code-analysis/does-codacy-place-limits-on-the-code-analysis/", "title": "Does Codacy place limits on the code analysis?", "text": "<p>Codacy uses limits when performing the analysis of your repositories to ensure good performance levels and avoid degradation of service during peak load.</p> <p>The following table describes these limits and includes links to more information and workarounds, if available:</p> Limit Value Rationale File size 150 KB  Large source code files are typically generated by or dependent on a third-party, and could significantly delay the analysis. See Why is my file over 150 KB missing? File size for coverage reports 10 MB  Codacy doesn't parse code coverage reports that are over the file size limit. See JsonParseException while uploading coverage data Number of files for duplication 5000  Some tools fail to calculate duplication or time out when analyzing a number of files above this number. See Why aren't duplication metrics being calculated? Number of issues per file and per tool 50  Codacy limits the number of issues returned on each file by individual tools as a safeguard against degradation of performance on large or unexpected use cases. This means that in some situations Codacy could report more issues after a push that includes fixes for the currently reported issues.  Number of comments on the Git provider 25  Codacy limits the number of comments for reporting found issues on pull requests to avoid triggering too many notification emails and to guard against hitting API rate limits.  Showing issues on duplicated lines -  For now, Codacy only reports the first code issue when there are issues on duplicated lines on the same file.   <p>If you believe that you may have hit any of these limits and need help to overcome them, please contact us at support@codacy.com.</p>"}, {"location": "faq/code-analysis/does-codacy-place-limits-on-the-code-analysis/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "faq/code-analysis/how-long-does-it-take-for-my-repository-to-be-analyzed/", "title": "How long does it take for my repository to be analyzed?", "text": "<p>Codacy usually takes under 5 minutes to analyze your repository. It may however take longer, depending on a number of factors:</p> <ul> <li> <p>Whether it's the initial analysis of your repository</p> <p>The initial analysis examines all files in the repository, while each subsequent commit triggers an analysis only on files changed in that commit.</p> </li> <li> <p>Whether tool configurations have been updated</p> <p>Updates to tool configurations trigger a reanalysis of all files in the repository on the next commit and may impact analysis duration.</p> </li> <li> <p>The size of your repository</p> <p>To speed up the analysis, ignore any files and directories that aren't relevant to your project, such as generated code or any third-party libraries included in your repositories.</p> </li> <li> <p>The time it takes your Git provider to trigger the analysis</p> <p>Codacy relies on post-commit hooks sent by your Git provider to trigger the analysis after each push to the repository, so if your analysis is taking a lot of time to start check that the Post-Commit Hook integration for your repository is enabled.</p> </li> <li> <p>The priority of your analysis request and the current load on Codacy's servers</p> <p>Open-source projects have lower priority in the Codacy analysis queues.</p> </li> <li> <p>Whether Codacy or your Git provider is currently experiencing issues or outages</p> <p>Check the Codacy status page and the status page of your Git provider (GitHub, GitLab, Bitbucket) to see if there is any ongoing incident that could delay the analysis.</p> </li> </ul>"}, {"location": "faq/code-analysis/how-to-configure-php-codesniffer-coding-standards/", "title": "How to configure PHP_CodeSniffer coding standards?", "text": "<p>By default, Codacy uses the PHP_CodeSniffer configuration on the Code patterns page when analyzing your repositories.</p> <p>To enforce a specific PHP_CodeSniffer coding standard you must create a configuration file on the root of your repository that references one or more of the following coding standards:</p> <ul> <li> <p>Default coding standards packaged together with PHP_CodeSniffer:</p> <p>https://github.com/squizlabs/PHP_CodeSniffer/tree/master/src/Standards</p> </li> <li> <p>Additional coding standards that Codacy packages on the PHP_CodeSniffer tool plugin. Check the repository the additional coding standards to learn how you can reference them in your configuration files:</p> <p>https://github.com/codacy/codacy-codesniffer/blob/master/composer.json</p> </li> </ul> <p>For example, create a text file with the name <code>phpcs.xml</code> to use the PSR12 coding standard but excluding the sniffs <code>Generic.WhiteSpace.DisallowTabIndent</code> and <code>PSR12.Operators.OperatorSpacing</code>:</p> <pre><code>&lt;?xml version=\"1.0\"?&gt;\n&lt;ruleset name=\"PHP_CodeSniffer\"&gt;\n  &lt;description&gt;PHP_CodeSniffer configuration&lt;/description&gt;\n  &lt;rule ref=\"PSR12\"&gt;\n    &lt;exclude name=\"Generic.WhiteSpace.DisallowTabIndent\"/&gt;\n    &lt;exclude name=\"PSR12.Operators.OperatorSpacing\"/&gt;\n  &lt;/rule&gt;\n&lt;/ruleset&gt;\n</code></pre>"}, {"location": "faq/code-analysis/how-to-configure-php-codesniffer-coding-standards/#see-also", "title": "See also", "text": "<p>Check these external resources for more help on customizing your PHP_CodeSniffer configuration:</p> <ul> <li>PHP_CodeSniffer configuration file syntax</li> <li>PHP Coding Standard Generator</li> </ul>"}, {"location": "faq/code-analysis/how-to-skip-an-analysis/", "title": "How to skip an analysis?", "text": "<p>By default, Codacy automatically analyzes a repository whenever you push changes. However, you can override this behavior by adding one of the \"skip\" tags - <code>[ci skip]</code>, <code>[skip ci]</code>, <code>[codacy skip]</code> or <code>[skip codacy]</code> - anywhere in the subject or body of the commit message. For example:</p> <pre><code>git commit -a -m \"Add eslint-plugin-chai-expect version 1.1.1 [ci skip]\"\n</code></pre> <p>If you later decide to analyze a skipped commit, you can override any skip tags by reanalyzing the commit.</p> <p>Note</p> <p>This feature isn't supported for pull requests.</p>"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/", "title": "Which metrics does Codacy calculate?", "text": "<p>Codacy performs static code analysis and calculates code duplication, code complexity, and code coverage metrics for most supported programming languages.</p> <p>The following sections describe how Codacy calculates each supported metric and where you can see each metric on the Codacy UI:</p> <ul> <li>Grade</li> <li>Issues</li> <li>Complexity</li> <li>Duplication</li> <li>Code coverage</li> </ul> <p>Note</p> <p>Depending on certain characteristics of your repository, such as the number of source code files and their size, Codacy may apply limits to the code analysis that impact the calculation of the supported metrics.</p>"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#grade", "title": "Grade", "text": "<p>Codacy assigns an overall grade to your repository branches and to individual files to help you assess the code quality of your repository. Grades represent a weighted average of the available code quality metrics (issues, complexity, duplication, and coverage), and range from A to F:</p> Highest grade Lowest grade <p>Codacy displays grades on the following places:</p> Place Metric Files page Grade for each file in your repository Repository DashboardCodacy badge Grade of each analyzed branch in your repository Email notifications Grade of your repository Organization overview Average grade of the repositories in your organization and grade of each repository Repositories list Grade of each repository in your organization"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#issues", "title": "Issues", "text": "<p>Codacy calculates the number of issues in the following static code analysis categories:</p> <ul> <li>Code style: Code formatting and syntax problems, such as variable names style and enforcing the use of brackets and quotation marks</li> <li>Error prone: Code that may hide bugs and language keywords that should be used with caution, such as the operator <code>==</code> in JavaScript or <code>Option.get</code> in Scala</li> <li>Code complexity: High complexity methods and classes that should be refactored</li> <li>Performance: Code that can have performance problems</li> <li>Compatibility: Mainly for frontend code, compatibility problems across different browser versions</li> <li>Unused code: Unused variables and methods, code that can't be reached</li> <li>Security: Potential security vulnerabilities, including hard-coded passwords and keys (secret scanning), vulnerable dependencies (software composition analysis or SCA), and insecure code patterns (static application security testing or SAST). For more information, see the complete list of security issue categories</li> <li>Documentation: Methods and classes that don't have the correct comment annotations</li> <li>Best practice: Code that doesn't follow the recommended coding standards and best practices</li> <li>Comprehensibility: Code that can be difficult to understand and modify</li> </ul> <p>Besides this, Codacy also allows you to compare issues across repositories with different sizes by calculating the issue cost relative to a baseline of 1 point per line of code, where the cost of each issue depends on its severity: Critical = 10 points, Medium = 5 points, Minor = 1 point. This means that if your repository has 50% issues, the amount and severity of the issues in your repository is half of the baseline.</p> <p>Codacy displays issues on the following places:</p> Place Metric Commit detail pagePull request detail pageEmail notifications Number of new and fixed issues introduced by the commit or pull request Files page Number of issues in each file Issues page List of all issues detected in each branch Repository Dashboard Issue percentage and how the metric is evolving over time Organization overview Average issue percentage of the repositories in your organization and issue percentage of each repository Repositories list page Issue percentage in each repository in your organization"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#complexity", "title": "Complexity", "text": "<p>Codacy uses cyclomatic complexity to identify files with complex methods in your repository. Cyclomatic complexity is the number of linearly independent paths through the source code of a method: the more control flow statements used in a method, the higher the value. Methods with a high cyclomatic complexity are more difficult to test and more likely to have defects. Learn more about code complexity on Codacy's blog.</p> <p>Codacy calculates complexity as follows:</p> <ul> <li>The complexity value for each file is the highest cyclomatic complexity of the methods in the file.</li> <li>A file is considered complex if its cyclomatic complexity value is higher than the threshold File is complex when over.</li> <li>The complexity value of a commit or pull request is the sum of the cyclomatic complexity of the files that were changed in the commit or pull request and that have a high complexity increase, defined as an increase of 4 or more.</li> </ul> <p>Codacy displays complexity on the following places:</p> Place Metric Commit detail pagePull request detail pageEmail notifications Variation of the complexity value introduced by the commit or pull request Files page Complexity value of each file Repository Dashboard Percentage of complex files in your repository and how the metric is evolving over time Organization overview Average percentage of complex files in the repositories in your organization and percentage of complex files in each repository Repositories list page Percentage of complex files in each repository in your organization"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#duplication", "title": "Duplication", "text": "<p>Codacy identifies clones or sequences of duplicate code that exist in at least two different places of the source code of your repository. Clones typically indicate deeper code quality issues and should be eliminated through abstraction when possible.</p> <p>Codacy calculates duplication as follows:</p> <ul> <li>The duplication value for each file is the number of clones in the file.</li> <li>A file is considered duplicated if the number of clones in the file is higher than the threshold File is duplicated when over.</li> <li>The duplication value of a commit or pull request is the number of clones introduced by the commit or pull request.</li> </ul> <p>Note</p> <p>You can customize the rules for identifying duplicated blocks of code when using PMD CPD to analyze the source code of your repository.</p> <p>Codacy displays duplication on the following places:</p> Place Metric Commit detail pagePull request detail pageEmail notifications Number of clones added or fixed by a commit or pull request Files page Duplication value of each file Repository Dashboard Percentage of duplicated files in your repository and how the metric is evolving over time Organization overview Average percentage of duplicated files in the repositories in your organization and percentage of complex files in each repository Repositories list page Percentage of duplicated files in each repository in your organization"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#code-coverage", "title": "Code coverage", "text": "<p>Code coverage describes the degree to which the source code of a program is tested. There are several types of coverage, but Codacy uses line coverage, which measures the percentage of coverable lines of code that are covered by automated tests. Learn more about code coverage on Codacy's blog.</p> <p>You must set up your CI/CD pipeline to upload code coverage data to Codacy. Because of this, the tool that you use to generate the coverage reports is responsible for creating the data that Codacy then uses to calculate code coverage.</p> <p>Codacy calculates code coverage as follows:</p> <ul> <li>The coverage value for each file is the percentage of coverable lines that are covered by tests in the file. If a line is covered multiple times, Codacy counts it as a single covered line when calculating coverage.</li> <li>A repository is considered to have acceptable coverage if the percentage of coverable lines that are covered by tests in the repository is higher than the threshold Coverage is under.</li> </ul> <ul> <li>The coverage variation of a commit or pull request is the increase or drop in the percentage of coverable lines that are covered by tests in the repository because of the changes of the commit or pull request.</li> <li> <p>The diff coverage of a pull request is the percentage of coverable lines that the pull request added or modified that are covered by tests.</p> <p>If a pull request doesn't add or modify any coverable lines, the diff coverage is <code>\u2205</code> (not applicable). This scenario happens when the only changes in a pull request are:</p> <ul> <li>Deleted lines</li> <li>Added or modified lines that aren't coverable</li> </ul> </li> </ul> <p>Note</p> <p>If you encounter a situation where Codacy shows an unexpected drop in coverage, learn about the most common reasons causing those scenarios.</p> <p>Once the coverage setup is complete, Codacy displays coverage data on the following places:</p> Place Metric Commit detail pagePull request detail pageEmail notifications Variation in percentage points of the coverage value for all files in the commit or pull request Pull request detail page Diff coverage for the changes included in the pull request Files page Coverage percentage of each file Repository Dashboard Coverage of the most recent commit of the selected branch and its evolution over time Codacy badge Coverage of the most recent commit of the configured branch Organization overview Average coverage of the repositories in your organization and coverage of each repository Repositories list page Coverage of each repository in your organization"}, {"location": "faq/code-analysis/which-metrics-does-codacy-calculate/#see-also", "title": "See also", "text": "<ul> <li>Diff coverage: we have a new metric and quality gate rule for PRs</li> <li>Why does Codacy show unexpected coverage changes?</li> <li>Does Codacy place limits on the code analysis?</li> </ul>"}, {"location": "faq/code-analysis/why-does-codacy-show-unexpected-coverage-changes/", "title": "Why does Codacy show unexpected coverage changes?", "text": "<p>You may encounter some situations where Codacy shows unexpected drops in coverage, potentially causing your quality gates to fail. Usually, these drops in coverage happen in files that the commit or pull request didn't change.</p> <p>There are multiple reasons for this, but it's important to understand that each coverage report that you upload to Codacy contains information about which lines of code in your repository are tested or not in a specific commit. In particular, each coverage report provides the following information about the lines of your source code files:</p> <ul> <li>Coverable lines (lines that can be tested), by listing those lines</li> <li>Covered lines (lines that were tested at least once), by marking those lines as tested or having a number of test hits</li> <li>Not coverable lines (lines that can't be tested), by not listing those lines</li> </ul> <p>For example, the coverage report represented below includes coverage information for two source code files:</p> <ul> <li>File <code>ClassA.java</code> has two coverable lines and all are covered by tests</li> <li>File <code>ClassB.java</code> has three coverable lines but only line 1 is covered by tests</li> </ul> File Line number Covered by tests? ClassA.java 2 Yes 4 Yes ClassB.java 1 Yes 3 No 11 No <p>Based on the information obtained from the coverage reports, Codacy calculates code coverage as follows:</p> <ul> <li> <p>The coverage for a file, commit, or pull request is the percentage of covered lines in the universe of coverable lines for that file, commit, or pull request. For example, a commit with 85 covered lines out of a total of 100 coverable lines has 85% coverage.</p> </li> <li> <p>The coverage variation of a commit or pull request is the increase or drop in the percentage of coverable lines that are covered by tests in the repository because of the changes of the commit or pull request.</p> </li> <li> <p>The diff coverage of a pull request is the percentage of coverable lines that the pull request added or modified that are covered by tests.</p> <p>If a pull request doesn't add or modify any coverable lines, the diff coverage is <code>\u2205</code> (not applicable). This scenario happens when the only changes in a pull request are:</p> <ul> <li>Deleted lines</li> <li>Added or modified lines that aren't coverable</li> </ul> </li> </ul> <p>Important</p> <p>Note that changes external to a source code file can affect the lines that are or aren't covered in that file.</p>"}, {"location": "faq/code-analysis/why-does-codacy-show-unexpected-coverage-changes/#common-reasons-for-unexpected-coverage-changes", "title": "Common reasons for unexpected coverage changes", "text": "<p>There are several reasons that could cause Codacy to report unexpected coverage results, from changes to your source code to external factors. The following is a non-exhaustive list of the most common reasons:</p> <ul> <li> <p>Adding new tests or removing existing tests from your project.</p> <p>Even small and localized changes to your tests can have an impact on the amount of covered lines across your repository.</p> </li> <li> <p>Changing the logic of your application or tests.</p> <p>Changing the control flow of your application or tests can mean that different areas of your code start or stop being covered by tests. For example, inverting the result of the Boolean expression of an if statement means that a different branch of your code could now be tested.</p> </li> <li> <p>Failing to upload coverage reports, or uploading a different number of reports between commits.</p> <p>This can be caused by a failed step in your CI/CD pipeline, for example. In the case of pull requests, you should make sure that you upload all relevant coverage reports for both the common ancestor commit and the head commit of the pull request branch.</p> </li> <li> <p>Ignoring files on Codacy.</p> <p>Updating the list of ignored files can have an impact on the amount of coverable and covered lines of the commits that Codacy compares to calculate the coverage variation metric.</p> </li> <li> <p>External factors affecting the execution of tests.</p> <p>A variety of factors that are external to your code can affect the execution of tests and, consequently, the results contained in the coverage reports. A few examples of these external factors are:</p> <ul> <li>Updates to dependencies of your project that could result in different test execution paths</li> <li>Misconfiguration of repository secrets that could prevent some test execution paths</li> <li>Tests that are dependent on time, such as running test cases only on specific dates or times of the day</li> <li>\"Flaky\" tests caused by any inconsistent or unreliable behavior of your code, infrastructure, or third-party services</li> </ul> </li> </ul> <p>The examples below describe in more detail how specific changes in your code impact the coverage metrics that Codacy calculates.</p>"}, {"location": "faq/code-analysis/why-does-codacy-show-unexpected-coverage-changes/#example-diff-coverage-is-100-but-pull-request-coverage-variation-is-negative", "title": "Example: Diff coverage is 100% but pull request coverage variation is negative", "text": "<p>Consider an example pull request where Codacy shows the following metrics:</p> <ul> <li>100% diff coverage</li> <li>A negative coverage variation</li> </ul> <p></p> <p>There are two possible scenarios that could cause this result:</p> <ul> <li> <p>Removing covered lines or tests</p> <p>Since diff coverage only applies to covered lines that the pull request added or modified, removed lines don't affect the diff coverage metric. However, removing covered lines or tests means that there are now less covered lines in the repository, causing a drop in coverage.</p> </li> <li> <p>Application logic changes</p> <p>A change in the flow of execution of your application or tests can mean that a different number of coverable lines in your repository are now covered by tests, causing a drop in coverage. However, if all lines modified in the pull request continue to be covered, the diff coverage metric is 100%.</p> </li> </ul> <p>The table below represents two example coverage reports reflecting a pull request that causes line 1 of the file <code>ClassB.java</code> to stop being covered:</p> Common ancestor commit Head commit File Line number Covered by tests? Line number Covered by tests? ClassA.java 2 Yes 2 Yes 4 Yes 4 Yes ClassB.java 1 Yes 1 No 3 No 3 No 11 No 11 No <p>The table below displays the code coverage metrics as calculated by Codacy:</p> <ul> <li>Initially, <code>ClassB.java</code> was 33.33% covered but after the changes from the pull request the file is now 0% covered, causing the repository coverage to drop 20%</li> <li>As long as the pull request also modified any covered line that continues to be covered, the diff coverage is 100%</li> </ul> Common ancestor commit Head commit Pull request results File Coverablelines Coveredlines Coverage Coverablelines Coveredlines Coverage Coverage variation Diff coverage ClassA.java 2 2 100% 2 2 100% 0% ClassB.java 3 1 33.33% 3 0 0% -33.33% Total 5 3 60% 5 2 40% -20% 100%"}, {"location": "faq/code-analysis/why-does-codacy-show-unexpected-coverage-changes/#example-pull-request-coverage-variation-is-negative-but-no-files-have-coverage-variation", "title": "Example: Pull request coverage variation is negative but no files have coverage variation", "text": "<p>Consider an example pull request where Codacy shows the following metrics:</p> <ul> <li>Negative coverage variation</li> <li>There aren't any files with coverage variation</li> </ul> <p></p> <p>Removing covered lines from a file that had 100% coverage means that the file will continue to have 100% coverage. All lines in the file continue to be covered, even though there are now less covered lines. As such, there is no coverage variation for the file.</p> <p>However, since the proportion between the total number of covered and coverable lines across all files in the repository is now different, there can be a drop in the coverage variation for the pull request.</p> <p>Important</p> <p>If you're using the gate Coverage variation is under, configure at least a -0.10% coverage variation margin to ensure that developers aren't blocked while performing code refactors such as the one from this example.</p> <p>The table below represents two example coverage reports reflecting a pull request that removes lines 5 and 6 of the file <code>ClassA.java</code>:</p> Common ancestor commit Head commit File Line number Covered by tests? Line number Covered by tests? ClassA.java 2 Yes 2 Yes 4 Yes 4 Yes 5 Yes 6 Yes ClassB.java 1 Yes 1 Yes 3 No 3 No 11 No 11 No <p>The table below displays the code coverage metrics as calculated by Codacy:</p> <ul> <li>Initially, <code>ClassA.java</code> was 100% covered and continues to be 100% covered after the pull request, causing the coverage variation for the file to be 0%</li> <li>However, there were 62.5% lines covered across all files in the repository but after the pull request only 60% of the lines are now covered, causing the pull request coverage variation to drop 2.5%</li> </ul> Common ancestor commit Head commit Pull request results File Coverablelines Coveredlines Coverage Coverablelines Coveredlines Coverage Coverage variation ClassA.java 4 4 100% 2 2 100% 0% ClassB.java 3 1 33.33% 3 1 33.33% 0% Total 7 5 62.5% 5 3 60% -2.5%"}, {"location": "faq/code-analysis/why-does-codacy-show-unexpected-coverage-changes/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Adding coverage to your repository</li> </ul>"}, {"location": "faq/general/does-codacy-keep-audit-logs/", "title": "Does Codacy keep audit logs for my organization?", "text": "<p>On Business plan, Codacy logs significant organization events that can be retrieved for audit reporting.</p> <p>See Audit logs for organizations for the complete list of events that Codacy logs, and how to obtain audit log data.</p>"}, {"location": "faq/general/how-can-i-change-or-cancel-my-plan/", "title": "How can I change or cancel my plan?", "text": "<p>You can change or cancel your Codacy plan at any time. If you choose to cancel your annual subscription before the conclusion of the 12 months, your account will continue to work for the remainder of the annual billing period.</p> <p>Codacy values feedback and we thank you in advance for letting us know the primary reason behind your decision to leave, whether budgetary constraints or missing deal-breaker functionality.</p>"}, {"location": "faq/general/how-can-i-change-or-cancel-my-plan/#if-youre-using-codacy-cloud", "title": "If you're using Codacy Cloud", "text": "<p>If you're using Codacy Cloud see how to change the plan and billing of your Codacy organization.</p> <p>Alternatively, delete your organization to remove all its repositories from Codacy and cancel your existing plan.</p> <p>Note</p> <ul> <li> <p>If you're using GitHub Marketplace, update your billing details or cancel your plan directly on your GitHub Billing page.</p> </li> <li> <p>If you cancel your plan or switch to a different Enterprise plan, some repositories may show outdated information in the Codacy UI. To update this information, reanalyze the repositories or push new commits.</p> </li> </ul>"}, {"location": "faq/general/how-can-i-change-or-cancel-my-plan/#if-youre-using-codacy-self-hosted", "title": "If you're using Codacy Self-hosted", "text": "<p>To help you understand how you're consuming your licensed Codacy seats, use codacy-usage-report to obtain details about the activity of the users in your Codacy Self-hosted instance.</p> <p>If you decide to cancel your plan, please contact support@codacy.com and we'll swiftly process the cancellation.</p>"}, {"location": "faq/general/how-can-i-change-or-cancel-my-plan/#see-also", "title": "See also", "text": "<ul> <li>Changing your plan and billing</li> </ul>"}, {"location": "faq/general/how-do-i-allowlist-codacy-cloud-on-my-git-provider/", "title": "How do I allowlist Codacy Cloud on my Git provider?", "text": "<p>This is a paid feature</p> <p>If you require an additional layer of security and control on your Git provider, you can configure an allowlist containing the specific IP addresses that are able to access your Git repositories and resources.</p> <p>To allowlist Codacy Cloud on your Git provider:</p> <ol> <li> <p>Send an email to success@codacy.com or directly to your CSM asking us to enable static IP addresses for your organization.</p> <p>Note</p> <p>Enabling static IPs for an organization is a paid feature.</p> </li> <li> <p>After receiving a confirmation that static IP addresses are active for your Codacy Cloud organization, add the following IP addresses to the allowlist on your Git provider:</p> <ul> <li>34.254.123.99</li> <li>18.203.76.9</li> </ul> <p>The following are the instructions on how to allow IP addresses to access resources on each Git provider:</p> <ul> <li>GitHub Cloud: Managing allowed IP addresses for your organization</li> <li>GitLab Cloud: Restrict group access by IP address</li> <li>Bitbucket Cloud: Allowlisting IP addresses</li> </ul> </li> </ol>"}, {"location": "faq/general/how-does-codacy-keep-my-data-secure/", "title": "How does Codacy keep my data secure?", "text": "<p>Keeping our customers' data protected at all times is our highest priority. This security overview provides a high-level overview of the security practices put in place to achieve that objective.</p> <p>Have questions or feedback? Feel free to reach out to us at security@codacy.com.</p>"}, {"location": "faq/general/how-does-codacy-protect-my-privacy/", "title": "How does Codacy protect my privacy?", "text": "<p>In May 2018 the new \"General Data Protection Regulation\" (GDPR) came into effect. This regulation contains the most significant changes to European data privacy legislation in the last 20 years and gives you more control over your personal data and greater transparency on how it's used.</p> <p>At Codacy, keeping your personal data safe has always been a top priority and we took GDPR as another opportunity for us to strengthen this commitment to you. We've changed our data processing policies, operations, activities, and documentation as a response to GDPR and have updated our Privacy Policy to incorporate said changes and specifically reflect the new regulation.</p> <p>Below are some highlights of the updated policy:</p> <ul> <li>Transparency: We've reworded our privacy policy for better navigation and to make it easier to read. Our policy outlines the type of personal data we collect, how we collect and process the data, and for what purposes. It also explains how we store, transfer, and share personal data, and our data retention practices</li> <li>Control: Our policy now further explains the control you have over information about you and your online activities. At any time, you can request information, correction, deletion, or changes to your personal data or/and make changes yourself</li> <li>GDPR: We've included additional language to discuss rights for users located in the European Union (EU)</li> </ul> <p>If you have any questions on this, please email us at privacy@codacy.com or reach out through our live chat option.</p>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-cloud/", "title": "How does Codacy support Bitbucket Cloud?", "text": "<p>When you use Bitbucket Cloud to sign up or log into Codacy, the Bitbucket teams that you belong to will be available to be added as Organizations on Codacy.</p> <p>After adding a team:</p> <ul> <li>Codacy displays the list of all repositories in that team so that you can add them to Codacy as repositories to be analyzed</li> <li>The members of the team will be able to join or request to join Codacy</li> </ul> <p>If you have repositories that don't belong to any team, you can still add those on Codacy directly under My Repositories.</p>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-cloud/#limitations", "title": "Limitations", "text": "<p>Currently, the integration between Codacy and Bitbucket Cloud has the following limitations:</p> <ul> <li>Users that are deleted from Bitbucket Cloud are not automatically removed from Codacy. These users must be manually removed from Codacy, namely to ensure that Codacy only bills seats corresponding to active users.</li> <li>Deleted teams and repositories are not automatically deleted from Codacy. However, you can manually delete the corresponding Organizations or repositories from Codacy.</li> <li>Renamed Team workspace IDs aren't automatically renamed on Codacy, causing Codacy to stop analyzing the repositories in those teams. You must click the button Synchronize in the settings of the corresponding Organization on Codacy to synchronize the workspace ID and resume the analysis of the repositories.</li> <li>Repositories that are moved between teams are not automatically transferred between Organizations on Codacy. You must manually delete these repositories from their source Organization and add them to their new Organization.</li> <li>Codacy only sends commit and pull request notification emails to the authors of the commits and pull requests.</li> <li>Codacy doesn't analyze pull requests submitted from forked repositories.</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-cloud/#see-also", "title": "See also", "text": "<ul> <li>What are organizations</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-server/", "title": "How does Codacy support Bitbucket Server?", "text": "<p>When you use Bitbucket Server to sign up or log into Codacy, the Bitbucket projects that you belong to will be available to be added as Organizations on Codacy.</p> <p>After adding a project:</p> <ul> <li>Codacy displays the list of all repositories that you own in that project so that you can add them to Codacy as repositories to be analyzed</li> <li>The members of the project will be able to join or request to join Codacy</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-server/#limitations", "title": "Limitations", "text": "<p>Currently, the integration between Codacy and Bitbucket Server has the following limitations:</p> <ul> <li>Users that are deleted from Bitbucket Server are not automatically removed from Codacy. These users must be manually removed from Codacy, namely to ensure that Codacy only bills seats corresponding to active users.</li> <li>Renamed project keys aren't automatically renamed on Codacy, causing Codacy to stop analyzing the repositories in those projects. You must click the button Synchronize in the settings of the corresponding Organization on Codacy to synchronize the project key and resume the analysis of the repositories.</li> <li>Deleted projects and repositories are not automatically deleted from Codacy. However, you can manually delete the corresponding Organizations or repositories from Codacy.</li> <li>Repositories that are moved between teams are not automatically transferred between Organizations on Codacy. You must manually delete these repositories from their source Organization and add them to their new Organization.</li> <li>Personal repositories are not supported. You can only add repositories to Codacy if they belong to a project.</li> <li>Codacy only sends commit and pull request notification emails to the authors of the commits and pull requests.</li> <li>Pull request summaries aren't available</li> <li>The Repositories screen doesn't include the \"Last updated\" date for each repository. As such, the repositories are sorted alphabetically.</li> <li>Codacy doesn't analyze pull requests submitted from forked repositories.</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-bitbucket-server/#see-also", "title": "See also", "text": "<ul> <li>What are organizations</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-gitlab-cloud/", "title": "How does Codacy support GitLab Cloud?", "text": "<p>When you use GitLab Cloud to sign up or log into Codacy, the GitLab Groups that you belong to will be available to be added as Organizations on Codacy.</p> <p>After adding a Group:</p> <ul> <li>Codacy displays the list of all repositories that you own in that Group and Subgroups so that you can add them to Codacy as repositories to be analyzed</li> <li>The members of the Group will be able to join or request to join Codacy</li> </ul> <p>If you have repositories that don't belong to any Group, you can still add those on Codacy by choosing your \"personal\" organization.</p>"}, {"location": "faq/general/how-does-codacy-support-gitlab-cloud/#limitations", "title": "Limitations", "text": "<p>Currently, the integration between Codacy and GitLab Cloud has the following limitations:</p> <ul> <li>Users that are deleted from GitLab are not automatically removed from Codacy. These users must be manually removed from Codacy, namely to ensure that Codacy only bills seats corresponding to active users.</li> <li>Renamed Group paths aren't automatically renamed on Codacy, causing Codacy to stop analyzing the repositories in those groups. You must click the button Synchronize in the settings of the corresponding Organization on Codacy to synchronize the Group path and resume the analysis of the repositories.</li> <li>Deleted Groups are not automatically deleted from Codacy. However, you can manually delete the corresponding Organizations from Codacy.</li> <li>Repositories that are moved between Groups are not automatically transferred between Organizations on Codacy. You must manually delete these repositories from their source Organization and add them to their new Organization.</li> <li>It is not possible to add repositories with the same name to the Codacy organization. Repositories having the same name but belonging to different GitLab Subgroups would collide if they were added to the same Codacy organization.</li> <li>Codacy doesn't analyze pull requests submitted from forked repositories.</li> <li>Share projects with other groups isn't fully supported on Codacy. Users from the \"other groups\" can join the Organization that owns the project on the Codacy side, and Codacy will analyze the commits from those users. However, those users won't be able to access the project on the Codacy UI.</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-gitlab-cloud/#see-also", "title": "See also", "text": "<ul> <li>What are organizations</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-gitlab-enterprise/", "title": "How does Codacy support GitLab Enterprise?", "text": "<p>When you use GitLab Enterprise to sign up or log into Codacy, the GitLab Groups that you belong to will be available to be added as Organizations on Codacy.</p> <p>After adding a Group:</p> <ul> <li>Codacy displays the list of all repositories that you own in that Group and Subgroups so that you can add them to Codacy as repositories to be analyzed</li> <li>The members of the Group will be able to join or request to join Codacy</li> </ul> <p>If you have repositories that don't belong to any Group, you can still add those on Codacy by choosing your \"personal\" organization.</p>"}, {"location": "faq/general/how-does-codacy-support-gitlab-enterprise/#limitations", "title": "Limitations", "text": "<p>Currently, the integration between Codacy and GitLab Enterprise has the following limitations:</p> <ul> <li>Repositories that are moved between Groups are not automatically transferred between Organizations on Codacy. You must manually delete these repositories from their source Organization and add them to their new Organization.</li> <li>It is not possible to add repositories with the same name to the Codacy organization. Repositories having the same name but belonging to different GitLab Subgroups would collide if they were added to the same Codacy organization.</li> <li>Codacy doesn't analyze pull requests submitted from forked repositories.</li> <li>Share projects with other groups isn't fully supported on Codacy. Users from the \"other groups\" can join the Organization that owns the project on the Codacy side, and Codacy will analyze the commits from those users. However, those users won't be able to access the project on the Codacy UI.</li> </ul>"}, {"location": "faq/general/how-does-codacy-support-gitlab-enterprise/#see-also", "title": "See also", "text": "<ul> <li>What are organizations</li> </ul>"}, {"location": "faq/general/which-platforms-and-technologies-does-codacy-support/", "title": "Which platforms and technologies does Codacy support?", "text": "<p>This page includes information about software platforms and technologies compatible with Codacy.</p>"}, {"location": "faq/general/which-platforms-and-technologies-does-codacy-support/#supported-version-control-systems-and-git-providers", "title": "Supported version control systems and Git providers", "text": "<p>Codacy supports repositories from the following Git providers:</p> Hosting model Name used on Codacy Required Codacy version GitHub <p>GitHub.com</p> <p>GitHub Cloud</p> <p>Codacy Cloud orCodacy Self-hosted</p> <p>GitHub Enterprise Serverversion 3.6.2 or later</p> <p>GitHub Enterprise</p> <p>Codacy Self-hosted</p> GitLab <p>GitLab SaaS</p> <p>GitLab Cloud</p> <p>Codacy Cloud orCodacy Self-hosted</p> <p>GitLab Self-managedversion 14.8 or later</p> <p>GitLab Enterprise</p> <p>Codacy Self-hosted</p> Bitbucket <p>Bitbucket Cloud</p> <p>Bitbucket Cloud</p> <p>Codacy Cloud orCodacy Self-hosted</p> <p>Bitbucket Data Center Bitbucket Serverversion 6.6.0 or later</p> <p>Bitbucket Server</p> <p>Codacy Self-hosted</p> <p>Note</p> <p>Although older versions of the self-hosted Git providers may work with Codacy without loss of functionality, Codacy will only fix issues and ensure compatibility with the versions listed above.</p>"}, {"location": "faq/general/which-platforms-and-technologies-does-codacy-support/#supported-browsers", "title": "Supported browsers", "text": "<p>Codacy runs on every modern browser supporting HTML5 and CSS3:</p> <ul> <li>Chrome 67+</li> <li>Firefox 45+</li> <li>Internet Explorer 11+</li> <li>Microsoft Edge 13+</li> </ul>"}, {"location": "faq/general/which-platforms-and-technologies-does-codacy-support/#supported-character-encodings", "title": "Supported character encodings", "text": "<p>Codacy supports the UTF-8 character encoding standard.</p>"}, {"location": "faq/repositories/how-do-i-reanalyze-my-repository/", "title": "How do I reanalyze my repository?", "text": "<p>Organization admins can manage access to this feature</p> <p>Reanalyze the last commit in your branch or pull request:</p> <ul> <li>To update the Codacy analysis results taking into account the most recent configurations for your repository without waiting for a new commit to trigger the analysis</li> <li> <p>If the grade or Codacy badge for your branch is greyed out and displays an exclamation mark, which means that the analysis information isn't available for the last commit of the branch:</p> <p></p> </li> </ul> <p>Important</p> <ul> <li> <p>If you have the setting Run analysis on your build server enabled in your repository Settings page so that you can run client-side tools, you can't trigger a new analysis from the Codacy UI.</p> <p>Instead, you must manually run the client-side tools or wait for them to report the results for a new commit.</p> </li> <li> <p>You can only reanalyze commits to branches or pull requests in your repository if the committer is part of your organization.</p> </li> </ul>"}, {"location": "faq/repositories/how-do-i-reanalyze-my-repository/#reanalyzing-a-branch", "title": "Reanalyzing a branch", "text": "<p>To reanalyze a branch in your repository:</p> <ol> <li> <p>Open the Commits page for your repository and select the correct branch at the top of the page if you configured Codacy to analyze multiple branches.</p> <p>Then, select the most recent commit for that branch at the top of the list:</p> <p></p> </li> <li> <p>Click the Reanalyze link to trigger a reanalysis. Codacy will display the status of the reanalysis request.</p> <p></p> </li> </ol>"}, {"location": "faq/repositories/how-do-i-reanalyze-my-repository/#reanalyzing-a-pull-request", "title": "Reanalyzing a pull request", "text": "<p>To reanalyze a pull request in your repository:</p> <ol> <li> <p>Open the Pull Requests page for your repository and select the pull request that you want to reanalyze.</p> <p></p> </li> <li> <p>Click the Reanalyze button to trigger a reanalysis. Codacy will display the status of the reanalysis request.</p> <p></p> </li> </ol>"}, {"location": "faq/repositories/how-do-i-reanalyze-my-repository/#see-also", "title": "See also", "text": "<ul> <li>Commit status</li> <li>Pull request status</li> </ul>"}, {"location": "faq/repositories/i-moved-my-repository-on-the-git-provider/", "title": "I moved my repository on the Git provider", "text": "<p>Currently, Codacy doesn't automatically detect moves of repositories between two organizations.</p> <p>To ensure that Codacy continues to analyze a repository that was moved to another organization on your Git provider:</p> <ol> <li>Delete the repository from the original organization on Codacy, taking note of the settings for this repository</li> <li>Add the repository to the new organization on Codacy and reconfigure the repository with the same settings as the original one</li> </ol> <p>If you can't find your repository in the original Codacy organization or if you need more help with this process, please contact us at support@codacy.com.</p>"}, {"location": "faq/repositories/i-renamed-my-repository-on-the-git-provider/", "title": "I renamed my repository on the Git provider", "text": "<p>If you changed the name or URL of your repository on your Git provider, you can update the name and URL of the repository on Codacy to point to the new location. This ensures that you won't lose historical data about your repository on Codacy.</p> <p>To rename your repository on Codacy, open the page Settings and click the button Update repository.</p> <p></p>"}, {"location": "faq/troubleshooting/error-line-endings/", "title": "Error caused by incompatible line endings", "text": "<p>Codacy executes the <code>git diff</code> command when analyzing new commits and pull requests to identify the lines of code that were changed. Codacy then uses this information to display the issues that were caused by the changes introduced by the commits or pull requests.</p> <p>If you have files in your repository that use the carriage return (CR) as the line end control character, the command <code>git diff</code> doesn't correctly identify line endings in the changed files. Because of this, Codacy is unable to use the output of the command and the Diff step of your commit or pull request analysis logs will display the message <code>An error occurred during this step. Please, retry your analysis or contact support</code>.</p> <p></p> <p>The CR line end control character was used by older Classic Mac OS systems, and for the sake of interoperability it's recommended that you:</p> <ol> <li> <p>Find the files in your repository that include CR line endings.</p> <p>Tip</p> <p>On *nix operating systems including macOS, you can use the command <code>file</code> to detect files in your repository that use CR line endings. For example, run the following command on the root of your repository:</p> <pre><code>find . -type f -exec file {} \\; | grep \"CR line\"\n</code></pre> </li> <li> <p>Update the line endings in your source code files to use either the control characters:</p> <ul> <li>LF, if primarily using Unix-like systems such as Linux or the newer macOS operating system</li> <li>CRLF, if primarily using the Microsoft Windows operating system</li> </ul> <p>Tip</p> <p>This article on Wikipedia includes examples on how to convert the line endings in your files.</p> </li> <li> <p>After converting the line endings in your source code files, you may also want to check the following resources for help on standardizing the line endings on your repositories and how to configure Git to correctly handle line endings:</p> <ul> <li>What's the recommended way to store files in Git?</li> <li>Customizing Git - Formatting and Whitespace</li> <li>Configuring Git to handle line endings</li> <li>Mind the End of Your Line</li> </ul> </li> </ol>"}, {"location": "faq/troubleshooting/not-a-member-of-the-organization/", "title": "Not a member of the organization", "text": "<p>This page applies only to Codacy Cloud</p> <p>When you see the message Not a member of the organization it means that Codacy Cloud can't analyze a commit because the associated email address doesn't belong to any member or committer of your Codacy organization.</p> <p>You can check which email address is associated with a commit by hovering the cursor on the name of the committer on the page for the commit:</p> <p></p> <p>To verify which email addresses are associated with the Codacy Cloud account, the user must click on their avatar on the top right-hand corner, select Your account, and open the page Emails:</p> <p></p> <p>There may be different reasons for this issue to happen:</p> <ul> <li> <p>The user making the commit hasn't signed in to Codacy Cloud and joined the organization yet</p> <p>The user must join the organization or, if you're the organization admin, you can add the user instead.</p> </li> <li> <p>The commit email address isn't associated with the account of a Codacy Cloud user</p> <p>Make sure the user updates the email addresses associated with their Codacy account to include the missing commit email address.</p> </li> <li> <p>Git isn't configured with the correct email address</p> <p>Make sure the user sets the Git email address correctly.</p> </li> </ul>"}, {"location": "faq/troubleshooting/we-no-longer-have-access-to-this-repository/", "title": "We no longer have access to this repository, check your SSH keys", "text": "<p>Some changes on your Git provider can prevent Codacy from cloning your private repository. When this happens, Codacy displays the error message \"We no longer have access to this repository\" on the Repository Dashboard page.</p>"}, {"location": "faq/troubleshooting/we-no-longer-have-access-to-this-repository/#the-repository-was-renamed-or-moved", "title": "The repository was renamed or moved", "text": "<p>If you renamed the repository or moved it to a different account on the Git provider:</p> <ol> <li>On Codacy, open your Repository Settings, tab General.</li> <li>Click the button Update repository in the Synchronize with provider area.</li> </ol>"}, {"location": "faq/troubleshooting/we-no-longer-have-access-to-this-repository/#the-user-that-configured-the-repository-no-longer-has-access", "title": "The user that configured the repository no longer has access", "text": "<p>This section applies only to GitLab and Bitbucket</p> <p>On GitLab and Bitbucket organizations, Codacy uses SSH keys to clone your private repositories. Depending on the level of access that the user configuring the repository on Codacy has on the remote Git provider, an SSH key can be added either:</p> <ul> <li>Directly to the repository itself, if the user has permissions to add SSH keys to the repository</li> <li>To the user account, if the user only has read or commit permissions on the repository</li> </ul> <p>If the user that initially configured the repository on Codacy was using a user account SSH key but no longer has access to the repository on GitLab or Bitbucket:</p> <ol> <li>On Codacy, open your Repository Settings, tab General.</li> <li> <p>Click the button Generate New Repository Key to add a new SSH key to your repository deployment keys.</p> <p>This is only possible if the user configuring the integration with the remote Git provider has administrator access to the repository. Otherwise, this operation will fail. Alternatively, you can do this process manually by copying the SSH key.</p> <p>Note</p> <p>If your repository is using submodules on Codacy, add a new SSH user key to your Git provider account instead.</p> <p></p> </li> <li> <p>Open the tab Integrations, and refresh your GitLab or Bitbucket integration.</p> </li> </ol>"}, {"location": "faq/troubleshooting/why-arent-duplication-metrics-being-calculated/", "title": "Why aren't duplication metrics being calculated?", "text": "<p>For performance reasons, Codacy skips the calculation of code duplication for programming languages that have more than 5000 source code files in a repository.</p> <p>Besides this, if Codacy fails to calculate code duplication for a specific programming language in a repository three times in a row (for example, because the tool calculating the analysis runs out of memory or times out), Codacy stops trying to analyze the metric for that language and repository.</p> <p>When this happens, Codacy doesn't display code duplication metrics for the affected language:</p> <ul> <li> <p>The Files page on your repository displays a blank duplication value for files of the affected language.</p> <p></p> </li> <li> <p>The Commits and Pull Request pages display an empty Duplication tab.</p> <p></p> </li> <li> <p>The analysis logs for commits won't display a duplication analysis task for the tool corresponding to the affected language.</p> </li> </ul> <p>As a workaround, if you're exceeding the maximum number of source code files:</p> <ol> <li> <p>Use a Codacy configuration file to exclude source code files of the affected language from your project to decrease the number of files to be analyzed.</p> <p>For example, you may be able to exclude files that are automatically generated from your test suite or files belonging to dependencies that aren't maintained by your team, such as the <code>node_modules</code> folder for JavaScript projects.</p> </li> <li> <p>Reanalyze the last commit in the repository so that Codacy runs the code duplication analysis.</p> </li> </ol> <p>If the analysis finishes but the code duplication metric wasn't calculated, follow the next steps:</p> <ul> <li> <p>If you're using Codacy Self-hosted, open the Admin panel, Repositories, select the repository, tab Settings, and reset the code duplication analysis in Duplication settings. Then, reanalyze the last commit in the repository so that Codacy runs the code duplication analysis.</p> <p></p> </li> <li> <p>If you're analyzing your repository locally with the Codacy Analysis CLI, consider using the flag <code>--tool-timeout</code> to specify a larger timeout for the execution of the tool.</p> </li> <li> <p>If you're using Codacy Cloud or if the steps above didn't solve the issue, please contact us at support@codacy.com.</p> </li> </ul>"}, {"location": "faq/troubleshooting/why-cant-i-see-my-organization/", "title": "Why can't I see my organization?", "text": "<p>If you can't add your organization to Codacy because it doesn't appear on the Organizations page, please try re-adding your Git provider by clicking Add provider on the Organizations page:</p> <p></p> <p>If you still can't see your organization on Codacy, follow the steps below to check if the issue is solved:</p> <ol> <li> <p>Re-add your Git provider by clicking Add provider on the Organizations page.</p> </li> <li> <p>Make sure that you have access to the organization on the Git provider using the account that you used to log in on Codacy.</p> </li> <li> <p>If you're using GitHub install and authorize Codacy on your organization.</p> </li> <li> <p>Revoke Codacy's OAuth integration with your Git provider and log in again to Codacy.</p> <p></p> </li> </ol> <p>If these steps don't solve the issue, please contact us at support@codacy.com.</p>"}, {"location": "faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests/", "title": "Why did Codacy stop commenting on pull requests?", "text": ""}, {"location": "faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests/#outdated-app-permissions", "title": "Outdated app permissions", "text": "<p>This section applies to Codacy Coverage on GitHub</p> <p>Coverage information is currently sent to GitHub by a new version of the Codacy Coverage engine, which depends on updated app permissions.</p> <p>If you stopped receiving coverage summaries on your pull requests, please review and accept the updated Codacy app permissions on GitHub. For more information on the rollout of the new Coverage engine, see the relevant release note.</p>"}, {"location": "faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests/#outdated-permissions", "title": "Outdated permissions or invalid SSH key", "text": "<p>This section applies to GitLab and Bitbucket</p> <p>Different reasons can cause Codacy to stop analyzing and commenting on pull requests, but the most common is that the user who initially enabled the GitLab or Bitbucket integration no longer has permissions on the repository or that the SSH key is no longer valid.</p> <p>To fix this issue and avoid future disruptions, refresh the GitLab or Bitbucket integration on Codacy using a dedicated service account on your Git provider:</p> <ol> <li> <p>Create a service account on your Git provider exclusively dedicated to integrating Codacy with your repositories.</p> <p>Note</p> <p>The service account must:</p> <ul> <li>Have administrator permissions on the repositories to integrate with Codacy</li> <li>Not be shared by other systems to ensure that Codacy doesn't hit the API rate limits of the Git provider when using this account</li> </ul> <p>Tip</p> <p>Using a dedicated service account also has the advantage of any pull request comments made by Codacy appearing as authored by the service account instead of by a regular organization member. You can name this account \"Codacy\" and use this Codacy logo as the account picture so that your pull request comments look like the following example:</p> <p></p> </li> <li> <p>Log out of both your Git provider and of Codacy.</p> </li> <li> <p>Log in to Codacy using the new service account.</p> </li> <li> <p>Open your repository Settings, tab Integrations, and click the link Refresh connection to refresh the existing Git provider integration:</p> <p></p> </li> <li> <p>Make sure the Git provider integration is configured as needed:</p> <ul> <li> <p>Configuring the GitLab integration</p> </li> <li> <p>Configuring the Bitbucket integration</p> </li> </ul> </li> </ol>"}, {"location": "faq/troubleshooting/why-did-codacy-stop-commenting-on-pull-requests/#see-also", "title": "See also", "text": "<ul> <li>We no longer have access to this repository, check your SSH keys</li> </ul>"}, {"location": "faq/troubleshooting/why-is-my-file-over-150-kb-missing/", "title": "Why is my file over 150 KB missing?", "text": "<p>Codacy Cloud currently doesn't analyze files that are larger than 150 KB. Codacy doesn't display these files on the Files page, and doesn't take them into account when grading your repository.</p>"}, {"location": "faq/troubleshooting/why-is-my-file-over-150-kb-missing/#why-is-there-a-limit", "title": "Why is there a limit?", "text": "<p>As part of our performance improvement measures, we spent time breaking down the total time it takes to analyze a repository and found that a large percentage of time was spent on files that didn't add value to our users. Those files tend to be the biggest in the repository and are typically generated by or dependent on a third-party. It increased analysis time significantly due to the file size and even resulted in timeouts at some point, preventing the flagging of real issues.</p> <p>As a solution to this problem, we placed a size limit to the files that Codacy would analyze. This decreased the average analysis time and the number of timeouts, thus improving the overall performance for our users.</p>"}, {"location": "faq/troubleshooting/why-is-my-file-over-150-kb-missing/#what-if-i-need-to-analyze-a-file-that-exceeds-this-limit", "title": "What if I need to analyze a file that exceeds this limit?", "text": "<p>While Codacy will ignore your file by default, you can still analyze it by running the analysis locally using the Codacy Analysis CLI. The Codacy Analysis CLI doesn't have any limitation on file size.</p>"}, {"location": "faq/troubleshooting/why-is-my-file-over-150-kb-missing/#what-about-codacy-self-hosted", "title": "What about Codacy Self-hosted?", "text": "<p>By default, Codacy Self-hosted has the same limit of 150 KB as Codacy Cloud. However, in this case the limit is configurable because the resource allocation for on-premise instances is decided by each organization.</p> <p>To update the file size limit:</p> <ol> <li> <p>Edit the value of <code>global.workerManager.workers.config.analysis.maxFileSizeBytes</code> in the <code>values-production.yaml</code> file that you used to install Codacy:</p> <pre><code>global:\n  workerManager:\n    workers:\n      config:\n        analysis:\n          maxFileSizeBytes: 150000\n</code></pre> </li> <li> <p>Apply the new configuration by performing a Helm upgrade and specifying the Codacy Self-hosted version currently installed. To do so execute the command used to install Codacy:</p> <p>Important</p> <p>If you're using MicroK8s you must use the file <code>values-microk8s.yaml</code> together with the file <code>values-production.yaml</code>.</p> <p>To do this, uncomment the last line before running the <code>helm upgrade</code> command below.</p> <pre><code>helm upgrade (...options used to install Codacy...) \\\n             --version &lt;current Codacy Self-hosted version&gt; \\\n             --values values-production.yaml \\\n             # --values values-microk8s.yaml\n</code></pre> </li> </ol>"}, {"location": "faq/troubleshooting/why-isnt-my-public-repository-being-analyzed/", "title": "Why isn't my public repository being analyzed?", "text": "<p>Codacy only analyzes open source repositories if the admin of the repository is a committer to that repository.</p>"}, {"location": "getting-started/adding-a-codacy-badge/", "title": "Adding a Codacy badge", "text": "<p>Add a Codacy badge to the README of your repository to display the current code quality grade or code coverage of your repository.</p> <p></p> <p>To obtain your Codacy badge, open your repository Settings, tab General, select the markup language, and copy the generated code to your README file. You can also add a badge for your coverage if you have set up code coverage for your repository.</p> <p></p> <p>To display the grade or code coverage information of a different branch analyzed by Codacy, append <code>?branch=&lt;branch_name&gt;</code> to the URL of the badge. For example:</p> <pre><code>https://app.codacy.com/project/badge/Grade/cba8fd0874ac4f569f4f880e473cbac9?branch=dev\n</code></pre>"}, {"location": "getting-started/adding-a-codacy-badge/#fixing-your-codacy-badge", "title": "Fixing your Codacy badge", "text": "<p>The Codacy badges for your repository may become unavailable or grayed out if the analysis or code coverage information for the last commit isn't available, or if you renamed or re-added your repository on Codacy:</p> <p></p> <p>To fix each badge:</p> <ul> <li>Reanalyze the branch associated with the code quality badge</li> <li>Make sure that you're generating and uploading code coverage reports for all the commits in the branch associated with the coverage badge</li> </ul> <p>If these steps don't fix your Codacy badges it can mean that the badges are no longer valid. In this case, repeat the steps above to replace the existing badges with new ones.</p>"}, {"location": "getting-started/codacy-quickstart/", "title": "Codacy quickstart (5 min)", "text": "<p>Codacy is an automated code quality and coverage platform that analyzes your source code and identifies issues as you go, helping your team ship robust software by scanning over 40 programming languages, such as JavaScript, Python, Java, C#, and PHP.</p> <p>Check out our product demo for an overview of Codacy's main features (recorded on May 13, 2024):</p> <p>By integrating with your Git provider, Codacy keeps track of your team\u2019s work, analyzes relevant commits, highlights problems, suggests improvements, and protects your codebase from unwelcome changes. From organization and repository level to individual files, pull requests, and commits, Codacy monitors the following metrics across your projects:</p> <ul> <li>Issues: violations of a given rule, standard, convention, or best practice, from inconsistent code formatting to security risks</li> <li>Complexity: a measure of the number of execution paths through a program's source code</li> <li>Duplication: the amount of duplicated portions of code</li> <li>Coverage: the percentage of lines of code covered by automated tests</li> </ul>"}, {"location": "getting-started/codacy-quickstart/#adding-your-first-repository", "title": "Adding your first repository", "text": "<p>This page is part of the following guided path:</p> <ol> <li> <p>                     Adding your first repository                 </p> </li> <li>                      Configuring your repository                  </li> <li>                      Integrating Codacy with your Git workflow                  </li> </ol> <p>To get started, head to codacy.com and click Start free. Then, follow these steps:</p> <ol> <li>Signing up</li> <li>Choosing an organization</li> <li>Adding repositories</li> </ol>"}, {"location": "getting-started/codacy-quickstart/#signing-up", "title": "1. Signing up", "text": "<p>Sign up with a Git provider such as GitHub, GitLab, or Bitbucket. This links your Codacy user with your Git provider user, making it easier to add repositories to Codacy and invite your teammates.</p> <p>Codacy will request access to your Git provider during the authorization flow. Check the permissions that Codacy requires and why.</p>"}, {"location": "getting-started/codacy-quickstart/#choosing-organization", "title": "2. Choosing an organization", "text": "<p>Now, you'll need to add or join the organizations that contain your repositories. The organization with the same name as your Git provider username contains your personal repositories. Read more about organizations on Codacy.</p> <p>To start adding your repositories, select one of the organizations.</p> <p>Note</p> <p>If you can't see the organization you're looking for, follow these troubleshooting instructions.</p> <p> </p>"}, {"location": "getting-started/codacy-quickstart/#adding-repositories", "title": "3. Adding repositories", "text": "<p>Next, add the repositories that you wish to analyze. Codacy begins an initial analysis as soon as you add a repository and sets everything up to ensure your next commits on that repository are analyzed.</p> <p>Note</p> <p>You can only add repositories on Codacy if you have the necessary permissions on your Git provider.</p> <p></p> <p>Click the repository name to navigate to the repository dashboard and see the code quality overview of your repository as soon as the initial analysis is complete:</p> <p></p> <p>Congratulations, your new repository is ready! To explore the initial analysis results, check the Issues page.</p>"}, {"location": "getting-started/codacy-quickstart/#next-steps", "title": "Next steps", "text": "<p>The first analysis is based on default tool and pattern configurations. It's now important that you configure your repository to integrate code analysis seamlessly into your existing pipeline. See how to configure your repository to match the use cases of your team.</p>"}, {"location": "getting-started/configuring-your-repository/", "title": "Configuring your repository", "text": "<p>This page is part of the following guided path:</p> <ol> <li>                      Adding your first repository                  </li> <li> <p>                     Configuring your repository                 </p> </li> <li>                      Integrating Codacy with your Git workflow                  </li> </ol> <p>Once you've added your first repository, it's important that you configure Codacy's analysis tools to match the use cases of your team, such as configuring any coding conventions and best practices that your team may already be following or that you want to promote. It's also critical to review the configurations to avoid reporting false positives or any other issues that don't bring value to your team, which can introduce unwanted delays to the development process.</p> <p>You can optionally add coverage reports to detail how much of your code is covered by tests and unify your quality and coverage pipelines. You can generate coverage reports and upload them to Codacy using a range of options, such as CI/CD integration, CLI, Docker, GitHub action, and more.</p> <p>To configure your repository, follow these steps:</p> <ol> <li>Ignoring files</li> <li>Configuring code patterns</li> <li>Adding coverage reports (optional)</li> </ol>"}, {"location": "getting-started/configuring-your-repository/#ignoring-files", "title": "1. Ignoring files", "text": "<p>Ignore any files and directories that aren't relevant for the Codacy analysis, such as generated code or any third-party libraries included in your repositories.</p> <p></p>"}, {"location": "getting-started/configuring-your-repository/#configuring-code-patterns", "title": "2. Configuring code patterns", "text": "<p>Configure the tools and code patterns that Codacy uses to analyze your repository. If security is important for your team, review the security and risk management dashboard to ensure that your configuration detects potential security issues.</p> <p>Tip</p> <p>To ensure that multiple repositories consistently follow the same global tool and code pattern configurations, use an organization coding standard.</p> <p></p>"}, {"location": "getting-started/configuring-your-repository/#adding-coverage", "title": "3. Adding coverage to your repository (optional)", "text": "<p>If you want to use code coverage to block merging pull requests that don't meet your quality standards, make sure that you add coverage to your repository.</p> <p>It's important that you set up coverage beforehand because Codacy can only report the coverage status for pull requests after receiving reports for the last commits on both the pull request branch and the target branch.</p> <p></p>"}, {"location": "getting-started/configuring-your-repository/#next-steps", "title": "Next steps", "text": "<p>Once you\u2019re satisfied with your setup, integrate Codacy with your Git workflow to flag potential issues, block problematic pull requests, and display other useful suggestions directly on your Git provider.</p> <p>Tip</p> <p>To showcase the current code quality grade and coverage, add a Codacy badge to your repository.</p>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/", "title": "Integrating Codacy with IntelliJ IDEs", "text": "<p>The Codacy IntelliJ plugin is an open-source plugin for IntelliJ IDEs that lets you review the result of the Codacy analysis for a pull request, get the full list of problems found, and navigate to any Quality issue that you want to review and fix.</p> <p>To use this plugin you need a Codacy account</p>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/#interface-overview", "title": "Interface overview", "text": "<p>The main view of the Codacy IntelliJ plugin provides a summary of the code quality and coverage changes introduced by the pull request of the currently checked-out branch.</p> <p></p> <p>In the main view, you can find the following information:</p> <ul> <li> <p>The Quality status of the pull request, either up to standards or not up to standards, based on the Quality gates set for the repository.</p> </li> <li> <p>Any Quality issues introduced or fixed by the pull request. These are the same issues you find in the Quality Issues tabs in the Codacy app and are also visible in IntelliJ's Problems tab.</p> <p>When this item is expanded, the number next to each file name is the total number of Quality issues that the pull request adds to that file.</p> </li> <li> <p>The diff coverage introduced by the pull request. The percentage next to each file name is the coverage variation for that file.</p> </li> <li> <p>Sequences of duplicate code (clones) introduced by the pull request. These are the same ones you find in the Quality Duplication tabs in the Codacy app.</p> </li> <li> <p>Variations in code complexity introduced by the pull request.</p> </li> </ul>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/#installing-the-codacy-intellij-plugin", "title": "Installing the Codacy IntelliJ plugin", "text": "<p>The Codacy IntelliJ plugin is compatible with IntelliJ IDEA (Ultimate, Community), Android Studio, and Aqua.</p> <ol> <li> <p>Make sure that the repository you\u2019re working on is analyzed by Codacy and that you have a repository read role or higher.</p> <p>Tip</p> <p>If this is your first time using Codacy, see how to add and analyze your first repository.</p> </li> <li> <p>Install the plugin from the JetBrains Marketplace or through the plugin settings panel in your IntelliJ IDE.</p> </li> </ol>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/#getting-pull-request-quality-and-coverage-data", "title": "Getting pull request quality and coverage data", "text": "<p>To see Codacy quality and coverage data for an open pull request, follow these steps:</p> <ol> <li> <p>Open the repository directory in your IntelliJ IDE.</p> <p>Note</p> <p>If the repository isn't on Codacy yet, add it to Codacy first.</p> </li> <li> <p>Open the main view by clicking the Codacy logo in the left tool window bar.</p> <p></p> </li> <li> <p>If you\u2019re not signed in, click the Sign in button to authorize IntelliJ on Codacy.</p> </li> <li> <p>Check out the pull request of interest.</p> </li> </ol> <p>After completing these steps, the main view shows the result of the latest Codacy analysis for the pull request.</p>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/#reviewing-pull-request-issues", "title": "Reviewing pull request issues", "text": "<p>In the Problems tool window, Codacy displays the same Quality issues you find in the main view and lets you navigate to the exact line of code where the issue was found.</p> <p>Note</p> <p>Code coverage, duplicates, and complexity aren't currently shown in the Problems tool window.</p> <p>To review Quality issues:</p> <ol> <li> <p>Open the file you want to review.</p> <p>You can find the list of files with issues in the main view of the Codacy plugin. Double-click the file name to open it in the editor.</p> </li> <li> <p>Open the Problems tool window (use <code>Ctrl+6</code> on Windows/Linux or <code>Cmd+6</code> on macOS) and select the File tab.</p> <p></p> </li> <li> <p>Click the name of the issue you want to review.</p> </li> <li> <p>Hover over a highlighted issue in the code editor to view available actions and suggested quick fixes, if available.</p> <p>For a list of tools that support suggested fixes, see Supported languages and tools.</p> </li> <li> <p>Once you've addressed the problems in your code, push your changes to the Git provider so that Codacy analyzes the updated code.</p> </li> </ol> <p>When the analysis is complete, the Codacy plugin automatically refreshes the pull request analysis result. You can also refresh the pull request data manually by clicking the Refresh Pull Request button in the main view.</p>"}, {"location": "getting-started/integrating-codacy-with-intellij-ides/#see-also", "title": "See also", "text": "<ul> <li>Troubleshooting the Codacy IntelliJ plugin</li> </ul>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/", "title": "Integrating Codacy with Visual Studio Code", "text": "<p>The Codacy Visual Studio Code extension is an open-source project that enables developers to review directly in VS Code the result of Codacy analysis for the pull requests they\u2019re working on.</p> <p>Use this extension to get the full list of problems found by Codacy for a pull request and navigate to any Quality issue that you want to review and fix.</p> <p>To use this extension you need a Codacy account</p>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#interface-overview", "title": "Interface overview", "text": "<p>The main view of the extension displays information about the code quality and coverage changes introduced by the pull requests you're working on, as well as the quality status of analyzed branches. This information is grouped into three panels:</p> <ul> <li>Pull request status</li> <li>Open pull requests</li> <li>Analyzed branch</li> </ul> <p></p>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#status-tab", "title": "Status tab", "text": "<p>The Pull request status tab displays the following information for the pull request of the currently checked-out branch:</p> <ul> <li> <p>The Quality status of the pull request, either up to standards or not up to standards, based on the Quality gates set for the repository.</p> </li> <li> <p>Any Quality issues introduced or fixed by the pull request. These are the same issues you find in the Quality Issues tabs in the Codacy app and are also visible in VS Code's Problems tab.</p> <p>When this item is expanded, the number next to each file name is the total number of Quality issues that the pull request adds to or removes from that file. The number farther to the right, added by VS Code, is the total number of problems in that file, which may or may not be Quality issues from Codacy. If there are any Medium or Critical Quality issues, the file name is also highlighted in yellow (Medium) or red (Critical).</p> <p></p> </li> <li> <p>The diff coverage and coverage variation introduced by the pull request.</p> <p>When this item is expanded, the percentage next to each file name is the coverage variation for that file. You can toggle on/off the inline coverage to see/hide the line-by-line diff coverage and a comparison of the old and new file content for each modified file - uncovered lines (red), covered lines with its test coverage count (green), and non-coverable lines (no background).</p> <p></p> </li> <li> <p>Sequences of duplicate code (clones) introduced by the pull request. These are the same ones you find in the Quality Duplication tabs in the Codacy app.</p> </li> <li> <p>Variations in code complexity introduced by the pull request.</p> </li> </ul>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#open-pull-requests-tab", "title": "Open pull requests tab", "text": "<p>The Open Pull Requests tab lists all open pull requests for the repository, including the following information for each:</p> <ul> <li> <p>The status of the pull request, which is visible on hover:</p> <ul> <li> <p>Analyzing, if Codacy is analyzing the branch.</p> </li> <li> <p>Up to standards or not up to standards, based on the Quality gates set for the repository.</p> </li> </ul> </li> <li> <p>The author of the pull request.</p> </li> <li> <p>The source and target branches of the pull request.</p> </li> <li> <p>Any Quality issues introduced or fixed by the pull request. These are the same issues you find in the Quality Issues tabs in the Codacy app.</p> </li> <li> <p>Sequences of duplicate code (clones) introduced by the pull request. These are the same ones you find in the Quality Duplication tabs in the Codacy app.</p> </li> <li> <p>Variations in code complexity introduced by the pull request. This is the same value you find on the Pull request quality overview in the Codacy app.</p> </li> </ul>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#analyzed-branch-tab", "title": "Analyzed branch tab", "text": "<p>The Analyzed Branch tab appears if you switch to an analyzed branch that doesn't have an open pull request, such as the <code>main</code> or <code>master</code> branch. This tab shows an overview of the Quality issues found in that branch, grouped by recently added, introduced by the current user, issue category, and issue severity.</p> <p>See how to manage the analysis of your repository's branches.</p>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#installing-the-codacy-vs-code-extension", "title": "Installing the Codacy VS Code extension", "text": "<ol> <li> <p>Make sure that the repository you\u2019re working on is analyzed by Codacy and that you have a repository read role or higher.</p> <p>Tip</p> <p>If this is your first time using Codacy, see how to add and analyze your first repository.</p> </li> <li> <p>Install the extension from the Visual Studio Marketplace or through the Extensions view in VS Code.</p> <p>Alternatively, you can install it manually by downloading the latest release as a VSIX package.</p> </li> </ol>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#getting-pull-request-quality-and-coverage-data", "title": "Getting pull request quality and coverage data", "text": "<p>To see Codacy quality and coverage data for an open pull request, follow these steps:</p> <ol> <li> <p>Open the repository directory in VS Code.</p> <p>Note</p> <p>If the repository isn't on Codacy yet, add it to Codacy first.</p> </li> <li> <p>Open the main view by clicking the Codacy logo in the activity bar or the Codacy tab in the status bar.</p> <p></p> </li> <li> <p>If you\u2019re not signed in, click the Sign in button to authorize VS Code on Codacy.</p> <p>Tip</p> <p>To access a complete list of Codacy commands, open the VS Code command palette (<code>Ctrl+Shift+P</code> on Windows/Linux or <code>Cmd+Shift+P</code> on macOS) and type \"Codacy\".</p> </li> <li> <p>Check out the pull request of interest. You can do it either manually or from the Open Pull Requests tab, by clicking the arrow button or using the contextual right-click menu.</p> </li> </ol> <p>After completing these steps, the main view shows the result of the latest Codacy analysis for the pull request. The VS Code Problems tab lists the Quality issues found.</p>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#reviewing-pull-request-issues", "title": "Reviewing pull request issues", "text": "<p>In the Problems tab, Codacy displays the same Quality issues you find in the Status tab and lets you navigate to the exact line of code where the issue was found.</p> <p>Note</p> <p>Code coverage, duplicates, and complexity aren't currently shown in the Problems tab.</p> <p>To review Quality issues:</p> <ol> <li> <p>Open the Problems tab (use <code>Ctrl+Shift+M</code> on Windows/Linux or <code>Cmd+Shift+M</code> on macOS).</p> </li> <li> <p>Click the name of the issue you want to review.</p> <p></p> </li> <li> <p>Hover over a highlighted issue in the code editor to view available actions and suggested quick fixes (if available).</p> <p>For a list of tools that support quick fixes, see Supported languages and tools.</p> </li> <li> <p>Once you've addressed the problems in your code, push your changes to the Git provider so that Codacy analyzes the updated code.</p> </li> </ol> <p>When the analysis is complete, the Codacy extension automatically refreshes the pull request analysis result. You can also refresh the pull request data manually by clicking the Refresh Pull Request button in the main view.</p>"}, {"location": "getting-started/integrating-codacy-with-visual-studio-code/#see-also", "title": "See also", "text": "<ul> <li>Troubleshooting the Codacy VS Code extension</li> </ul>"}, {"location": "getting-started/integrating-codacy-with-your-git-workflow/", "title": "Integrating Codacy with your Git workflow", "text": "<p>This page is part of the following guided path:</p> <ol> <li>                      Adding your first repository                  </li> <li>                      Configuring your repository                  </li> <li> <p>                     Integrating Codacy with your Git workflow                 </p> </li> </ol> <p>Once you've configured your repository to best match your use case, integrate Codacy with your Git workflow to display analysis results and code coverage as status checks on your pull requests.</p> <p>In particular, you can configure quality gates to block merging pull requests that don't meet the quality standards of your team. This ensures the quality of the changes to your codebase, preventing the introduction of security issues and untested code.</p> <p>To integrate Codacy with your Git workflow, follow these steps:</p> <ol> <li>Configuring the quality gate rules</li> <li>Configuring the Git provider integration</li> <li>Blocking merging pull requests (optional)</li> </ol>"}, {"location": "getting-started/integrating-codacy-with-your-git-workflow/#configuring-gate", "title": "1. Configuring the quality gate rules", "text": "<p>Review and adjust the quality gates of your repository to decide which pull requests should fail the Codacy quality gate.</p> <p>Tip</p> <p>The default quality gate rules are designed to help maintain the current code quality of your repository. In particular, the default value for the coverage rule might be demanding. Depending on factors such as the current code quality of your repository and the maturity of your team practices, consider the balance between implementing stricter quality gates and the possibility of delaying or blocking the development progress.</p> <p>Codacy generally recommends that on a first stage you configure rules that focus on stopping new critical issues from entering your code base, such as:</p> <ul> <li>High severity issues</li> <li>Security issues</li> <li>Considerable drops in code coverage</li> </ul> <p>Important</p> <p>If you want to use code coverage to block merging pull requests that don't meet your standards, make sure that you enable the rule Diff coverage is under or Coverage variation is under. This is required for Codacy to report the coverage status directly on your pull requests.</p> <p></p>"}, {"location": "getting-started/integrating-codacy-with-your-git-workflow/#git-provider-integration", "title": "2. Configuring the Git provider integration", "text": "<p>Make sure you enable the option Status checks (GitHub) or Pull request status (GitLab and Bitbucket).</p> <p>Tip</p> <p>Configure the default Git provider integration settings that Codacy applies to new repositories to help ensure that all new repositories have the same settings.</p> <p></p>"}, {"location": "getting-started/integrating-codacy-with-your-git-workflow/#blocking-pull-requests", "title": "3. Blocking merging pull requests (optional)", "text": "<p>Once you've tested out Codacy for a while and you're happy with the level of feedback provided, you can decide to enforce the quality gates and use Codacy to block merging pull requests on your Git provider. This is the best way to protect your code from unwelcome changes and fully integrates code quality and coverage analysis into your development pipeline.</p> <p>Important</p> <p>To eliminate any false positives that could inadvertently block the work of your team, it's important that before activating this feature you:</p> <ul> <li>Validate that Codacy is reporting the intended status on your pull requests</li> <li>Double check you repository's tool and code pattern settings and quality gate settings</li> </ul> <p>Follow the instructions from your Git provider to block merging pull requests if they don't pass the Codacy status check:</p> <ul> <li>GitHub: set Codacy as a required status check</li> <li>GitLab: only allow merge requests to be merged if the pipeline succeeds</li> <li>Bitbucket: configure Bitbucket to prevent a merge with unresolved merge checks</li> </ul>"}, {"location": "getting-started/integrating-codacy-with-your-git-workflow/#youre-all-set", "title": "You're all set! \ud83c\udf89", "text": "<p>Congratulations! You've successfully integrated and set up your first repository.</p>"}, {"location": "getting-started/supported-languages-and-tools/", "title": "Supported languages and tools", "text": "<p>Codacy uses industry-leading tools to perform automatic static code analysis over 40 supported languages:</p> <ul> <li> <p>For programming languages, Codacy provides static analysis as well as code duplication, code complexity, secret detection, dependency vulnerability scanning, and code coverage metrics for key languages.</p> </li> <li> <p>For cloud infrastructure-as-code platforms, Codacy provides static analysis and secret detection to enforce security and compliance best practices.</p> </li> </ul> <p>The table below lists all languages that Codacy supports and the corresponding tools that Codacy uses to analyze your source code. Besides this, Codacy uses cloc to calculate the source lines of code for all supported languages and supports multiple code coverage report formats.</p> <p>Important</p> <p>Codacy runs security and other analysis tools when code changes are pushed to your repositories. These tools don't scan code for issues continuously.</p> Language Static analysis Suggested fixes Secret detection Dependency vulnerability scanning Duplication Complexity Apex PMD,           Semgrep <sup>1</sup> - Semgrep - - - AsyncAPI Spectral - - - - - AWS CloudFormation Checkov - Checkov,           Semgrep <sup>2</sup>,           Trivy <sup>2</sup> - - - Azure Resource Manager Templates Checkov - - - - - C Clang-Tidy <sup>3</sup>,           Cppcheck,           Flawfinder,           Semgrep <sup>1</sup> Semgrep \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>conan.lock</code> (Conan)  PMD CPD - C++ Clang-Tidy <sup>3</sup>,           Cppcheck <sup>4</sup>,           Flawfinder,           Semgrep <sup>1</sup> - Semgrep,           Trivy Trivy, scans <code>conan.lock</code> (Conan)  PMD CPD - C# Semgrep <sup>1</sup>,           SonarC# Semgrep \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>.deps.json</code> (.Net), <code>packages.lock.json</code> (NuGet)  PMD CPD SonarC# CoffeeScript CoffeeLint - - - jscpd - Crystal Ameba - - - - - CSS Stylelint - - - - - Dart dartanalyzer <sup>5</sup> - Trivy Trivy, scans <code>pubspec.lock</code> jscpd - Dockerfile Hadolint,           Semgrep <sup>1</sup> Semgrep \ud83d\udd27 Semgrep,           Trivy - - - Elixir Credo,           Semgrep <sup>1</sup> - Trivy Trivy, scans <code>mix.lock</code> (Mix)  jscpd - GitHub Actions Semgrep <sup>1</sup> - Semgrep,           Trivy - - - Go aligncheck <sup>3</sup>,           deadcode <sup>3</sup>,           Gosec <sup>3</sup>,           Revive,           Semgrep <sup>1</sup>,           Staticcheck <sup>3</sup> Semgrep \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>go.mod</code> PMD CPD Gocyclo Groovy CodeNarc - - - jscpd - Helm - - Semgrep <sup>2</sup>,           Trivy <sup>2</sup> - - - Java Checkstyle,           PMD,           Semgrep <sup>1</sup>,           SpotBugs <sup>3</sup> Semgrep \ud83d\udd27 PMD,           Semgrep,           Trivy Trivy, scans <code>pom.xml</code> and <code>gradle.lockfile</code> PMD CPD PMD <sup>6</sup> JavaScript ESLint,           PMD,           Semgrep <sup>1</sup> ESLint \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>package.json</code> and <code>package-lock.json</code> (npm), <code>yarn.lock</code> (Yarn)  PMD CPD ESLint <sup>6</sup> JSON Jackson Linter - Checkov,           Trivy - - - JSP PMD - - - - - Kotlin detekt,           Semgrep <sup>1</sup> - Semgrep Trivy, scans <code>pom.xml</code> and <code>gradle.lockfile</code> jscpd detekt Kubernetes Checkov,           Semgrep <sup>2</sup> Semgrep \ud83d\udd27 Checkov,           Semgrep <sup>2</sup>,           Trivy <sup>2</sup> - - - Less Stylelint - - - - - Markdown remark-lint, markdownlint markdownlint \ud83d\udd27 - - - - Objective-C Clang-Tidy <sup>3</sup> - - - jscpd - OpenAPI Spectral - - - - - PHP PHP_CodeSniffer,           PHP Mess Detector,           Semgrep <sup>1</sup> - Semgrep,           Trivy Trivy, scans <code>composer.lock</code> (Composer)  PHPCPD PHP Depend PL/SQL PMD - - - - - PostgreSQL SQLint - - - - - PowerShell PSScriptAnalyser - - - - - Python Bandit,           Prospector,           Pylint,           Semgrep <sup>1</sup> Semgrep \ud83d\udd27 Bandit,           Prospector,           Semgrep,           Trivy Trivy, scans <code>requirements.txt</code> (pip), <code>Pipfile.lock</code> (pipenv), <code>poetry.lock</code> (Poetry) PMD CPD Radon Ruby Brakeman <sup>7</sup>,           RuboCop,           Semgrep <sup>1</sup> Semgrep \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>Gemfile.lock</code> (Bundler)  Flay RuboCop <sup>6</sup> Rust Semgrep <sup>1</sup> - Semgrep,           Trivy Trivy, scans <code>Cargo.lock</code> (Cargo)  jscpd - Sass Stylelint - - - - - Scala Codacy Scalameta Pro,           Scalastyle,           Semgrep <sup>1</sup>,           SpotBugs <sup>3</sup> - Semgrep,           Trivy Trivy, scans <code>build.sbt.lock</code> (sbt) <sup>9</sup> PMD CPD Scalastyle,           Scala 2 compiler and standard library Serverless Framework Checkov - - - - - Shell ShellCheck,           Semgrep <sup>1</sup> - Semgrep - - - Swift Semgrep <sup>1</sup>,           SwiftLint - Semgrep,           Trivy Trivy, scans <code>Package.resolved</code> (SwiftPM)  PMD CPD SwiftLint<sup>6</sup> <sup>8</sup> Terraform Checkov,           Semgrep <sup>1</sup> - Checkov,           Semgrep,           Trivy - - - Transact-SQL TSQLLint - - - - - TypeScript ESLint,           Semgrep <sup>1</sup> ESLint \ud83d\udd27 Semgrep,           Trivy Trivy, scans <code>package.json</code> and <code>package-lock.json</code> (npm), <code>yarn.lock</code> (Yarn)  jscpd ESLint <sup>6</sup> Unity Unity Roslyn Analyzers <sup>3</sup> - - - - - Velocity PMD - - - - - Visual Basic SonarVB - - - jscpd - Visualforce PMD - - - - - XML PMD - Trivy - - - XSL PMD - - - - - YAML - - Trivy - - -"}, {"location": "getting-started/supported-languages-and-tools/#docker-images-of-supported-tools", "title": "Docker images of supported tools", "text": "<p>Codacy adds support for new languages and tools by using a Docker image to run each tool.</p> <p>The following table lists the Codacy GitHub repositories corresponding to each supported tool. Use these repositories to check the extra plugins supported by each tool or to submit GitHub issues related to each tool. To learn more about the tool versions used by Codacy, see the latest release notes.</p> Tool name Codacy GitHub repository aligncheck <sup>3</sup> codacy/codacy-aligncheck Ameba codacy/codacy-ameba Bandit codacy/codacy-bandit Brakeman <sup>7</sup> codacy/codacy-brakeman Checkov codacy/codacy-checkov Checkstyle codacy/codacy-checkstyle Clang-Tidy <sup>3</sup> codacy/codacy-clang-tidy Codacy Scalameta Pro codacy/codacy-scalameta CodeNarc codacy/codacy-codenarc CoffeeLint codacy/codacy-coffeelint Cppcheck <sup>4</sup> codacy/codacy-cppcheck Credo codacy/codacy-credo dartanalyzer <sup>5</sup> codacy/codacy-dartanalyzer deadcode <sup>3</sup> codacy/codacy-deadcode detekt codacy/codacy-detekt ESLint <sup>6</sup> codacy/codacy-eslint Flawfinder codacy/codacy-flawfinder Gosec <sup>3</sup> codacy/codacy-gosec Hadolint codacy/codacy-hadolint Jackson Linter codacy/codacy-jackson-linter markdownlint codacy/codacy-markdownlint PHP_CodeSniffer codacy/codacy-codesniffer PHP Mess Detector codacy/codacy-phpmd PMD <sup>6</sup> codacy/codacy-pmd Prospector codacy/codacy-prospector PSScriptAnalyser codacy/codacy-psscriptanalyzer Pylint codacy/codacy-pylint-python3 remark-lint codacy/codacy-remark-lint Revive codacy/codacy-gorevive RuboCop <sup>6</sup> codacy/codacy-rubocop Scalastyle codacy/codacy-scalastyle Semgrep <sup>1</sup> codacy/codacy-semgrep ShellCheck codacy/codacy-shellcheck SonarC# codacy/codacy-sonar-csharp SonarVB codacy/codacy-sonar-visual-basic Spectral codacy/codacy-spectral SpotBugs <sup>3</sup> codacy/codacy-spotbugs SQLint codacy/codacy-sqlint Staticcheck <sup>3</sup> codacy/codacy-staticcheck Stylelint codacy/codacy-stylelint SwiftLint <sup>6</sup> <sup>8</sup> codacy/codacy-swiftlint Trivy codacy/codacy-trivy TSQLLint codacy/codacy-tsqllint Unity Roslyn Analyzers <sup>3</sup> codacy/codacy-roslyn <p><sup>1</sup>: Semgrep supports additional security rules when signing up for Semgrep Pro. This tool doesn't support custom file extensions. <sup>2</sup>: Currently, only YAML file scanning is supported on this platform. <sup>3</sup>: Supported as a client-side tool. <sup>4</sup>: Currently, Cppcheck only supports checking the MISRA guidelines for C. <sup>5</sup>: Currently, Codacy only supports including the packages lints and flutter_lints on dartanalyzer configuration files. <sup>6</sup>: Doesn't calculate the number of methods and the complexity per method for each file. <sup>7</sup>: Due to licensing limitations, Codacy doesn't support the latest version of Brakeman. To analyze your Ruby code for the latest security vulnerabilities, use Semgrep, which provides comprehensive and up-to-date security scanning. <sup>8</sup>: Supports reporting warnings or errors on functions above specific complexity thresholds. Enable the rule Cyclomatic Complexity on the Code patterns page, or use a configuration file to customize the thresholds. <sup>9</sup>: Requires the sbt-dependency-lock plugin for generating the lockfile. <sup>\ud83d\udd27</sup>: Supports suggesting fixes for identified issues.</p>"}, {"location": "getting-started/supported-languages-and-tools/#see-also", "title": "See also", "text": "<ul> <li>Codacy quickstart (5 min)</li> <li>Client-side tools</li> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/", "title": "Which permissions does Codacy need from my account?", "text": "<p>Codacy Cloud uses the OAuth protocol to handle logins and supports the following providers:</p> <ul> <li>GitHub Cloud</li> <li>GitLab Cloud</li> <li>Bitbucket Cloud</li> </ul> <p>Codacy requests only the necessary permissions from your Git provider to analyze your code and keeps your information secure. See the sections below for the detailed list of permissions that Codacy asks for depending on the provider.</p>"}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/#github-cloud", "title": "GitHub Cloud", "text": "<p>If you log in with GitHub, Codacy requires the following app permissions:</p> Scope Permissions Description Repository permissions: Checks Read &amp; Write Codacy creates and updates check runs with the results of code analysis. Issues Read &amp; Write Codacy can create GitHub issues from issues found during code analysis. Metadata Read-Only Codacy retrieves repository metadata, such as name, languages, collaborators and commit information. Pull requests Read &amp; Write Codacy retrieves pull request information to display on its side. Codacy might also create comments and suggestions on the pull request, according to the results of code analysis. Webhooks Read &amp; Write Codacy creates webhooks for code pushes and pull request events (created, merged, etc.). These events might trigger code analysis. Commit statuses Read &amp; Write Codacy sets the status of commits according to the result of code analysis. Contents Read-Only Codacy retrieves repository contents to get installation access tokens when integrating with your repositories and clone them, and for code coverage analysis.Codacy requests this permission since September 2023. Make sure an organization owner approves Codacy GitHub App updated permissions on your GitHub organization. Organization permissions: Webhooks Read &amp; Write Codacy creates webhooks for organization and repository events (creation, deletion, member added, etc.).  Members Read-Only Codacy retrieves information about organization members and teams to enforce permissions and user management. <p>User permissions:</p> <p>These permissions are granted on an individual user basis as part of the user authorization flow. They will be also be displayed during account installation for transparency.</p> Email addresses Read-Only Codacy retrieves the user's email addresses to enforce which commits are eligible for analysis."}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/#gitlab-cloud", "title": "GitLab Cloud", "text": "<p>If you sign up with GitLab Cloud, Codacy requires the following permissions/scopes:</p> Scope Description <code>api</code> Codacy uses GitLab's API to read and update pull requests, create webhooks for code push events, list commits, repositories, groups, members and permissions. <code>read_user</code> Codacy retrieves the user's email addresses to enforce which commits are eligible for analysis. <code>read_repository</code> Codacy retrieves repository metadata, such as name, languages and collaborators. <code>openid</code> Codacy uses this permission for authentication using OpenID Connect."}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/#bitbucket-cloud", "title": "Bitbucket Cloud", "text": "<p>If you log in with Bitbucket, Codacy requires the following permissions/scopes:</p> Scope and permissions Description <code>account:write</code> Codacy retrieves the user's email addresses to enforce which commits are eligible for analysis. <code>repository:admin</code> Codacy retrieves repository metadata, such as name, languages and collaborators, and commit information. Codacy creates an SSH key on the repository to allow cloning and integrating with your repository. <code>pullrequest:write</code> Codacy retrieves pull request information to display on its side. Codacy might also create comments on the pull request, according to the results of code analysis. <code>issue:write</code> Codacy can create Bitbucket issues from issues found during code analysis. <code>webhook</code> Codacy creates webhooks for code pushes and pull request events (created, merged, etc.). These events might trigger code analysis. <code>team</code> Codacy uses your group/team membership information to enforce permissions. Read your workspace's project settings and read repositories contained within your workspace's projects."}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/#revoking-access-to-integrations", "title": "Revoking access to integrations", "text": "<p>To revoke the access from Codacy to one or more of the OAuth providers:</p> <ol> <li>Click on your avatar on the top right-hand corner and select Your Account, tab Access Management.</li> <li> <p>The Access Management page lists all current integrations with Git providers that you used to sign in or log in to Codacy. To revoke access to an integration, click the button Revoke access for the intended integration.</p> <p></p> </li> <li> <p>To ensure that the integration is removed not only on Codacy but also on the integration side, it's important that you revoke the Codacy OAuth application access on your provider:</p> <ul> <li>GitHub Cloud</li> <li>GitLab Cloud</li> <li>Bitbucket Cloud</li> </ul> </li> </ol> <p>After revoking an integration, Codacy will no longer be able to access or manipulate resources that require API calls, such as detecting new pull requests or adding comments to pull requests. However, Codacy will still be able to perform operations that only require using the Git protocol either via SSH or HTTPS, such as detecting new commits and calculating diffs. To remove your repositories from Codacy and stop the analysis you must delete them from your Codacy account.</p> <p>If you need to use an integration that you have previously revoked, log in again to Codacy with that integration so that Codacy can request the required permissions from the provider.</p>"}, {"location": "getting-started/which-permissions-does-codacy-need-from-my-account/#why-does-codacy-ask-for-permission-to-create-ssh-keys", "title": "Why does Codacy ask for permission to create SSH keys?", "text": "<p>This section applies only to GitLab and Bitbucket</p> <p>On GitLab and Bitbucket organizations, when you add a private repository to Codacy, Codacy uses the integration with your Git provider to create a new SSH key on the repository. Codacy then uses that SSH key every time it needs to clone the repository.</p> <p>Codacy only adds read-only SSH keys and can't access any of your existing SSH keys. You have full control over which organizations and repositories Codacy is authorized to access. Codacy doesn't change the contents or member privileges of any repository you authorize it to analyze.</p> <p>We understand the desire for security and privacy and find that the SSH protocol is preferable to HTTPS as it separates Codacy's access rights from the one of the users.</p> <p>Tip</p> <p>You can revoke the keys created by Codacy at any time. See GitLab or Bitbucket documentation for further details.</p>"}, {"location": "organizations/audit-logs-for-organizations/", "title": "Audit logs for organizations", "text": "<p>This feature is only available on Business plan</p> <p>Codacy logs important events in your organization, reflecting when your team members execute specific operations. This enables the generation of comprehensive reports to assist you with the audit process. For example, you can track who added a repository to Codacy, or changed the settings of a coding standard.</p> <p>Organization admins and organization managers can obtain the audit log data of the organization events using the Codacy API endpoint listAuditLogsForOrganization.</p> <p>The retention period of audit logs for organization events is one year.</p>"}, {"location": "organizations/audit-logs-for-organizations/#audit-log-events", "title": "Audit log events", "text": "<p>Each audit log tracks when a Codacy user executed a specific operation in your organization using the Codacy app or the Codacy API. Each operation is identified by an action. For the detailed content of each audit log, see the Codacy API reference.</p> <p>The sections below list the events that Codacy logs for your organization at user, organization, and repository levels.</p>"}, {"location": "organizations/audit-logs-for-organizations/#user", "title": "User", "text": "Event Description Action Log in User logged in to Codacy <code>user.login</code> Create account API token New account API token created <code>user.tokens.create</code> Read account API token List of account API tokens retrieved <code>user.tokens.read</code> Delete account API token Account API token deleted <code>user.tokens.delete</code>"}, {"location": "organizations/audit-logs-for-organizations/#organization", "title": "Organization", "text": "Event Description Action Add organization Organization added to Codacy <code>organizations.create</code> Add people to organization New people added to the organization <code>organizations.people.create</code> Join organization User joined the organization <code>organizations.join</code> Update repository management permissions Repository management permissions updated <code>organizations.analysisconfigurationminimumpermission.update</code> Assign organization manager role Organization manager role assigned to a team member <code>organizations.security.managers.create</code> Revoke organization manager role Organization manager role revoked from a team member <code>organizations.security.managers.delete</code> Update default Git provider configuration Default Git provider configuration for the organization updated <code>organizations.integrations.providersettings.update</code> Apply default Git provider configuration to all repositories Default Git provider configuration applied to all repositories of the organization <code>organizations.integrations.providersettings.apply</code> Create new organization hook New organization webhook created <code>organizations.settings.hooks.create</code> Create new gate policy New gate policy created <code>organizations.gatepolicies.create</code> Update gate policy Quality gate definition updated <code>organizations.gatepolicies.update</code> Apply gate policy to repositories Gate policy applied to a list of repositories <code>organizations.gatepolicies.repositories.apply</code> Make gate policy default Gate policy was made the default for the organization <code>organizations.gatepolicies.setdefault</code> Make Codacy gate policy default Built-in Codacy gate policy was made the default for the organization <code>organizations.gatepolicies.setcodacydefault</code> Delete gate policy Gate policy deleted <code>organizations.gatepolicies.delete</code> Create new coding standard using preset sensitivity levels New coding standard created <code>organizations.presetsstandards.create</code> Create new coding standard draft using individual language and code pattern settings New coding standard draft created <code>organizations.codingstandards.create</code> Create new coding standard from draft New coding standard created <code>organizations.codingstandards.promote</code> Update coding standard from draft Coding standard updated <code>organizations.codingstandards.promote</code> Apply coding standard to repositories Coding standard applied to a list of repositories <code>organizations.codingstandards.repositories.apply</code> Make coding standard default Coding standard was made the default <code>organizations.codingstandards.setdefault</code> Delete coding standard Coding standard deleted <code>organizations.codingstandards.delete</code>"}, {"location": "organizations/audit-logs-for-organizations/#repository", "title": "Repository", "text": "Event Description Action Create new post-commit hook New repository hook created <code>repositories.integrations.postcommithook</code> Create repository API token New repository API token created <code>repositories.tokens.create</code> Read repository API token List of repository API tokens retrieved <code>repositories.tokens.read</code> Delete repository API token Repository API token deleted <code>repositories.tokens.delete</code> Update Git provider integration settings(GitHub, Bitbucket, or GitLab) Git provider integration settings for the repository updated <code>repositories.integrations.providersettings.update</code> Refresh Git provider integration(applies only to Bitbucket and GitLab) Git provider integration for the repository refreshed <code>repositories.integrations.refreshprovider</code>"}, {"location": "organizations/changing-your-plan-and-billing/", "title": "Changing your plan and billing", "text": "<p>Each organization on Codacy has a dedicated plan and associated billing. To make changes to the plan and billing of an organization, open your organization Settings, page Plan and billing.</p> <p>Note</p> <ul> <li> <p>If you're using GitHub Marketplace, update your billing details or cancel your plan directly on your GitHub Billing page.</p> </li> <li> <p>If you cancel your plan or switch to a different Enterprise plan, some repositories may show outdated information in the Codacy UI. To update this information, reanalyze the repositories or push new commits.</p> </li> </ul> <p></p> <ul> <li> <p>To upgrade to the Pro plan click Choose plan, choose between monthly or yearly billing, and provide your payment and invoice details</p> </li> <li> <p>To make changes to your Pro plan or invoice details click Edit plan details or click Edit invoice details</p> </li> </ul> <p>If you have any questions or need help with your account, please contact support@codacy.com.</p>"}, {"location": "organizations/changing-your-plan-and-billing/#allowing-new-people-to-join-your-organization", "title": "Allowing new people to join your organization", "text": "<p>On Codacy Cloud, organization admins control if team members need an approval before joining their organization. Codacy updates your seats automatically when new users join an organization.</p> <p>Note</p> <ul> <li> <p>If you're using GitHub Marketplace, this configuration isn't available and team members must always wait for an organization owner to manually approve their requests to join the organization.</p> </li> <li> <p>In some Enterprise plans, Codacy automatically adds to the organization new people that commit to your private repositories. However, they still need to join the organization on the Codacy app if they want to use the UI.</p> </li> </ul> <p>Choose one of the following options in your organization Settings, page Plan and billing:</p> <ul> <li> <p>Allow new people to join immediately: people with access to the organization on the Git provider can join the organization on the Codacy app immediately, as long as there are seats available.</p> </li> <li> <p>Review join requests from new people: when people with access to the organization on the Git provider join the organization on Codacy app, an organization admin must manually approve their requests to join on the page People.</p> <p>Your teammates that have already been invited to join or were added to the organization are automatically approved, and you can also skip the approval process for organization admins.</p> </li> </ul> <p></p>"}, {"location": "organizations/managing-people/", "title": "Managing people", "text": "<p>People signing up to the Codacy app and joining an organization become members of that organization. Members of a Codacy organization can see the dashboards and details of the organization repositories. Depending on their permissions on the Git provider, members can also manage the organization and repository settings on Codacy.</p> <p>For private repositories, Codacy only analyzes commits from people in your Codacy organization. To make sure that Codacy analyzes all relevant commits, add to your Codacy organization the committers that aren't members of the organization yet.</p> <p>Important</p> <ul> <li> <p>Make sure that you invite or ask your teammates to join your organization on Codacy so that Codacy analyzes their commits to private repositories.</p> </li> <li> <p>Committers who aren't part of your Git provider organization can't join your organization on Codacy app, but you should still add them to your Codacy organization to analyze their commits to private repositories.</p> </li> </ul> <p>To list and manage the people in your organization, open your organization Settings, page People. This page also shows their last activity on Codacy.</p> <p>Note</p> <p>In some Enterprise plans, Codacy automatically assigns a seat to any person with at least one analyzed commit to your private repositories over the past 90 days and frees up the seat after 90 days of code analysis inactivity.</p> <p></p>"}, {"location": "organizations/managing-people/#joining", "title": "Joining an organization", "text": "<p>To become a member of an organization on Codacy app you must sign up to Codacy using your Git provider and follow the instructions to either join an existing organization or add a new one.</p> <p>To join or add an organization after completing the sign-up process, click Organizations on the top right-hand menu under your avatar:</p> <p></p> <p>Note</p> <p>On Codacy Cloud, organization admins control if team members need an approval before joining their organizations.</p>"}, {"location": "organizations/managing-people/#adding-people", "title": "Adding people to your organization", "text": "<p>On Codacy Cloud, organization admins can also add teammates to their organization on Codacy. This is useful to allow Codacy to analyze commits to private repositories by committers who haven't signed up to Codacy or joined the organization yet.</p> <p>Tip</p> <p>You can also use the Codacy API to add people to your Codacy organization. This is useful while adding a large amount of people or to automatically add new members of your Git provider organization to Codacy.</p> <p>To add people to your organization:</p> <ol> <li> <p>Open your organization Settings, page People, and click the button Add people.</p> <p>Note</p> <p>For Enterprise plans where Codacy automatically adds new committers to your organization, you can invite them to join the organization on the Codacy app by clicking the Invite people button.</p> <p></p> </li> <li> <p>Select people from the list displaying pending requests to join the organization, as well as recent committers to the private repositories in your organization.</p> <p>Alternatively, click Add people using email addresses to manually enter the list of email addresses of the people you wish to add.</p> <p>Important</p> <ul> <li> <p>To prevent the same person from occupying more than one seat in your organization, make sure your teammates update the email addresses associated with their Codacy account.</p> </li> <li> <p>On GitHub and Bitbucket organizations, Codacy automatically reduces seat duplication when commits are pushed by associating all the commit email addresses from the same Git provider user with a single Codacy committer. This mechanism requires that all developers committing to your private repositories set their Git email address and add all their email addresses to their GitHub account or Bitbucket account.</p> </li> </ul> <p></p> </li> <li> <p>Confirm the updated billing details displayed at the bottom of the window and click the button Add people. Codacy emails the newly added people inviting them to log in.</p> </li> </ol>"}, {"location": "organizations/managing-people/#removing-people", "title": "Removing people from your organization", "text": "<p>Members of an organization on Codacy can remove themselves from the organization, and organization admins can also remove other members and committers.</p> <p>When a member or committer leaves an organization:</p> <ul> <li>Codacy stops analyzing their commits to private repositories in the organization</li> <li>On GitLab and Bitbucket organizations Codacy stops analyzing repositories that were added by the member</li> <li>Organizations must have at least one admin, so when the last organization admin leaves the organization they must either add someone else as admin or delete the organization</li> </ul> <p>To remove people from your organization open your organization Settings, page People, click the icon next to the member or committer you wish to remove, and select Remove from organization.</p> <p>Note</p> <p>For Enterprise plans where Codacy automatically manages seat usage for your organization, you can't remove people who had their commits analyzed within the last 90 days because their are still active within the billing period. However, if you remove them from the organization on your Git provider, they no longer have permissions to your repositories on Codacy.</p> <p></p>"}, {"location": "organizations/managing-people/#see-also", "title": "See also", "text": "<ul> <li>Adding people to Codacy programmatically</li> <li>Roles and permissions for organizations</li> </ul>"}, {"location": "organizations/managing-repositories/", "title": "Managing repositories", "text": "<p>Users with the necessary permissions on your Git provider can add repositories to Codacy to start analyzing them. The remaining organization members with access to the added repositories can then follow on Codacy the repositories of their interest.</p> <p>Important</p> <p>To see your repositories on Codacy, make sure that you have the necessary permissions over the repositories on the Git provider and that Codacy has the necessary permissions to access the repositories.</p> <p>To see all the repositories that you follow on Codacy, open the page Repositories under your organization. Organization admins also see the total number of repositories that have already been added to the organization.</p> <p>Across the application, Codacy calculates and displays data for the repositories on this list.</p> <p></p> <p>This page lists the repositories that you follow on Codacy sorted by last updated date, and allows you to compare the repositories on the list according to the following metrics:</p> <ul> <li>Grade</li> <li>Issues</li> <li>Complexity</li> <li>Duplication</li> <li>Coverage</li> </ul> <p>The list also displays error and warning messages for repositories that have issues, such as when there are no committers added to the organization or when Codacy stopped having access to the repository. Hover the mouse cursor over the warning icons or open the repository to see more details.</p> <p>If you follow many repositories, you can use the search field above the list to quickly find a specific repository.</p>"}, {"location": "organizations/managing-repositories/#adding-a-repository", "title": "Adding a repository", "text": "<p>Analyzing private repositories is only available on paid plans</p> <p>Users with the necessary permissions can add a repository to Codacy to start analyzing it.</p> <p>Note</p> <p>When a user adds a new repository to Codacy, all organization admins start following it automatically.</p> <p>To add new repositories to Codacy:</p> <ol> <li> <p>Click the button Manage repositories at the top right-hand corner of the page. This opens a window listing your organization repositories.</p> </li> <li> <p>Click Add next to the repositories you want to add. If you have many repositories, you can use the search field above the list to quickly find a specific repository.</p> <p></p> </li> <li> <p>When you're done, close the window to return to your repositories list.</p> </li> </ol> <p>Although Codacy immediately starts analyzing newly added repositories, they display empty metrics until the first analysis returns results.</p> <p></p>"}, {"location": "organizations/managing-repositories/#follow-unfollow", "title": "Following or unfollowing a repository", "text": "<p>Users with no permission to add a repository to Codacy, can follow that repository after it has been added to Codacy, and stop following it at any time.</p> <p>To follow or unfollow repositories on Codacy:</p> <ol> <li> <p>Click the button Manage repositories at the top right-hand corner of the page. This opens a window listing your organization repositories.</p> </li> <li> <p>Click Follow or Unfollow next to the repositories you want to follow or unfollow. If you have many repositories, you can use the search field above the list to quickly find a specific repository.</p> <p></p> </li> <li> <p>When you're done, close the window to return to your repositories list.</p> </li> </ol> <p>Note</p> <p>You automatically start following a repository as soon as you access any page from that repository. For example, when you access the repository using a direct link on your Git provider UI.</p> <p>Conversely, you automatically stop following a repository as soon as you try accessing any page from that repository but you don't have permissions to see that repository anymore.</p>"}, {"location": "organizations/managing-repositories/#custom-properties-filter", "title": "Repository Custom Properties Filter", "text": "<p>Codacy allows you to filter repositories based on Repository Custom Properties from GitHub. This feature helps you to categorize and filter repositories more effectively within the Codacy platform.</p> <p></p> <p>To enable this feature, users must go through an initial sync between GitHub and Codacy, which ensures that the repository custom properties from GitHub are reflected in Codacy.</p> <p></p> <p>Important</p> <p>For changes to Repository Custom Properties in GitHub to be automatically reflected in Codacy, users need to accept the new permission request made by the Codacy GitHub app. Accepting this permission enables automatic synchronization of any future changes to the custom properties in GitHub.</p> <p>If the permission is not accepted, users will still be able to use Repository Custom Properties as filters in Codacy, but will need to manually trigger a sync. This can be done using the manual sync button available in the filter dropdown, which allows users to synchronize changes from GitHub, though the process may take longer.</p> <p>Once the sync is completed, you can use these custom properties as a filter to better locate and organize repositories within Codacy.</p> <p>Note</p> <p>To fully take advantage of this feature, you can create, use, and manage custom properties for your repositories directly in GitHub. Custom properties allow you to assign tags or metadata to repositories, making it easier to categorize and filter them.</p> <p>For detailed steps on how to add, edit, and manage Repository Custom Properties in GitHub, refer to GitHub's official documentation.</p>"}, {"location": "organizations/managing-repositories/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "organizations/managing-security-and-risk/", "title": "Managing security and risk", "text": "<p>The Security and risk management feature helps you quickly identify, track, and address security across your organization by automatically opening time-bound, prioritized findings whenever security problems are detected in your organization repositories, in your connected Jira instance, or as a result of penetration testing.</p> <p>Under Security and risk management, you can find the following pages to help you monitor the security of your repositories:</p> <ul> <li>Overview</li> <li>Findings</li> </ul> <p>In addition, on these pages, you can share filtered views of findings, export findings as a CSV file, and review severity rules and integration settings</p>"}, {"location": "organizations/managing-security-and-risk/#dashboard", "title": "Overview", "text": "<p>The Security and risk management overview page provides a high-level view of the security posture of your organization, including the number of open findings, the distribution of open findings by severity, the history of finding resolution, and a breakdown of the most high-risk repositories and most detected security categories.</p> <p>Use this page to assess your organization's security posture and its progress over time, identify areas for improvement, and share findings with stakeholders.</p> <p>To access the overview page, select an organization from the top navigation bar and select Security and risk on the left navigation sidebar.</p> <p></p> <p>The overview page includes six panels:</p> <ul> <li>Open findings overview</li> <li>Open findings distribution</li> <li>Open findings history</li> <li>Activity history</li> <li>Top 10 high-risk repositories</li> <li>Top 10 common security categories</li> </ul> <p>To limit the information displayed in each panel to a specific set of repositories, use the filter drop-down above the main area.</p>"}, {"location": "organizations/managing-security-and-risk/#open-findings-overview", "title": "Open findings overview", "text": "<p>The Open findings overview panel displays the total number of open security findings and the number of findings of each severity, helping you quickly assess the overall security posture of your organization and quickly review findings that are critical or overdue.</p> <p>To access the findings page with the corresponding filter applied, click on a number.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#open-findings-distribution", "title": "Open findings distribution", "text": "<p>The Open findings distribution panel shows the relative distribution of open findings by scan type, severity, or status, helping you evaluate the distribution of risk across different criteria and identify areas that may need immediate attention.</p> <p>To select the desired distribution, use the drop-down in the top right-hand corner of the panel.</p> <p>To access the findings page with the corresponding filter applied, click on a number.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#open-findings-history", "title": "Open findings history", "text": "<p>The Open findings history graph shows the open findings trends over the past three months, grouped by week and severity. It details the progression of your organization's risk and security posture over time and can, for example, help you understand if the right issues are being addressed.</p> <p>For a detailed view of the distribution on a specific week, hover over the graph.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#activity-history", "title": "Activity history", "text": "<p>The Activity history graph shows weekly counts of open and closed findings over the past three months, overlaid on the overall open findings trend. It complements the Open findings history graph with more information, such as the volume of findings addressed each week and a visual representation of the new/closed ratio.</p> <p>To filter the graph by finding severity, use the drop-down in the top right-hand corner of the panel.</p> <p>For a detailed view of the counts on a specific week, hover over the graph.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#top-10-high-risk-repositories", "title": "Top 10 high-risk repositories", "text": "<p>The Top 10 high-risk repositories list shows the repositories with the highest number of open findings, ordered by severity.</p> <p>Note</p> <p>This panel may list fewer than ten repositories if there are fewer than ten repositories with open findings in the organization or if fewer than ten repositories are selected in the dropdown Repository filter.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#top-10-common-security-categories", "title": "Top 10 common security categories", "text": "<p>The Top 10 common security categories list shows the most common security categories of open findings, ordered by count.</p> <p>To access the findings page with the corresponding filter applied, click on a category.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#item-list", "title": "Findings", "text": "<p>The Security and risk management findings page displays a filtered list of findings. By default, this list is sorted by status, and you can click the First detected column name to sort the findings by the detection date. Use this page to review and prioritize findings and track the progress of your security efforts.</p> <p>To access the findings page, access the overview page and click the Findings tab.</p> <p></p> <p>When viewing the findings, you can update the filtering criteria by clicking the Severity, Status, Repository, Security category, or Scan type drop-downs above the list.</p> <p>The Details column offers a quick overview of each finding in the list, including its title, source platform, scan type, security category, and related information such as the repository name, Jira issue key, or penetration testing report URL. To find out more, click this overview to navigate to the finding details on the source platform.</p> <p></p>"}, {"location": "organizations/managing-security-and-risk/#sharing-filtered-view", "title": "Sharing a filtered view of findings", "text": "<p>To share the current view of the overview or findings page, click the Copy URL button in the top right-hand corner of the page. This action copies the URL with the current filters applied to the clipboard.</p>"}, {"location": "organizations/managing-security-and-risk/#exporting-the-security-item-list", "title": "Exporting findings", "text": "<p>This feature is available only to organization admins and organization managers</p> <p>To export a list of findings as a CSV file, click the options menu in the top right-hand corner of the page and select Export findings (.csv). The exported list always includes all findings, ignoring any applied filters.</p>"}, {"location": "organizations/managing-security-and-risk/#reviewing-settings", "title": "Reviewing severity rules and integration settings", "text": "<p>To review the severity assignment rules or manage the integration with Jira or Slack, click the options menu in the top right-hand corner of the page and select respectively See severity rules or View integrations.</p>"}, {"location": "organizations/managing-security-and-risk/#opening-and-closing-items", "title": "How Codacy manages findings", "text": "<p>Important</p> <p>To open and close findings, Codacy must detect when the associated issues are introduced and fixed. The detection logic is platform-dependent and is described below.</p> <p>Codacy opens a new finding whenever a source platform detects a new security issue. The new finding is automatically assigned a severity and a status:</p> <ul> <li>The priority of the issue on the source platform sets the severity of the finding. In turn, the severity of the finding defines a deadline to close the finding.</li> <li>The time to the deadline sets the status of the finding. The finding then moves through different statuses as the deadline is approached, met, or missed.</li> </ul> <p>Codacy closes a finding when the source platform stops detecting the associated security issue.</p> <p>The following section details when Codacy opens and closes findings for each supported platform.</p>"}, {"location": "organizations/managing-security-and-risk/#opening-and-closing-codacy-items", "title": "How Codacy manages findings detected on Git repositories", "text": "<p>Note</p> <p>To make sure that Codacy detects security issues correctly:</p> <ul> <li>Enable code patterns belonging to the Security category. These patterns are enabled by default, but may not be on custom configurations.</li> <li>Alternatively, apply a coding standard that includes patterns belonging to the Security category.</li> <li>Confirm that the latest commits to the default branches of your repositories are analyzed.</li> </ul> <p>Codacy opens a new finding when it detects a new security issue on the default branch of a repository.</p> <p>Codacy closes a finding in either of the following cases:</p> <ul> <li>Codacy detects that the associated issue isn't present in the most recent analyzed commit and therefore is fixed</li> <li>You ignore the associated issue</li> <li>You disable the tool that found the associated issue</li> </ul> <p>Important</p> <p>Deleting a repository deletes all open findings belonging to that repository.</p>"}, {"location": "organizations/managing-security-and-risk/#opening-and-closing-jira-items", "title": "How Codacy manages findings detected on Jira", "text": "<p>Note</p> <ul> <li>For Codacy to detect Jira issues, you must integrate Jira with Security and risk management.</li> <li>Codacy retrieves updates from Jira once a day. If an issue is opened and closed on the same day, Codacy may not detect it.</li> <li>To make sure that Codacy detects Jira issues correctly, assign the security label when creating the issue or immediately after.</li> </ul> <p>Codacy opens a new finding when it detects a new Jira issue with a security label (case-insensitive).</p> <p>Codacy closes a finding when it detects that the associated Jira issue is marked as Closed.</p>"}, {"location": "organizations/managing-security-and-risk/#opening-and-closing-pen-testing-items", "title": "How Codacy manages findings detected during penetration testing", "text": "<p>Note</p> <p>Penetration testing is available upon request and is provided by a third-party partner. See how to request penetration testing for your organization.</p> <p>Codacy opens a finding for each security issue detected during a penetration test.</p> <p>Codacy closes a finding when a subsequent penetration test doesn't detect the underlying security issue.</p>"}, {"location": "organizations/managing-security-and-risk/#opening-and-closing-app-scanning-items", "title": "How Codacy manages findings detected during application scanning (DAST)", "text": "<p>Note</p> <p>To view application scanning findings, also known as DAST (Dynamic Application Security Testing) findings, you must first generate a DAST report and upload it to Codacy.</p> <p>Codacy opens a finding for each security issue detected in the DAST report. If subsequent reports identify the same issue, Codacy updates the existing finding.</p> <p>Codacy closes a finding when it's not detected in a subsequent DAST report. If a previously closed issue reappears in a later report, Codacy reopens the finding.</p>"}, {"location": "organizations/managing-security-and-risk/#item-severities-and-deadlines", "title": "Finding severities and deadlines", "text": "<p>Note</p> <p>Currently, Codacy doesn't support customizing the severity rules for security findings.</p> <p>The following table defines finding severities and the number of days to the deadline to fix the associated security issue, based on the importance of the underlying issue:</p> Findingseverity Days to deadline Underlying Codacyissue severity Underlying Jiraissue priority <sup>1</sup> Critical 30 Critical Highest High 60 - High Medium 90 Medium Medium Low 120 Minor Low and other/custom <p><sup>1</sup> Those listed are the default Jira priority names. If you rename a default Jira priority, it keeps the correct mapping.</p>"}, {"location": "organizations/managing-security-and-risk/#item-statuses", "title": "Finding statuses", "text": "<p>The following table describes how finding statuses map to deadlines:</p> Status category Finding status Deadline Open Overdue The deadline has been missed Due soon Fewer than 15 days to the deadline On track 15 days or more to the deadline Closed Closed late Closed after the deadline Closed on time Closed before the deadline"}, {"location": "organizations/managing-security-and-risk/#supported-security-categories", "title": "Supported security categories", "text": "<p>Note</p> <p>Due to a recent update, some issues may be temporarily assigned the Not yet categorized category. To categorize these issues, you can reanalyze the default branch of the relevant repository. For a list of repositories that have issues with this category, use the Security category filter on the Findings page. Note that some issues just don't have a security category. These issues will remain Not yet categorized.</p> <p>Each Codacy issue reported by Security and risk management belongs to one of the following security categories:</p> Security category Description Android Android-specific security issues. Authentication Broken authentication and authorization attacks consist in gaining access to accounts that allow disclosing sensitive information or performing operations that could compromise the system. Command Injection Command injection attacks aim to execute arbitrary commands on the host operating system. Cookies Security issues related to insecure cookies. Cryptography Cryptography attacks exploit failures related to cryptography (or lack thereof), potentially leading to exposure of sensitive data. CSRF Cross-Site Request Forgery (CSRF) attacks force an end user to execute unwanted actions on a web application in which they're currently authenticated. Denial of Service Denial of Service (DoS) attacks make a resource (site, application, server) unavailable for legitimate users, typically by flooding the resource with requests or exploiting a vulnerability to trigger a crash. File Access File access security issues may allow an attacker to access arbitrary files and directories stored on the file system such as application source code, configuration, and critical system files. HTTP Headers Insecure HTTP headers are a common attack vector for malicious users. Input Validation Client input should always be validated to prevent malformed or malicious data from entering the workflow of an information system. Insecure Modules and Libraries Security issues related to modules or libraries that can potentially include vulnerabilities. Insecure Storage Security issues related to insecure storage of sensitive data. Malicious Code Security issues related to code patterns that are potentially unsafe. Mass Assignment Unprotected mass assignments are a Rails feature that could allow an attacker to update sensitive model attributes. Regex Regular expressions can be used in Denial of Service attacks, exploiting the fact that in most regular expression implementations the computational load grows exponentially with input size. Routes Badly configured routes can give unintended access to an attacker. SQL Injection SQL injection attacks insert or \"inject\" malicious SQL queries into the application via the client input data. SSL Security issues related with old SSL versions or configurations that have known cryptographic weaknesses and should no longer be used. Unexpected Behaviour Security issues related to potentially insecure system API calls. Visibility Logging should always be included for security events to better allow attack detection and help defend against vulnerabilities. XSS Cross-Site Scripting (XSS) attacks inject malicious client-side scripts into trusted websites that are visited by the end users. Other Other language-specific security issues."}, {"location": "organizations/managing-security-and-risk/#scan-types", "title": "Scan types", "text": "<p>Security and risk management classifies each finding with a Scan type, indicating the specific source or method used to detect the finding. This information helps you understand the origin of the finding and the context in which the underlying issue was detected.</p> <p>The following table lists the available scan types and their descriptions:</p> Scan type Description Code Scanning Analysis of source code for vulnerabilities without execution. Also known as Static Application Security Testing (SAST). Software Composition Analysis Analysis of external libraries and packages for vulnerabilities or outdated versions. Exposed Secrets Detection of sensitive information, such as passwords or API keys, inadvertently included in the code. Infrastructure as Code Detection of configuration issues within infrastructure-as-code (IaC) files that could pose risks. Penetration Testing Results from penetration testing to find security vulnerabilities in running code. App Scanning Simulated attacks on live applications to find vulnerabilities. Also known as Dynamic Application Security Testing (DAST)."}, {"location": "organizations/managing-security-and-risk/#languages-checked-for-security-issues", "title": "Languages checked for security issues", "text": "<p>Security and risk management supports checking the languages and infrastructure-as-code platforms below for any Codacy security issues reported by the corresponding tools:</p> Language Tools that report security issues Apex PMD,           Semgrep <sup>1</sup> AWS CloudFormation Checkov,           Trivy <sup>2</sup> C Clang-Tidy <sup>3</sup>,           Cppcheck,           Flawfinder,           Semgrep <sup>1</sup>,           Trivy C# SonarC#,           Semgrep <sup>1</sup>,           Trivy C++ Clang-Tidy <sup>3</sup>,           Cppcheck,           Flawfinder,           Semgrep <sup>1</sup>,           Trivy Dart Trivy Dockerfile Hadolint,           Semgrep <sup>1</sup>,           Trivy Elixir Credo,           Trivy GitHub Actions Semgrep <sup>1</sup> Go Gosec <sup>3</sup>,           Semgrep <sup>1</sup>,           Trivy Groovy CodeNarc Helm Trivy <sup>2</sup> Java Semgrep <sup>1</sup>,           SpotBugs <sup>3</sup> <sup>4</sup>,           Trivy JavaScript ESLint <sup>5</sup>,           Semgrep <sup>1</sup>,           Trivy JSON Trivy Kotlin Semgrep <sup>1</sup> Kubernetes Trivy <sup>2</sup> Objective-C Clang-Tidy <sup>3</sup> PHP PHP_CodeSniffer,           PHP Mess Detector,           Semgrep <sup>1</sup>,           Trivy PowerShell PSScriptAnalyser Python Bandit,           Prospector,           Pylint,           Semgrep <sup>1</sup>,           Trivy Ruby Brakeman,           RuboCop,           Semgrep <sup>1</sup>,           Trivy Rust Semgrep <sup>1</sup>,           Trivy Scala Codacy Scalameta Pro,           Semgrep <sup>1</sup>,           SpotBugs <sup>3</sup> <sup>4</sup> Swift Semgrep <sup>1</sup> Shell ShellCheck Semgrep <sup>1</sup> Terraform Semgrep <sup>1</sup>,           Trivy Transact-SQL TSQLLint TypeScript ESLint <sup>5</sup>,           Semgrep <sup>1</sup>,           Trivy Visual Basic SonarVB <p><sup>1</sup>: Semgrep supports additional security rules when signing up for Semgrep Pro. <sup>2</sup>: Currently, Trivy only supports scanning YAML files on this platform. <sup>3</sup>: Supported as a client-side tool. <sup>4</sup>: Includes the plugin Find Security Bugs. <sup>5</sup>: Includes the plugins no-unsanitized, security, security-node, and xss.  </p>"}, {"location": "organizations/organization-overview/", "title": "Organization overview", "text": "<p>The Organization overview provides an overview of the repositories belonging to your Git provider organization that you follow on Codacy. Here you can compare their statuses and check for items that require your attention.</p> <p>To access your Organization overview, select an organization from the top navigation bar and select Overview on the left navigation sidebar.</p> <p>Important</p> <ul> <li> <p>The Organization overview calculates metrics and displays data only for the repositories that you follow on Codacy. This means that depending on their list of followed repositories, two users can see different results on their Organization overview.</p> </li> <li> <p>The Organization overview displays information for at most the last 100 updated repositories.</p> </li> </ul> <p></p> <p>Use the drop-down list at the top of the page to filter the information displayed on all dashboard areas based on the repositories that you select. For example, you can use the filter to monitor the quality of the repositories maintained by specific teams or that include certain programming languages, or to ignore legacy repositories that are no longer maintained. The selected repositories are stored in your browser so that the same filter is applied between your visits to the Organization overview page.</p> <p>You can use the language filter to help you narrow down the list of repositories in the drop-down list:</p> <p></p> <p>On the Organization overview you have the following areas to help you monitor your repositories:</p> <ul> <li>Overall quality chart</li> <li>Open pull requests</li> <li>Last updated repositories</li> </ul> <p>On this page, you can also see the Organization setup area, which provides you with a checklist of items that you should complete to ensure that your organization is set up correctly and that you're getting the most out of Codacy.</p> <p>The following sections provide a detailed description of the repository-related dashboard areas.</p> <p>Note</p> <p>You can use the Codacy API to generate reports or obtain information about the code quality of your repositories in a more flexible way.</p> <p>For more information see the list of available API endpoints and the following examples:</p> <ul> <li>Obtaining current issues in repositories</li> <li>Obtaining code quality metrics for files</li> </ul>"}, {"location": "organizations/organization-overview/#overall-quality-chart", "title": "Overall quality chart", "text": "<p>The Overall quality chart compares the repositories that you follow regarding grade, issues, complex files, duplication, and code coverage. Each tab displays the average value for the corresponding metric across your repositories.</p> <p></p> <ul> <li>Hover the mouse pointer over the bars to see the metrics for the corresponding repositories.</li> <li>Click the bars to navigate directly to the corresponding repository.</li> </ul> <p>If you have over 8 repositories, the chart displays your repositories grouped by grade or percentage intervals. Click the bars to see and navigate directly to the corresponding repositories.</p> <p></p> <p>Tip</p> <p>If you don't have coverage set up for any of your repositories yet, the coverage tab provides you with instructions on how to add coverage for your repositories.</p>"}, {"location": "organizations/organization-overview/#open-pull-requests", "title": "Open pull requests", "text": "<p>The Most problematic tab displays a short list of the open pull requests that aren't up to standards and have the most potential to negatively affect your code quality.</p> <p></p> <p>The Last updated tab displays open pull requests sorted by the date of update with one of the following status:</p> <ul> <li>Not up to standards</li> <li>Up to standards</li> <li>Analysis failed (something went wrong during the analysis)</li> <li>Analyzing (intermediate status while Codacy is analyzing the pull request)</li> </ul> <p></p> <p>Click a pull request to see the details of that pull request.</p>"}, {"location": "organizations/organization-overview/#last-updated-repositories", "title": "Last updated repositories", "text": "<p>The Last updated repositories list displays the last updated repositories, sorted by reverse date of the last update. Each item displays the date of the last update and the current grade of the repository.</p> <p>Click See all to see all the repositories that you follow on Codacy.</p> <p></p> <p>Note</p> <p>The exact value of the last updated date of the repositories depends on your Git provider:</p> <ul> <li>GitHub: date of the last commit to any branch of the repository (value of <code>pushed_at</code> from the GitHub Repositories API).</li> <li>GitLab: date when the project was last updated (value of <code>last_activity_at</code> from the GitLab Groups API). Note that this value is only updated at most once per hour).</li> <li>Bitbucket: date when the repository was last updated (value of <code>updated_on</code> from the Bitbucket Repositories API). On Bitbucket Server Codacy can't obtain this information and the list displays the repositories in alphabetical order.</li> </ul>"}, {"location": "organizations/organization-overview/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Using the Codacy API to obtain current issues in repositories</li> <li>Using the Codacy API to obtain code quality metrics for files</li> </ul>"}, {"location": "organizations/roles-and-permissions-for-organizations/", "title": "Roles and permissions for organizations", "text": "<p>By default, Codacy assigns each organization member a role corresponding to that member's role on your Git provider. Each Codacy role, from most restrictive (repository read) to most capable (organization admin), corresponds to a set of permissions that determine what each member can do on Codacy.</p> <p>To update a member's role on Codacy, update that member's role on your Git provider. When next logging in to Codacy, the member is assigned the new role.</p> <p>Organization admins can also grant additional permissions:</p> <ul> <li>To roles, by configuring repository management permissions</li> <li>To individual members, by assigning the organization manager role</li> </ul> <p>To review the permissions granted by each role, see the tables for each Git provider:</p> <ul> <li>Permissions for GitHub</li> <li>Permissions for GitLab</li> <li>Permissions for Bitbucket</li> </ul> <p>To list and manage the members of your Codacy organization, see the Managing people page.</p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#change-analysis-configuration", "title": "Configuring repository management permissions", "text": "<p>Only organization admins can update this setting</p> <p>By default, only users with the Codacy role repository write can change analysis configurations.</p> <p>To change this, open your organization Settings, page Roles and permissions, and choose the Codacy roles that can perform the following operations on the repositories of your organization:</p> <ul> <li>Ignore issues</li> <li>Ignore files</li> <li>Configure code patterns</li> <li>Configure languages</li> <li>Manage branches</li> <li>Reanalyze branches and pull requests</li> </ul> <p></p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#managing-the-organization-manager-role", "title": "Managing the organization manager role", "text": "<p>Only organization admins can update this setting</p> <p>To grant an organization member additional permissions, you can assign that member the organization manager role. This role isn't influenced by a member's Git provider role.</p> <p>To review the additional permissions granted by the organization manager role, see the tables for each Git provider (GitHub, GitLab, Bitbucket).</p> <p>Note</p> <p>Organization managers can access the Policies and Integrations settings sections of your organization and can therefore impact some repository settings for all repositories of your organization, even repositories that they can't access on the Git provider. However, they can't access the repositories themselves and can only see the repository names.</p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#assigning-the-organization-manager-role", "title": "Assigning the organization manager role", "text": "<p>To assign the organization manager role:</p> <ol> <li> <p>Open your organization Settings, page Roles and permissions.</p> </li> <li> <p>In the Organization managers area, use the search field to find the relevant organization member and click the member's name.</p> <p>Note</p> <p>You can only assign the organization manager role to members of your organization.</p> <p></p> </li> </ol>"}, {"location": "organizations/roles-and-permissions-for-organizations/#revoking-the-organization-manager-role", "title": "Revoking the organization manager role", "text": "<p>To revoke the organization manager role:</p> <ol> <li> <p>Open your organization Settings, page Roles and permissions.</p> </li> <li> <p>In the Organization managers area, scroll the list to find the relevant user.</p> </li> <li> <p>Click the Revoke role icon to the right of the user's name and confirm.</p> </li> </ol>"}, {"location": "organizations/roles-and-permissions-for-organizations/#permissions-for-github", "title": "Permissions for GitHub", "text": "<p>The table below maps the GitHub Cloud and GitHub Enterprise roles to the corresponding Codacy roles and the operations that they're allowed to perform:</p> GitHub role Outsidecollaborator<sup>1</sup> Repositoryread Repositorytriage Repositorywrite Repositorymaintain Repositoryadmin - OrganizationOwner Codacy role - Repositoryread Repositorywrite Repositoryadmin Organizationmanager Organizationadmin Join organization No Yes<sup>2</sup> Yes<sup>2</sup> Yes<sup>2</sup> Yes Yes<sup>2</sup> View and follow private repository No Yes Yes Yes Yes Yes Access Security and risk management No Yes<sup>3</sup> Yes<sup>3</sup> Yes<sup>3</sup> Yes Yes Ignore issues and files,configure code patterns and languages,manage branches,reanalyze branches and pull requests No Configurable Configurable Yes Inherits original permission Yes Upload coverage using an account API token,see the coverage report logs No No Yes Yes Inherits original permission Yes Configure repository Git provider integration settings No No No Yes Inherits original permission Yes Configure repository quality gates and goals No No No Yes Inherits original permission Yes Enable repository analysis to run on a local build server, manage repository API tokens No No No Yes Inherits original permission Yes Add and remove repository No No No Yes<sup>4</sup> Inherits original permission Yes Manage organization gate policies and coding standards No No No No Yes Yes Configure organization default settings for Git provider integration No No No No Yes Yes Obtain audit logs for organization events<sup>5</sup> No No No No Yes Yes Invite and accept members,modify billing No No No No No Yes Assign and revoke the organization manager role No No No No No Yes <p><sup>1</sup>: Outside collaborators aren't supported as members of organizations on Codacy. You can still add outside collaborators to Codacy so that Codacy analyzes their commits to private repositories, but they won't be able to join your Codacy organization. <sup>2</sup>: Joining an organization may need an approval depending on your setting for accepting new people. <sup>3</sup>: These users can only see security items originating from Codacy repositories that they follow. <sup>4</sup>: Requires that an organization owner has given the Codacy GitHub App access to the repositories to add or remove. <sup>5</sup>: Audit logs are available only on Business plan.</p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#permissions-for-gitlab", "title": "Permissions for GitLab", "text": "<p>The table below maps the GitLab Cloud and GitLab Enterprise roles to the corresponding Codacy roles and the operations that they're allowed to perform:</p> GitLab role Externaluser<sup>1</sup> Projectguest Projectreporter Projectdeveloper Projectmaintainer Projectowner - Groupowner Administrator Codacy role - Repositoryread Repositorywrite Repositoryadmin Organizationmanager Organizationadmin Join organization No Yes<sup>2</sup> Yes<sup>2</sup> Yes<sup>2</sup> Yes Yes<sup>2</sup> View and follow private repository No Yes Yes Yes Yes Yes Access Security and risk management No Yes<sup>3</sup> Yes<sup>3</sup> Yes<sup>3</sup> Yes Yes Ignore issues and files,configure code patterns and languages,manage branches,reanalyze branches and pull requests No Configurable Configurable Yes Inherits original permission Yes Upload coverage using an account API token,see the coverage report logs No No Yes Yes Inherits original permission Yes Configure repository Git provider integration settings No No No Yes Inherits original permission Yes Configure repository quality gates and goals No No No Yes Inherits original permission Yes Configure repository to run analysis on local build server, manage repository API tokens No No No Yes Inherits original permission Yes Add and remove repository No No No Yes Inherits original permission Yes Manage organization gate policies and coding standards No No No No Yes Yes Configure organization default settings for Git provider integration No No No No Yes Yes Obtain audit logs for organization events<sup>4</sup> No No No No Yes Yes Invite and accept members,modify billing No No No No No Yes Assign and revoke the organization manager role No No No No No Yes <p><sup>1</sup>: External users aren't supported as members of organizations on Codacy. You can still add external users to Codacy so that Codacy analyzes their commits to private repositories, but they won't be able to join your Codacy organization. <sup>2</sup>: Joining an organization may need an approval depending on your setting for accepting new people. <sup>3</sup>: These users can only see security items originating from Codacy repositories that they follow. <sup>4</sup>: Audit logs are available only on Business plan.</p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#permissions-for-bitbucket", "title": "Permissions for Bitbucket", "text": "<p>The table below maps the Bitbucket Cloud and Bitbucket Server roles to the corresponding Codacy roles and the operations that they're allowed to perform:</p> Bitbucket role Read Write<sup>1</sup> - Admin Codacy role Repositoryread Organizationmanager Organizationadmin Join organization Yes<sup>2</sup> Yes Yes<sup>2</sup> View and follow private repository Yes Yes Yes Access Security and risk management Yes<sup>3</sup> Yes Yes Ignore issues and files,configure code patterns and languages,manage branches,reanalyze branches and pull requests Configurable Inherits original permission Yes Upload coverage using an account API token,see the coverage report logs No Inherits original permission Yes Configure repository Git provider integration settings No Inherits original permission Yes Configure repository quality gates and goals No Inherits original permission Yes Configure repository to run analysis on local build server, manage repository API tokens No Inherits original permission Yes Add and remove repository No Inherits original permission Yes Manage organization gate policies and coding standards No Yes Yes Configure organization default settings for Git provider integration No Yes Yes Obtain audit logs for organization events<sup>4</sup> No Yes Yes Invite and accept members,modify billing No No Yes Assign and revoke the organization manager role No No Yes <p><sup>1</sup>: Codacy can't distinguish the Bitbucket roles Read and Write because of a limitation on the Bitbucket API. <sup>2</sup>: Joining an organization may need an approval depending on your setting for accepting new people. <sup>3</sup>: These users can only see security items originating from Codacy repositories that they follow. <sup>4</sup>: Audit logs are available only on Business plan.</p>"}, {"location": "organizations/roles-and-permissions-for-organizations/#see-also", "title": "See also", "text": "<ul> <li>Managing people</li> <li>Accepting new people to your organization</li> </ul>"}, {"location": "organizations/using-coding-standards/", "title": "Using coding standards", "text": "<p>Coding standards enable the analysis of multiple repositories with the same tool and code pattern configurations, ensuring consistent code quality across your organization. Multiple coding standards can be applied to the same repository. For example, you can use coding standards to ensure that a group of repositories follow the same security rules or coding conventions.</p> <p>This page covers the following topics:</p> <ul> <li>Creating a coding standard</li> <li>Configuring a coding standard (guided setup)</li> <li>Configuring a coding standard (advanced setup)</li> <li>Defining default coding standards</li> <li>Editing a coding standard</li> <li>Deleting a coding standard</li> <li>Using a coding standard alongside tool configuration files</li> <li>Using a coding standard alongside repository-level customizations</li> <li>Using multiple coding standards</li> </ul>"}, {"location": "organizations/using-coding-standards/#creating", "title": "Creating a coding standard", "text": "<p>Note</p> <p>Codacy currently supports up to 10 coding standards per organization.</p> <p>To create a coding standard for your organization:</p> <ol> <li> <p>Open your organization Policies page, tab Coding standards.</p> </li> <li> <p>Click the button Create new standard at the top right-hand corner of the page. This opens the coding standard creation form.</p> </li> <li> <p>Enter a unique name for the new coding standard.</p> <p>Optionally, check Apply to new repositories to set the new coding standard as one of your organization's default coding standards, so it applies automatically to new repositories.</p> </li> <li> <p>Choose whether to create the coding standard using a guided or advanced setup:</p> <ul> <li> <p>The guided setup lets you choose preset sensitivity levels for each issue type, turning on relevant patterns in bulk. It's ideal for quickly setting up a coding standard with minimal effort. You can always fine-tune the coding standard by editing it later using the advanced setup.</p> </li> <li> <p>The advanced setup lets you choose individual languages and code patterns to activate. It's ideal for fine-tuning the coding standard to your organization's specific needs, offering more control over the tools and code patterns used.</p> <p>With the advanced setup, you can optionally select a repository as the baseline for the new coding standard. This is useful if you already have a well-configured repository that you wish to use as a template.</p> </li> </ul> <p></p> </li> <li> <p>Click Create coding standard to proceed to the guided setup or advanced setup, depending on your choice.</p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#guided-setup", "title": "Configuring a coding standard (guided setup)", "text": "<p>If you selected Guided setup when creating a new coding standard, follow these steps:</p> <ol> <li> <p>Adjust the sensitivity of the coding standard from Essential to Comprehensive for each issue category group:</p> <ul> <li>Essential: Focuses on the most important issues by including the most critical code patterns. Ideal for initial integration, to prevent overwhelming developers, and to speed up analysis times.</li> <li>Comprehensive: Detects all issues by including all code patterns, capturing the complete severity spectrum. Ideal for detailed code quality reviews, while reducing emphasis on critical issues. It may increase analysis times.</li> </ul> <p>Tip</p> <p>Initially, set the sensitivity to Essential for most category groups to focus on critical code patterns. It helps streamline the integration process with Codacy without overwhelming developers with too many reported issues. You can gradually include more patterns as needed.</p> <p></p> </li> <li> <p>Click Next: Select and apply to repositories.</p> </li> <li> <p>Select existing repositories that should follow the new coding standard and click Save and apply coding standard.</p> <p>Codacy will start using the new coding standard on the next analysis of each selected repository.</p> <p></p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#advanced-settings", "title": "Configuring a coding standard (advanced setup)", "text": "<p>If you selected Advanced setup when creating a new coding standard or are editing an existing coding standard, follow these steps:</p> <ol> <li> <p>Select the programming languages that the new coding standard should include.</p> <p>Important</p> <p>The coding standard will only control tools that can analyze one or more of the languages selected in this step.</p> <p>If a language is omitted in this step, Codacy uses repository-level tool configurations if present or global Codacy defaults otherwise, and may analyze the omitted language. To prevent this:</p> <ol> <li> <p>In this step select all languages, so that the coding standard controls all tools.</p> </li> <li> <p>In the next step, explicitly disable the tools that you don't want to use.</p> </li> </ol> <p></p> </li> <li> <p>Click Next: Tools and patterns.</p> </li> <li> <p>Configure the tools and patterns of the coding standard:</p> <ul> <li>Toggle the tools to run when Codacy analyzes your code.</li> <li>For each enabled tool, configure the code patterns to use.</li> </ul> <p>Tip</p> <ul> <li>Use the filters to find the relevant tools and code patterns. The recommended configurations are manually curated by Codacy or based on tool defaults and are marked with the icon .</li> <li>To toggle multiple code patterns at once, click the checkbox of the first pattern and Shift+click the checkbox of the last pattern in a range.</li> <li>To toggle all the code patterns visible on the list, click the checkbox on the header of the code patterns list. If there are more code patterns to load on the list, you can click the link Enable/Disable all &lt;N&gt; patterns to toggle all patterns matching the current filters.</li> </ul> <p></p> </li> <li> <p>Proceed with the remaining wizard steps to finish creating or editing your coding standard.</p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#set-default", "title": "Defining default coding standards", "text": "<p>For ease of management, you can define multiple default coding standards that automatically apply to new repositories. In the absence of default coding standards, Codacy applies global defaults to all new repositories.</p> <p>Note</p> <p>When Codacy introduces new tools, those are automatically added to the global Codacy defaults but need to be manually added to a default coding standard.</p> <p>You can mark a new coding standard as default when creating one.</p> <p>To mark an existing coding standard as default:</p> <ol> <li> <p>Open your organization Policies page, tab Coding standards.</p> </li> <li> <p>Toggle Apply to new repositories on the relevant coding standard card.</p> <p></p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#editing", "title": "Editing a coding standard", "text": "<p>Note</p> <p>Any edits to the configurations of a coding standard are automatically applied on the next analysis of each associated repository.</p> <p>To edit an existing coding standard or change the repositories that follow that coding standard:</p> <ol> <li> <p>Open your organization Policies page, tab Coding standards.</p> </li> <li> <p>Click the edit icon on the coding standard card.</p> <p></p> </li> <li> <p>Edit the current coding standard configurations and click the button Next to advance to the following configuration pages:</p> <p>Note</p> <p>When editing an existing coding standard, the advanced setup is the default view.</p> <ul> <li> <p>Select languages: the programming languages that the coding standard applies to.</p> <p>On this page, you can rename the coding standard by clicking the edit icon next to the name of the coding standard.</p> <p></p> </li> <li> <p>Choose tools and patterns: the tool and code pattern configurations of the coding standard.</p> </li> <li>Select and apply to repositories: the repositories that follow the coding standard.</li> </ul> </li> <li> <p>Click the button Save and apply coding standard on the repository selection page to save your changes to the coding standard.</p> <p>Codacy will start using the updated coding standard on the next analysis of each selected repository.</p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#deleting", "title": "Deleting a coding standard", "text": "<p>To delete a coding standard:</p> <ol> <li> <p>Open your organization Policies page, tab Coding standards.</p> </li> <li> <p>Click the trash can icon on the coding standard card and confirm.</p> <p></p> </li> </ol>"}, {"location": "organizations/using-coding-standards/#using-with-tool-configuration", "title": "Using a coding standard alongside tool configuration files", "text": "<p>When using a tool configuration file alongside a coding standard, the configuration file controls the code patterns, while the coding standard controls whether the tool is enabled or disabled.</p>"}, {"location": "organizations/using-coding-standards/#using-with-repository-configuration", "title": "Using a coding standard alongside repository-level customizations", "text": "<p>Tools and patterns enabled by a coding standard are enforced and cannot be disabled at the repository level. You can add extra tools and patterns, if these are not already enabled by any applied coding standard.</p>"}, {"location": "organizations/using-coding-standards/#using-multiple", "title": "Using multiple coding standards", "text": "<p>When Codacy analyzes your code using multiple coding standards, it merges the tools and patterns from each standard. Enabled tools and patterns in any applied standard will be enforced.</p> <p>Important</p> <p>If the same pattern appears in multiple standards, the version from the most recently created and applied standard (with its parameters) takes precedence.</p>"}, {"location": "organizations/using-coding-standards/#see-also", "title": "See also", "text": "<ul> <li>Configuring code patterns on each repository</li> <li>How to implement Google JavaScript style guide with Codacy</li> </ul>"}, {"location": "organizations/using-gate-policies/", "title": "Using gate policies", "text": "<p>Gate policies help you ensure that Codacy uses the same quality gates across your organization repositories.</p> <p>Codacy provides a built-in gate policy, Codacy Gate Policy, which sets minimum quality levels for pull requests and commits. The following screenshot displays the default configuration values:</p> <p></p> <p>By default, Codacy applies the Codacy Gate Policy automatically to newly added repositories. You can then create new gate policies with different quality gates and make them the default for your organization.</p>"}, {"location": "organizations/using-gate-policies/#creating", "title": "Creating a new gate policy", "text": "<p>To create a new gate policy for your organization:</p> <ol> <li> <p>Open your organization Policies page, tab Gate policies.</p> </li> <li> <p>Click the button Create new gate policy at the top right-hand corner of the page. This opens a window with the gate policy creation form.</p> </li> <li> <p>Enter a unique name and click Create gate policy.</p> <p></p> </li> <li> <p>Set the values for the quality gates and click Next: Select and apply to repositories.</p> <p></p> </li> <li> <p>Select existing repositories that should follow the gate policy and click Save and apply gate policy.</p> <p>Codacy will start using the new gate policy on the next analysis of each selected repository.</p> <p></p> </li> </ol>"}, {"location": "organizations/using-gate-policies/#set-default", "title": "Setting a gate policy as default", "text": "<p>To set a gate policy as default:</p> <ol> <li> <p>Open your organization Policies page, tab Gate policies.</p> </li> <li> <p>Toggle Make default on the relevant gate policy card.</p> <p>Note</p> <p>Only one gate policy at a time can be the default gate policy.</p> <p></p> <p>Codacy will start applying the default gate policy to newly added repositories.</p> </li> </ol>"}, {"location": "organizations/using-gate-policies/#editing", "title": "Editing a gate policy", "text": "<p>To edit the quality gates of an existing gate policy or change the repositories that follow that gate policy:</p> <ol> <li> <p>Open your organization Policies page, tab Gate policies.</p> </li> <li> <p>Click the edit icon on the gate policy card.</p> <p></p> </li> <li> <p>Edit the current quality gate values and click the button Next: Select and apply to repositories.</p> <p>Note</p> <p>You can't change the quality gate values of the built-in Codacy Gate Policy.</p> </li> <li> <p>Edit the list of repositories that follow the gate policy.</p> </li> <li> <p>Click the button Save and apply gate policy to save your changes to the gate policy.</p> <p>Codacy will start using the updated gate policy on the next analysis of each selected repository.</p> </li> </ol> <p>If you stop applying a gate policy to a repository, Codacy restores the previous quality gates of that repository.</p>"}, {"location": "organizations/using-gate-policies/#deleting", "title": "Deleting a gate policy", "text": "<p>Note</p> <p>You can't delete the built-in Codacy Gate Policy.</p> <p>To delete an organization gate policy:</p> <ol> <li> <p>Open your organization Policies page, tab Gate policies.</p> </li> <li> <p>Click the trash can icon on the gate policy card and confirm.</p> <p></p> </li> </ol> <p>When you delete a gate policy:</p> <ul> <li> <p>Codacy restores the previous quality gates of each repository following that gate policy.</p> </li> <li> <p>If the deleted gate policy was the default for your organization, Codacy makes the built-in Codacy Gate Policy the default.</p> </li> </ul>"}, {"location": "organizations/what-are-organizations/", "title": "What are organizations", "text": "<p>Codacy organizations let you automatically import your Git provider organizations, repositories (including your personal repositories that don't belong to a Git provider organization), and team members into Codacy with a few clicks.</p> <p>Changes to the organizations, repositories, and team members are synchronized with Codacy in real-time, avoiding the manual management of repositories and teams.</p>"}, {"location": "organizations/what-are-organizations/#adding-an-organization", "title": "Adding an organization", "text": "<p>To add a new organization to Codacy, select Add organization on the navigation menu.</p> <p></p> <p>This opens the list of organizations on your Git providers. The organization with the same name as your Git provider username contains your personal repositories.</p> <p></p> <ul> <li>To add a new organization to Codacy, click the link Add for that organization.</li> <li>To join an organization that's already on Codacy, click the link Join for that organization.</li> <li>To add organizations from a Git provider not yet listed on this page, click Add provider and give the necessary permissions for Codacy to sync with the new Git provider and display your organizations.</li> </ul> <p>Note</p> <p>If you can't see the organization you're looking for, follow these troubleshooting instructions.</p>"}, {"location": "organizations/what-are-organizations/#updates-on-the-git-provider", "title": "Updates on the Git provider", "text": "<p>If you update your organization or repository information on your Git provider, some changes are automatically reflected on Codacy, as described in the table below.</p> <p>Note</p> <p>If an update to your organization name isn't automatically reflected on Codacy, navigate to the organization Settings page, tab Profile, and click the Synchronize button.</p> Git provider Rename repository Change repository visibility Delete repository Rename organization or group Remove member from organization or group Delete organization or group GitHub Cloud Yes Yes Yes Yes Yes Yes GitHub Enterprise Yes Yes Yes Yes Yes Yes GitLab Cloud No No No No No No GitLab Enterprise Yes Yes Yes Yes Yes Yes Bitbucket Cloud Yes Yes No No No No Bitbucket Server Yes Yes No No No No <p>Check out the roles and permission mapping from the Git providers.</p>"}, {"location": "organizations/what-are-organizations/#deleting-an-organization", "title": "Deleting an organization", "text": "<p>Deleting an organization on Codacy completely removes the configurations and all data related to the organization and its repositories from Codacy. This operation doesn't make any changes on your Git provider.</p> <p>To delete an organization, open the Profile page and click the button Delete organization.</p> <p></p> <p>Note</p> <p>If you're using Codacy Cloud we'll ask for your feedback on why you're deleting your organization.</p>"}, {"location": "organizations/what-are-organizations/#see-also", "title": "See also", "text": "<ul> <li>How does Codacy support GitLab Cloud?</li> <li>How does Codacy support GitLab Enterprise?</li> <li>How does Codacy support Bitbucket Cloud?</li> <li>How does Codacy support Bitbucket Server?</li> </ul>"}, {"location": "organizations/integrations/default-git-provider-integration-settings/", "title": "Default Git provider integration settings", "text": "<p>You can configure the default settings that Codacy uses to integrate with your Git provider when you add a new repository to Codacy. This enables you to apply the same settings across your organization repositories.</p> <p>To configure these default settings, open your organization Integrations page and select your Git provider.</p> <p></p> <p>The organization-level Git provider integration settings define the defaults that Codacy applies to new repositories. You can then customize the settings for each individual repository, which depend on your Git provider, GitHub, GitLab or Bitbucket.</p>"}, {"location": "organizations/integrations/default-git-provider-integration-settings/#apply-all", "title": "Applying default settings to all repositories", "text": "<p>To ensure that all your repositories are configured with the default Git provider integration settings defined for your organization, click the button Apply default to all repositories.</p> <p></p>"}, {"location": "organizations/integrations/default-git-provider-integration-settings/#see-also", "title": "See also", "text": "<ul> <li>Integrating Codacy with your Git workflow</li> </ul>"}, {"location": "organizations/integrations/jira-integration/", "title": "Organization Jira integration for Security and risk management", "text": "<p>This integration is only available for Jira Cloud</p> <p>Integrate Jira with Security and risk management to import your Jira issues and manage them all in one place as security items.</p>"}, {"location": "organizations/integrations/jira-integration/#installing-the-jira-integration", "title": "Installing the Jira integration", "text": "<p>To install the Jira integration:</p> <ol> <li> <p>On Jira, add the label security (case-insensitive) to the issues you wish to import and confirm that they use the right Jira priorities to correctly map to item severities.</p> <p>Tip</p> <p>Add the security label as a default to all new Jira issues that track security-related work in your organization.</p> </li> <li> <p>Open your organization Integrations, page Jira, and click Install Jira to proceed to Atlassian's website.</p> <p>Note</p> <p>Use a Jira account with admin permissions when installing this integration. This lets Codacy access all issues, since the integration inherits the permissions of the account that installs it.</p> <p></p> </li> <li> <p>On Atlassian's website, authorize Codacy. Once successful, you're redirected back to Codacy.</p> </li> </ol> <p>After installing, Codacy imports all open Jira issues labeled security and created up to 90 days before the integration and then retrieves updates from Jira once a day.</p> <p>For more information on how this integration works, see how Codacy manages security items and how Codacy assigns security item severities.</p>"}, {"location": "organizations/integrations/jira-integration/#uninstalling-the-jira-integration", "title": "Uninstalling the Jira integration", "text": "<p>To uninstall the Jira integration, open your organization Integrations, page Jira, then click Uninstall Jira and confirm.</p> <p>Important</p> <p>Uninstalling the Jira integration as described above deletes all associated open items. You can alternatively uninstall the Jira integration on the Jira website: this doesn't delete anything, but it prevents Codacy from opening new Jira-related items.</p>"}, {"location": "organizations/integrations/slack-integration/", "title": "Organization Slack integration for Security issues", "text": "<p>The organization Slack integration for Security issues sends notifications to a Slack channel of your choice whenever Codacy detects new critical Security issues in the default branch of any repository in your organization.</p>"}, {"location": "organizations/integrations/slack-integration/#installing-the-slack-integration", "title": "Installing the Slack integration", "text": "<p>To install the Slack integration:</p> <ol> <li> <p>On Slack:</p> <ol> <li> <p>Access the Incoming WebHooks page on the App Directory of your Slack account.</p> </li> <li> <p>Select the channel where you want to receive notifications and click Add Incoming WebHooks Integration.</p> </li> <li> <p>Copy the Incoming WebHook URL (it starts with <code>https://hooks.slack.com/services/</code>).</p> </li> </ol> </li> <li> <p>On Codacy:</p> <ol> <li> <p>Open your organization Integrations, page Slack.</p> </li> <li> <p>Paste the Incoming WebHook URL in the field and click Install Slack.</p> </li> </ol> <p></p> </li> </ol> <p>Once the Slack integration is installed, Codacy sends a confirmation message to the Slack channel you configured when creating the Incoming WebHook. From there on, Codacy notifies you on the same channel whenever a new critical Security issue is detected in the default branch of any repository in your organization.</p> <p></p>"}, {"location": "organizations/integrations/slack-integration/#uninstalling-the-slack-integration", "title": "Uninstalling the Slack integration", "text": "<p>To uninstall the Slack integration, open your organization Integrations, page Slack, then click Uninstall Slack and confirm.</p>"}, {"location": "release-notes/", "title": "Codacy release notes", "text": "<p>This section contains the release notes for Codacy Cloud and Codacy Self-hosted.</p> <p>For product updates that are in progress or planned visit the Codacy public roadmap instead.</p> <p>Tip</p> <p>Subscribe to this  RSS feed using your favorite news aggregator to receive notifications when there are new Codacy release notes.</p>"}, {"location": "release-notes/#cloud", "title": "Codacy Cloud release notes", "text": "<p>2024</p> <ul> <li>Cloud August 2024</li> <li>Cloud July 2024</li> <li>Cloud June 2024</li> <li>Cloud May 2024</li> <li>Cloud April 2024</li> <li>Cloud March 2024</li> <li>Cloud February 2024</li> <li>Cloud January 2024</li> <li>Discontinuation of SSH keys for GitHub repositories January 15, 2024</li> </ul> <p>2023</p> <ul> <li>Cloud December 2023</li> <li>Cloud November 2023</li> <li>Rollout of new Coverage engine November 23, 2023</li> <li>Removal of Jira, Slack, and Webhooks repository integrations November 13, 2023</li> <li>Cloud October 2023</li> <li>Deprecation of CSSLint, JSHint, Faux Pas, Tailor, TSLint October 25, 2023</li> <li>Deprecation of bundler-audit October 13, 2023</li> <li>Cloud September 2023</li> <li>Cloud August 2023</li> <li>Cloud July 2023</li> <li>Cloud June 2023</li> <li>Cloud May 2023</li> <li>Cloud April 2023</li> <li>Cloud March 2023</li> <li>Cloud February 2023</li> <li>Cloud January 2023</li> </ul> <p>2022</p> <ul> <li>Cloud December 2022</li> <li>Cloud November 2022</li> <li>Cloud October 2022</li> <li>Cloud September 2022</li> <li>Cloud August 2022</li> <li>Cloud July 2022</li> <li>Cloud June 2022</li> <li>Cloud May 2022</li> <li>Cloud April 2022</li> <li>Cloud March 2022</li> <li>Adding ESLint 8 as a supported tool March 31, 2022</li> <li>Cloud February 2022</li> <li>Removal of PMD (Legacy) February 16, 2022</li> <li>Cloud January 2022</li> </ul> <p>2021</p> <ul> <li>Cloud December 2021</li> <li>Cloud November 2021</li> <li>Cloud October 2021</li> <li>Cloud September 2021</li> <li>End of support for legacy manual organizations November 2, 2021</li> <li>Cloud August 2021</li> <li>Performing scheduled database maintenance July 3, 2021</li> </ul> <p>2020</p> <ul> <li>Deprecating HTTP headers for API tokens April 1, 2020</li> <li>Removal of NodeSecurity, GoLint, and SCSS Lint March 9, 2020</li> <li>Codacy now supports GitHub Apps February 2, 2020</li> </ul> <p>2019</p> <ul> <li>Cloud November 15, 2019</li> <li>Cloud October 30, 2019</li> <li>Cloud September 5, 2019</li> <li>Cloud August 7, 2019</li> <li>Cloud June 18, 2019</li> <li>Cloud May 20, 2019</li> <li>Cloud May 5, 2019</li> <li>Cloud April 8, 2019</li> <li>Cloud March 29, 2019</li> <li>Bitbucket changes February 18, 2019</li> <li>Cloud January 2, 2019</li> </ul> <p>2018</p> <ul> <li>Cloud November 16, 2018</li> <li>Cloud November 2, 2018</li> <li>Cloud October 19, 2018</li> <li>Cloud July 23, 2018</li> </ul>"}, {"location": "release-notes/#self-hosted", "title": "Codacy Self-hosted release notes", "text": "<p>v14</p> <ul> <li>v14.0.0 (June 26, 2024)</li> </ul> <p>v13</p> <ul> <li>v13.0.0 (November 23, 2023)</li> </ul> <p>v12</p> <ul> <li>v12.0.0 (July 20, 2023)</li> </ul> <p>v11</p> <ul> <li>v11.0.0 (April 20, 2023)</li> </ul> <p>v10</p> <ul> <li>v10.0.0 (February 3, 2023)</li> </ul> <p>v9</p> <ul> <li>v9.0.0 (September 23, 2022)</li> </ul> <p>v8</p> <ul> <li>v8.1.0 (June 17, 2022)</li> <li>v8.0.0 (May 12, 2022)</li> </ul> <p>v7</p> <ul> <li>v7.0.0 (April 4, 2022)</li> </ul> <p>v6</p> <ul> <li>v6.0.0 (March 2, 2022)</li> </ul> <p>v5</p> <ul> <li>v5.1.0 (January 6, 2022)</li> <li>v5.0.0 (December 17, 2021)</li> </ul> <p>v4</p> <ul> <li>v4.4.0 (October 12, 2021)</li> <li>v4.3.0 (September 16, 2021)</li> <li>v4.2.0 (August 31, 2021)</li> <li>v4.1.0 (July 6, 2021)</li> <li>v4.0.1 (June 2, 2021)</li> <li>v4.0.0 (May 18, 2021)</li> </ul> <p>v3</p> <ul> <li>v3.5.1 (June 1, 2021)</li> <li>v3.5.0 (March 31, 2021)</li> <li>v3.4.0 (March 12, 2021)</li> <li>v3.3.0 (February 12, 2021)</li> <li>v3.2.0 (December 17, 2020)</li> <li>v3.1.0 (December 10, 2020)</li> <li>v3.0.0 (November 2, 2020)</li> </ul> <p>v2</p> <ul> <li>v2.2.1 (October 22, 2020)</li> <li>v2.2.0 (October 8, 2020)</li> <li>v2.1.1 (September 24, 2020)</li> <li>v2.1.0 (September 16, 2020)</li> <li>v2.0.0 (August 18, 2020)</li> </ul> <p>v1</p> <ul> <li>v1.5.0 (July 20, 2020)</li> <li>v1.4.0 (June 23, 2020)</li> <li>v1.3.0 (June 12, 2020)</li> <li>v1.2.0 (June 4, 2020)</li> <li>v1.1.0 (May 26, 2020)</li> <li>v1.0.1 (May 21, 2020)</li> <li>v1.0.0 (May 18, 2020)</li> </ul>"}, {"location": "repositories/commits/", "title": "Quality Commits page", "text": "<p>The Quality Commits page displays an overview of the commits in your repository, such as the analysis status and the code quality metrics for each commit. This allows you to monitor the evolution of the code quality per commit in your repository.</p> <p>By default, the page lists the commits on the main branch of your repository, but if you have more than one branch enabled you can use the drop-down list at the top of the page to display commits on other branches.</p> <p></p> <p>Click a specific commit to see detailed information about the code quality changes introduced by that commit.</p> <p></p> <p>The next sections describe each area of the commit detail page.</p>"}, {"location": "repositories/commits/#status", "title": "Commit status", "text": "<p>This area displays the information that identifies the commit (commit message, committer, SHA hash, and last updated date), as well as:</p> <ul> <li>A link to the commit on your Git provider</li> <li>A link to reanalyze the commit, present when the committer is part of your organization</li> <li>A link to view analysis logs</li> </ul>"}, {"location": "repositories/commits/#quality-overview", "title": "Commit quality overview", "text": "<p>This area displays the quality gate status for the commit and the code quality metrics with a gate set up:</p> <ul> <li> <p>The quality gate status is either Up to quality standards or Not up to quality standards depending on the quality gate rules for your repository.</p> <p>If there are no gate rules enabled for commits, the status is always Up to quality standards.</p> </li> <li> <p>The variation introduced by the commit is displayed either as a positive or negative variation, or no variation (represented by <code>=</code>) for code quality metrics with a gate set up:</p> <ul> <li>Issues: Number of new issues</li> <li>Duplication: Changes in the number of duplicated code blocks</li> <li> <p>Complexity: Changes in code complexity</p> </li> <li> <p>Coverage variation: Changes in code coverage percentage compared with the parent commit</p> </li> </ul> <p>Depending on the languages being analyzed or if you haven't set up coverage for your repository, some metrics may not be calculated (represented by <code>-</code>).</p> <p>Note</p> <p>Learn how Codacy calculates the code quality metrics in more detail:</p> <ul> <li>Which code quality metrics does Codacy calculate?</li> <li>Why does Codacy show unexpected coverage changes?</li> </ul> </li> <li> <p>The colors depend on the quality gate rules for your repository:</p> <ul> <li>Green: The metric passes the quality gate</li> <li>Red: The metric fails the quality gate</li> <li>Gray: The metric has no value</li> </ul> <p>Note</p> <p>If you change the quality gate rules you must reanalyze the commit to update the metrics and optionally re-upload the Coverage report if you also changed the coverage gate rules.</p> </li> </ul>"}, {"location": "repositories/commits/#issues-tabs", "title": "Issues tab", "text": "<p>The Issues tab displays the lists of issues that the commit creates or fixes. Use the sidebar filters to filter the list by new issues (including issues of specific severity or category), issues within a specific file, fixed issues, potential new issues, or potential fixed issues.</p> <p>Click the title of an issue card to expand it and see the following information:</p> <ul> <li>The committer and date of the commit that introduced the issue, if available</li> <li>The estimated time to fix the issue</li> <li>What the issue is and how to solve it</li> <li>The tool that reported the issue and the related code pattern</li> </ul> <p>To ignore or manage an issue, click the associated options in the menu.</p> <p></p>"}, {"location": "repositories/commits/#possible-issues", "title": "Potential issues", "text": "<p>Codacy may label some issues as potential, which means that the code analysis detected these issues in lines of code that weren't changed by the analyzed commit. This highlights potential consequences in other parts of your codebase.</p> <p>The following are example situations that can lead to potential issues:</p> <ul> <li> <p>The issue was either created or fixed in the current commit, but the static code analysis tools reported the issue on a line that didn't change in the commit. For example, if you remove the line containing the declaration of a variable you may get an \"undeclared variable\" issue in other lines that use that variable.</p> </li> <li> <p>If a file had more than 50 issues reported by the same tool and you push a new commit that fixes some of these issues, Codacy will report more issues until the limit of 50 issues. These issues will be potential issues if they're outside the lines of code changed in the new commit.</p> </li> </ul> <p>Note</p> <p>If you're using GitHub you may see annotations for potential issues reported under Unchanged files with check annotations on the Files changed tab of your pull requests.</p> <p>This happens when Codacy reports potential issues in files that weren't changed in your pull request. Read more about this GitHub feature.</p>"}, {"location": "repositories/commits/#duplication-tabs", "title": "Duplication tab", "text": "<p>The Duplication tab displays the lists of clones (duplicated code blocks) that the commit adds or fixes. You can click a clone to expand it and inspect the code.</p> <p></p>"}, {"location": "repositories/commits/#complexity-tab", "title": "Complexity tab", "text": "<p>The Complexity tab displays the complexity changes introduced by the commit. Use the sidebar filters to filter the list by high increase (4 or more), low increase (1 to 3), or improvement (less than 0).</p> <p>Note</p> <p>When calculating the complexity variation introduced by a commit, Codacy only considers files with a high increase in complexity. For more information, see how Codacy calculates cyclomatic complexity.</p> <p></p>"}, {"location": "repositories/commits/#diff-tab", "title": "Diff tab", "text": "<p>The Diff tab displays the code changes and issues introduced by the commit. It includes the following areas:</p> <ul> <li> <p>A list of files modified by the commit, with additional information for each file:</p> <ul> <li>A green plus icon if the file is added or a yellow dot icon if it's modified by the commit</li> <li>The number of new issues introduced by the commit</li> </ul> </li> <li> <p>A diff viewer showing for each modified file the diff coverage and a comparison of the old and new file content. </p> <p>Lines with issues are highlighted according to issue severity and include a pill label with the issue type and count. Hover over the pill label to view more details or navigate to the issues.</p> </li> </ul> <p></p>"}, {"location": "repositories/commits/#files-tab", "title": "Files tab", "text": "<p>The Files tab displays the variation of the following code quality metrics that the commit introduces to the files in your repository, displayed either as a positive or negative variation, or no variation (represented by <code>=</code>):</p> <ul> <li>New issues: Number of new issues</li> <li>Duplication: Changes in the number of duplicated code blocks</li> <li>Complexity: Changes in code complexity</li> <li>Coverage variation: Changes in code coverage percentage compared with the parent commit</li> </ul> <p>Depending on the languages being analyzed or if you haven't set up coverage for your repository, some metrics may not be calculated (represented by <code>-</code>).</p> <p></p>"}, {"location": "repositories/commits/#viewing-analysis-logs", "title": "Viewing analysis logs", "text": "<p>Analysis logs can help you identify the duration of each analysis phase and any potential issues.</p> <p>To access the analysis logs, click the View logs link in the commit status area. This opens a modal displaying execution times and outcomes for the tools used to analyze the commit.</p> <p></p>"}, {"location": "repositories/commits/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "repositories/coverage/", "title": "Quality Coverage page", "text": "<p>The Quality Coverage page displays the current code coverage information in your enabled repository branches.</p> <p>If your repository doesn't have coverage set up, you can learn more on how to add coverage to your repository.</p> <p>By default, the page displays the coverage information on the main branch of your repository. However, if you have more than one branch enabled, you can select other branches using the drop-down list at the top of the page.</p>"}, {"location": "repositories/coverage/#code-coverage-metrics", "title": "Code coverage metrics", "text": "<p>Codacy displays the following code coverage metrics, if available:</p> <ul> <li>Coverage percentage: Percentage of code covered</li> <li>Covered / Coverable lines: Number of covered and coverable lines</li> <li>Files above coverage goal: Number of files that contain a coverage percentage above the repository's goal</li> <li>Files below coverage goal: Number of files that contain a coverage percentage below the repository's goal</li> </ul> <p>If the repository doesn't have a coverage goal set, the code coverage metrics won't show values for Files above and below coverage goals.</p> <p>Note</p> <p>You can set a Coverage goal for the repository inside repository settings, on the Goals tab.</p> <p></p>"}, {"location": "repositories/coverage/#open-pull-requests", "title": "Open pull requests", "text": "<p>The Open pull requests area displays the last updated pull requests and the split between the status of all open pull requests in your repository:</p> <ul> <li>Up to standards: Pull requests that meet the minimum quality levels</li> <li>Not up to standards: Pull requests that failed to meet at least one of the quality gate rules defined for the repository</li> <li>Analyzing: Pull requests currently being analyzed by Codacy</li> </ul> <p>Click a bar segment to display only pull requests with the corresponding status.</p> <p>To see the details of pull requests, click a pull request from the list or click See all pull requests to open the list of pull requests in the repository.</p> <p></p>"}, {"location": "repositories/coverage/#files-with-low-coverage-issues-andor-high-complexity", "title": "Files with low coverage, issues and/or high complexity", "text": "<p>For a better understanding of how repository files are performing in terms of issues, high complexity and coverage simultaneously, Codacy displays two files tables where it's possible to check which files contain a low coverage percentage, along with a high number of issues and/or a high complexity rate.</p> <p></p>"}, {"location": "repositories/coverage/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Using the Codacy API to obtain code quality metrics for files</li> </ul>"}, {"location": "repositories/files/", "title": "Quality Files page", "text": "<p>The Quality Files page displays the current code quality information for each analyzed file in your enabled repository branches.</p> <p>By default, the page lists the files on the main branch of your repository. However, if you have more than one branch enabled, you can select other branches using the drop-down list at the top of the page.</p> <p>Codacy displays the following code quality metrics for each file, if available:</p> <ul> <li>Grade: Overall grade of the file</li> <li>Issues: Number of issues in the file</li> <li>Complexity: Cyclomatic complexity of the file</li> <li>Duplication: Number of duplicated code blocks in the file</li> <li>Coverage: Percentage of coverable source lines of code that are covered by tests</li> </ul> <p>Codacy displays the files in alphabetical order by default, but you can sort the list by each column to help you identify which files you should improve or refactor next.</p> <p>Note</p> <p>You can use the Codacy API to generate reports or obtain code quality metrics for the files in your repositories in a more flexible way.</p> <p></p> <p>Use the search box to filter the list and find specific files:</p> <p></p>"}, {"location": "repositories/files/#file-details", "title": "File details", "text": "<p>Click a specific file to see more detailed analysis information for that file.</p> <p>The header of the file detail page displays the same code quality metrics as the Files page, as well as:</p> <ul> <li>An Ignore file link to ignore the selected file on future Codacy analysis</li> <li>A link to view the file on your Git provider</li> </ul> <p></p> <p>Depending on the available analysis information for the file, Codacy displays one or more of the following tabs:</p> <ul> <li> <p>Issues: Shows the annotated source code on the left-hand side and the matching list of issues and issue distribution by severity on the right-hand side. Each listed issue includes the same information and options available on the Quality Issues page.</p> <p></p> </li> <li> <p>Duplication: Shows the annotated source code on the left-hand side and the matching list of duplicated code blocks and counts on the right-hand side. Each listed duplicate includes the number of clones and their locations.</p> <p></p> </li> <li> <p>Coverage: Shows which lines of code are covered by tests (green background labeled with test hit count) or not covered (red background), along with the counts of coverable and covered lines and the file status with respect to the coverage goal.</p> <p></p> </li> </ul>"}, {"location": "repositories/files/#missing-files", "title": "Why are some files missing?", "text": "<p>The Files page only displays files in your repository that were analyzed by Codacy. This means that some of your files may be missing from the list, for example:</p> <ul> <li> <p>You're viewing the incorrect branch</p> <p>Not all files may exist in all branches of your repositories. Make sure that you're displaying files for the correct branch.</p> </li> <li> <p>The file might be ignored</p> <p>The Files page doesn't display ignored files that aren't meant to be analyzed, including the files that Codacy ignores by default.</p> </li> <li> <p>The file has an extension that is not on the list of supported extensions</p> <p>Codacy supports a list of file extensions associated with each language. Codacy doesn't analyze or display files with extensions that aren't associated with a language.</p> </li> <li> <p>The file might be too big</p> <p>Codacy doesn't analyze or display files that are over a certain size. Read more details for information on how to overcome this limit.</p> </li> </ul>"}, {"location": "repositories/files/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Using the Codacy API to obtain code quality metrics for files</li> </ul>"}, {"location": "repositories/issues/", "title": "Quality Issues page", "text": "<p>The Quality Issues page lists all the issues that Codacy detected in your repository, including the severity level and category of each issue.</p> <p>By default, the page lists the issues on the main branch of your repository but if you have more than one branch enabled you can use the drop-down list at the top of the page to display issues on other branches.</p> <p>Note</p> <p>You can use the Codacy API to generate reports or obtain information about the current issues in your repositories in a more flexible way.</p> <p></p> <p>Click the title of an issue card to expand it and see the following information:</p> <ul> <li>The committer and date of the commit that introduced the issue, if available</li> <li>The estimated time to fix the issue</li> <li>What the issue is and how to solve it</li> <li>The tool that reported the issue and the related code pattern</li> </ul> <p></p>"}, {"location": "repositories/issues/#filtering-issues", "title": "Filtering issues", "text": "<p>Filter the list of issues to find specific issues, such as the issues with the highest severity or security issues.</p> <p>The list of code patterns with issues is always visible on the left side of the page. Click a code pattern to filter the list of issues by that pattern.</p> <p></p> <p>You can moreover define one or more of the following filters:</p> <ul> <li> <p>Language: Programming language of the file where the issues were detected</p> </li> <li> <p>Severity level: Potential impact of the issues:</p> <ul> <li>Critical (red): The most dangerous issues that you should prioritize fixing since they identify code that's susceptible to serious problems regarding security and compatibility</li> <li>Medium (yellow): You should check out these issues, as they're based on coding standards and conventions</li> <li>Minor (blue): The least critical issues, such as most code style issues</li> </ul> </li> <li> <p>Issue category: One of the following types of issue:</p> <ul> <li>Code style: Code formatting and syntax problems, such as variable names style and enforcing the use of brackets and quotation marks</li> <li>Error prone: Code that may hide bugs and language keywords that should be used with caution, such as the operator <code>==</code> in JavaScript or <code>Option.get</code> in Scala</li> <li>Code complexity: High complexity methods and classes that should be refactored</li> <li>Performance: Code that can have performance problems</li> <li>Compatibility: Mainly for frontend code, compatibility problems across different browser versions</li> <li>Unused code: Unused variables and methods, code that can't be reached</li> <li>Security: Potential security vulnerabilities, including hard-coded passwords and keys (secret scanning), vulnerable dependencies (software composition analysis or SCA), and insecure code patterns (static application security testing or SAST). For more information, see the complete list of security issue categories</li> <li>Documentation: Methods and classes that don't have the correct comment annotations</li> <li>Best practice: Code that doesn't follow the recommended coding standards and best practices</li> <li>Comprehensibility: Code that can be difficult to understand and modify</li> </ul> </li> <li> <p>Author: Commit author that introduced the issue on the code</p> </li> </ul> <p>Note</p> <p>Each code pattern has a pre-defined severity level and at the moment Codacy doesn't support customizing that information.</p>"}, {"location": "repositories/issues/#ignoring-and-managing-issues", "title": "Ignoring and managing issues", "text": "<p>Organization admins can manage access to this feature</p> <p>Use the options in the menu of each issue to:</p> <ul> <li> <p>Ignore the issue and hide it from the list.</p> <p>Codacy will no longer report the issue after the next analysis of your repository. For example, you can ignore issues that you disagree with because:</p> <ul> <li>Your team won't tackle the issues in the immediate future</li> <li>The issue isn't relevant in the specific context of your code</li> <li>The issue is a false positive</li> </ul> <p>See how to restore ignored issues.</p> <p>Tip</p> <p>Organization admins can configure who is allowed to ignore issues.</p> </li> <li> <p>Disable the code pattern that detected the issue.</p> <p>Codacy will stop using that pattern after the next analysis of your repository, so be sure that you're no longer interested in identifying similar issues. To re-enable patterns use the Code patterns page.</p> <p>Note</p> <ul> <li>If you're using a custom configuration file, you must manage patterns manually on your configuration file.</li> <li>If your repository is following an organization coding standard, disabling the code pattern causes the repository to stop following the coding standard. In this case, Codacy asks for your confirmation before accepting the changes and then copies the coding standard configurations to your repository, so you can customize them.</li> </ul> </li> <li> <p>View the file where the issue was detected.</p> </li> <li> <p>Ignore the file where the issue was detected.</p> <p>Codacy will no longer analyze that file on your repository, so be sure that you're no longer interested in identifying any type of issues on that file. To remove an ignored file use the Ignored Files tab in your repository settings.</p> </li> </ul> <p></p>"}, {"location": "repositories/issues/#restoring-ignored-issues", "title": "Restoring ignored issues", "text": "<p>To see the list of ignored issues, click the Ignored tab.</p> <p>To restore an ignored issue, select Unignore issue from the options menu:</p> <p></p>"}, {"location": "repositories/issues/#fixing-issues-automatically", "title": "Fixing issues automatically", "text": "<p>This section applies to GitHub repositories only</p> <p>If Codacy detects code patterns with suggested fixes, a Fix issues button appears above the issue list.</p> <p></p> <p>In this case, Codacy generates a patch that enables you to solve all resolvable issues. To apply this patch to the default branch, do the following:</p> <ol> <li> <p>Click the button Fix issues to open a modal with a patch that addresses all resolvable issues.</p> <p></p> </li> <li> <p>Copy the patch content to the clipboard.</p> </li> <li>Create a new branch from the default branch.</li> <li> <p>Apply the patch from the repository's root directory, for example with the <code>pbpaste | patch</code> command.  </p> <p>Note</p> <p>These changes are automatically generated. Review them to make sure they're correct.</p> </li> <li> <p>Push the new branch to the repository.</p> </li> <li>On GitHub, create a pull request from the new branch to the default branch.</li> </ol>"}, {"location": "repositories/issues/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Using the Codacy API to obtain current issues in repositories</li> </ul>"}, {"location": "repositories/pull-requests/", "title": "Quality Pull Requests page", "text": "<p>The Quality Pull Requests page displays an overview of the pull requests in your repository, such as the analysis status and the code quality metrics for each pull request. This allows you to monitor the code quality of the work in progress in your repository.</p> <p>By default, the page lists open pull requests, but you can click the Closed tab at the top of the list to display the closed pull requests.</p> <p></p> <p>Click a specific pull request to see detailed information about the code quality changes introduced by that pull request.</p> <p></p> <p>The next sections describe each area of the pull request detail page.</p>"}, {"location": "repositories/pull-requests/#status", "title": "Pull request status", "text": "<p>This area displays the information that identifies the pull request (name, author, head and base branches, and last updated date), as well as:</p> <ul> <li>A link to the pull request on your Git provider</li> <li>A link to reanalyze the latest pull request commit, present when the committer is part of your organization</li> <li>A link to view analysis logs</li> </ul> <p></p>"}, {"location": "repositories/pull-requests/#quality-overview", "title": "Pull request quality overview", "text": "<p>This area displays the quality gate status for the pull request and the code quality metrics with a gate set up:</p> <ul> <li> <p>The quality gate status is either Up to quality standards or Not up to quality standards depending on the quality gate rules for your repository.</p> <p>If there are no gate rules enabled for pull requests, the status is always Up to quality standards.</p> </li> <li> <p>The variation introduced by the pull request is displayed either as a positive or negative variation, no variation (represented by <code>=</code>), or not applicable (represented by <code>\u2205</code>) for code quality metrics with a gate set up:</p> <ul> <li>Issues: Number of new issues</li> <li>Duplication: Changes in the number of duplicated code blocks</li> <li> <p>Complexity: Changes in code complexity</p> </li> <li> <p>Diff coverage: Code coverage of the coverable lines affected by the pull request, or <code>\u2205</code> (not applicable) if there are no coverable lines</p> </li> <li>Coverage variation: Changes in code coverage percentage compared with the target branch</li> </ul> <p>Depending on the languages being analyzed or if you haven't set up coverage for your repository, some metrics may not be calculated (represented by <code>-</code>).</p> <p>Note</p> <p>Learn how Codacy calculates the code quality metrics in more detail:</p> <ul> <li>Which code quality metrics does Codacy calculate?</li> <li>Why does Codacy show unexpected coverage changes?</li> </ul> </li> <li> <p>The colors depend on the quality gate rules for your repository:</p> <ul> <li>Green: The metric passes the quality gate</li> <li>Red: The metric fails the quality gate</li> <li>Gray: The metric has no value</li> </ul> <p>Note</p> <p>If you change the quality gate rules you must reanalyze the pull request to update the metrics and optionally re-upload the Coverage report if you also changed the coverage gate rules.</p> </li> </ul>"}, {"location": "repositories/pull-requests/#issues-tabs", "title": "Issues tab", "text": "<p>The Issues tab displays the lists of issues that the pull request creates or fixes. Use the sidebar filters to filter the list by new issues (including issues of specific severity or category), issues within a specific file, fixed issues, potential new issues, or potential fixed issues.</p> <p>Click the title of an issue card to expand it and see the following information:</p> <ul> <li>The committer and date of the commit that introduced the issue, if available</li> <li>The estimated time to fix the issue</li> <li>What the issue is and how to solve it</li> <li>The tool that reported the issue and the related code pattern</li> </ul> <p>To ignore or manage an issue, click the associated options in the menu.</p> <p></p>"}, {"location": "repositories/pull-requests/#possible-issues", "title": "Potential issues", "text": "<p>Codacy may label some issues as potential, which means that the code analysis detected these issues in lines of code that weren't changed by the analyzed pull request. This highlights potential consequences in other parts of your codebase.</p> <p>The following are example situations that can lead to potential issues:</p> <ul> <li> <p>The issue was either created or fixed in the current pull request, but the static code analysis tools reported the issue on a line that didn't change in the pull request. For example, if you remove the line containing the declaration of a variable you may get an \"undeclared variable\" issue in other lines that use that variable.</p> </li> <li> <p>If a file had more than 50 issues reported by the same tool and you push a new commit that fixes some of these issues, Codacy will report more issues until the limit of 50 issues. These issues will be potential issues if they're outside the lines of code changed in the new commit.</p> </li> </ul> <p>Note</p> <p>If you're using GitHub you may see annotations for potential issues reported under Unchanged files with check annotations on the Files changed tab of your pull requests.</p> <p>This happens when Codacy reports potential issues in files that weren't changed in your pull request. Read more about this GitHub feature.</p>"}, {"location": "repositories/pull-requests/#duplication-tabs", "title": "Duplication tab", "text": "<p>The Duplication tab displays the lists of clones (duplicated code blocks) that the pull request adds or fixes. You can click a clone to expand it and inspect the code.</p> <p></p>"}, {"location": "repositories/pull-requests/#complexity-tab", "title": "Complexity tab", "text": "<p>The Complexity tab displays the complexity changes introduced by the pull request. Use the sidebar filters to filter the list by high increase (4 or more), low increase (1 to 3), or improvement (less than 0).</p> <p>Note</p> <p>When calculating the complexity variation introduced by a pull request, Codacy only considers files with a high increase in complexity. For more information, see how Codacy calculates cyclomatic complexity.</p> <p></p>"}, {"location": "repositories/pull-requests/#diff-tab", "title": "Diff tab", "text": "<p>The Diff tab displays the code changes and issues introduced by the pull request. It includes the following areas:</p> <ul> <li> <p>A list of files modified by the pull request, with additional information for each file:</p> <ul> <li>A green plus icon if the file is added or a yellow dot icon if it's modified by the pull request</li> <li>The number of new issues introduced by the pull request</li> </ul> </li> <li> <p>A diff viewer showing for each modified file the diff coverage and a comparison of the old and new file content. </p> <p>Lines with issues are highlighted according to issue severity and include a pill label with the issue type and count. Hover over the pill label to view more details or navigate to the issues.</p> </li> </ul> <p></p>"}, {"location": "repositories/pull-requests/#files-tab", "title": "Files tab", "text": "<p>The Files tab displays the variation of the following code quality metrics that the pull request introduces to the files in your repository, displayed either as a positive or negative variation, or no variation (represented by <code>=</code>):</p> <ul> <li>New issues: Number of new issues</li> <li>Duplication: Changes in the number of duplicated code blocks</li> <li>Complexity: Changes in code complexity</li> <li>Coverage variation: Changes in code coverage percentage compared with the target branch</li> </ul> <p>Depending on the languages being analyzed or if you haven't set up coverage for your repository, some metrics may not be calculated (represented by <code>-</code>).</p> <p></p>"}, {"location": "repositories/pull-requests/#commits-tab", "title": "Commits tab", "text": "<p>The Commits tab displays an overview of each commit included in the pull request, such as the analysis status and the number of issues introduced.</p> <p>Click a specific commit to see detailed information about that commit.</p> <p></p>"}, {"location": "repositories/pull-requests/#viewing-analysis-logs", "title": "Viewing analysis logs", "text": "<p>Analysis logs can help you track and understand the performance of the tools and the timing of analyses on your pull requests.</p> <p>To access these logs, click the View logs link in the pull request status area. This opens a modal with two tabs:</p> <ul> <li>The Quality tab displays execution times and outcomes for the tools used to analyze the latest commit of the pull request. It helps identify the duration of each analysis phase and any potential issues.</li> <li>The Coverage tab lists reports received for the common ancestor commit and the head commit of the pull request. It helps you spot any issues with the coverage analysis, such as missing coverage reports.</li> </ul> <p></p>"}, {"location": "repositories/pull-requests/#fixing-issues-automatically", "title": "Fixing issues automatically", "text": "<p>This section applies to GitHub repositories only</p> <p>If Codacy detects code patterns with suggested fixes, a Fix issues button appears above the issue list.</p> <p></p> <p>In this case, Codacy generates a patch that enables you to solve all resolvable issues. To apply this patch to the pull request, do the following:</p> <ol> <li> <p>Click the button Fix issues to open a modal with a patch that addresses all resolvable issues.</p> <p></p> </li> <li> <p>Copy the patch content to the clipboard.</p> </li> <li>Check out the relevant branch in the local repository.</li> <li> <p>Apply the patch from the repository's root directory, for example with the <code>pbpaste | patch</code> command.</p> <p>Note</p> <p>These changes are automatically generated. Review them to make sure they're correct.</p> </li> <li> <p>Push the changes to the repository.</p> </li> </ol>"}, {"location": "repositories/pull-requests/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "repositories/repository-dashboard/", "title": "Quality Repository Dashboard", "text": "<p>The Quality Repository Dashboard provides an overview of the repository code quality and items that require your attention.</p> <p>To access your Repository Dashboard, select a repository from the Repositories list and select Dashboard on the left navigation sidebar.</p> <p>Tip</p> <p>You can share the URL of the Repository Dashboard for your public repositories to allow other people to see your repository code quality metrics, even if they aren't registered on Codacy.</p> <p></p> <p>The top of the Repository Dashboard displays:</p> <ul> <li>The name and code quality grade of the repository</li> <li>A drop-down list that selects which branch of your repository to display on the dashboard</li> </ul> <p>On the Repository Dashboard you have the following areas to help you monitor your repository:</p> <ul> <li>Quality evolution chart</li> <li>Issues breakdown</li> <li>Coverage</li> <li>Open pull requests</li> </ul> <p>The following sections provide a detailed overview of each dashboard area.</p> <p>Note</p> <p>You can use the Codacy API to generate reports or obtain information about the code quality of your repositories in a more flexible way.</p> <p>For more information see the list of available API endpoints and the following examples:</p> <ul> <li>Obtaining current issues in repositories</li> <li>Obtaining code quality metrics for files</li> </ul>"}, {"location": "repositories/repository-dashboard/#quality-evolution-chart", "title": "Quality evolution chart", "text": "<p>The Quality evolution chart displays the evolution of the repository code quality regarding issues, complex files, duplication, and code coverage. Click on Last 3 months, Last 31 days, or Last 7 days to select the time interval of the historical data to display on the chart.</p> <p>Each tab displays the following information for the corresponding metric:</p> <ul> <li>A green or red indicator depending if the metric is within the acceptable quality level or not</li> <li>The current value</li> <li>The variation of the value introduced by the last commit</li> </ul> <p>Note</p> <p>The coverage tab only displays a value if Codacy received coverage data for the most recent commit. This is because one commit can easily change the size or number of files on the repository, or even remove some files that had coverage information.</p> <p>The chart also displays the trendline based on the past behavior and the quality goals defined for the repository.</p> <p></p>"}, {"location": "repositories/repository-dashboard/#issues-breakdown", "title": "Issues breakdown", "text": "<p>The Issues breakdown area displays the total number of issues found on the selected branch, as well as the distribution of issues across each code quality issue category.</p> <p>Click See all issues to see the full list of issues found, or click a category to see the issues in that category.</p> <p>If Codacy detects code patterns that have suggested fixes, a Fix issues button appears below the total issue count. Click this button to open a modal with a patch that addresses all resolvable issues, and follow the same procedure outlined on the Quality Issues page.</p> <p></p>"}, {"location": "repositories/repository-dashboard/#coverage", "title": "Coverage", "text": "<p>The Coverage area displays the percentage of lines of code on the selected branch that are covered by tests versus the coverage goal defined in the quality settings of the repository, as well as the number of files:</p> <ul> <li>Without coverage</li> <li>With coverage not up to standards (based on the coverage goal)</li> <li>With coverage up to standards (based on the coverage goal)</li> </ul> <p>Click See all files to open the list of files in the repository.</p> <p>Tip</p> <p>If you don't have coverage set up for your repository yet, the Coverage area provides you with instructions on how to add coverage for your repository.</p> <p></p>"}, {"location": "repositories/repository-dashboard/#open-pull-requests", "title": "Open pull requests", "text": "<p>The Open pull requests area displays the last updated pull requests and the split between the status of all open pull requests in your repository:</p> <ul> <li>Up to standards: Pull requests that meet the minimum quality levels</li> <li>Not up to standards: Pull requests that failed to meet at least one of the quality gate rules defined for the repository</li> <li>Analyzing: Pull requests currently being analyzed by Codacy</li> </ul> <p>Click a bar segment to display only pull requests with the corresponding status.</p> <p>To see the details of pull requests, click a pull request from the list or click See all pull requests to open the list of pull requests in the repository.</p> <p></p>"}, {"location": "repositories/repository-dashboard/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Using the Codacy API to obtain current issues in repositories</li> <li>Using the Codacy API to obtain code quality metrics for files</li> </ul>"}, {"location": "repositories-configure/adjusting-quality-gates/", "title": "Adjusting quality gates", "text": "<p>The quality gates of your repository configure when Codacy reports your pull requests and commits as not up to standards.</p> <p>When you add your repository to Codacy, it automatically follows the default gate policy for your organization. If you want to set different quality gates for the repository, create a new organization gate policy to apply to the repository.</p> <p>Note</p> <p>Although you can define custom quality gate settings for specific repositories, we recommend that you always use a gate policy defined by your organization to enforce consistent rules across multiple repositories.</p> <p>Depending on the result of applying the quality gate rules, Codacy updates the color of the metrics on the pull request or commit quality overview and reports the corresponding pull request status on your Git provider, if enabled.</p> <p>Tip</p> <p>Integrate Codacy with your Git workflow to report the pull request status to your Git provider and optionally block merging pull requests that aren't up to standards.</p> <p>To access the quality gates, open your repository Settings, tab Gates.</p> <p></p> <ul> <li>New issues are over: Pull requests or commits are marked not up to standards if the number of issues introduced that have at least the specified severity level is higher than the set value.</li> <li>New security issues are over: Pull requests or commits are marked not up to standards if the number of security issues introduced is higher than the set value.</li> <li>Complexity is over: Pull requests or commits are marked not up to standards if the introduced complexity is higher than the set value.</li> <li>Duplication is over: Pull requests or commits are marked not up to standards if the number of clones introduced is higher than the set value.</li> <li> <p>Coverage variation is under: Pull requests or commits are marked not up to standards if they introduce a variation to coverage lower than the set value.</p> <p>Tip</p> <p>Set this gate to -0.10% or lower. This will ensure that developers have a coverage drop margin so they aren't blocked while performing some types of code refactors</p> <p>To ensure that the changes in each pull request have a minimum level of coverage, use the gate Diff coverage is under instead.</p> </li> <li> <p>Diff coverage is under: Pull requests are marked not up to standards if the diff coverage of the pull request is lower than the set value or <code>\u2205</code> (not applicable). This rule is only available for pull requests.</p> </li> </ul>"}, {"location": "repositories-configure/adjusting-quality-gates/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> <li>Why does Codacy show unexpected coverage changes?</li> <li>Integrating Codacy with your Git workflow</li> </ul>"}, {"location": "repositories-configure/adjusting-quality-goals/", "title": "Adjusting quality goals", "text": "<p>Adjust the quality goals to help you monitor the progress of the code quality in your repository dashboard, and configure which files Codacy considers complex or duplicated.</p> <p>Codacy displays the quality goals as dashed lines on the quality evolution chart to help you monitor the progress and overall quality status of your repository.</p> <p>To access the quality goals, open your repository Settings, tab Goals. The following screenshot displays the default configuration values:</p> <p></p> <ul> <li>Issues are over: Defines the threshold displayed on the tab Issues of the quality evolution chart.</li> <li>Complexity is over: Defines the threshold displayed on the tab Complexity of the quality evolution chart.</li> <li>File is complex when over: A file is considered complex when its complexity is over this value.</li> <li>Duplication is over: Defines the threshold displayed on the tab Duplication of the quality evolution chart.</li> <li>File is duplicate when over: A file is considered duplicated when it has more clones than this value.</li> <li>Coverage is under: Defines the threshold displayed on the tab Coverage of the quality evolution chart.</li> </ul>"}, {"location": "repositories-configure/adjusting-quality-goals/#see-also", "title": "See also", "text": "<ul> <li>Which metrics does Codacy calculate?</li> </ul>"}, {"location": "repositories-configure/codacy-configuration-file/", "title": "Codacy configuration file", "text": "<p>Codacy supports configuring certain advanced features through a configuration file, such as:</p> <ul> <li> <p>Ignoring files globally, for duplication, or a specific tool</p> </li> <li> <p>Including specific ignored files in the analysis</p> </li> <li> <p>Adjusting tool-specific configurations</p> </li> <li> <p>Configuring a specific repository directory on which to start the analysis</p> </li> <li> <p>Configuring the languages that Codacy analyzes in your repository:</p> <ul> <li>Adding custom file extensions to languages</li> <li>Disabling the analysis of a specific language</li> </ul> </li> </ul>"}, {"location": "repositories-configure/codacy-configuration-file/#using-a-codacy-configuration-file", "title": "Using a Codacy configuration file", "text": "<p>Important</p> <ul> <li>If your repository has a Codacy configuration file, the Ignored files settings defined on the Codacy UI don't apply and you must ignore files using the configuration file instead.</li> <li> <p>Codacy always uses the configuration file in the default branch. New settings added to the Codacy configuration file by a pull request are also considered for the pull request analysis, but the existing configuration in the default branch takes precedence.</p> <p>For example, if a pull request removes an ignored path from the Codacy configuration file, any matching files will stay ignored until that pull request is merged into the default branch.</p> </li> </ul> <p>To use a Codacy configuration file:</p> <ol> <li> <p>Create a text file with the name <code>.codacy.yml</code> or <code>.codacy.yaml</code> on the root of your repository.</p> <p>The file must start with a line containing a triple dash (<code>---</code>).</p> </li> <li> <p>Add your settings to the configuration file based on the example template below.</p> <p>If you defined any Ignored files settings for the repository, make sure you add those settings to the Codacy configuration file.</p> <pre><code>---\nengines:\n  rubocop:\n    exclude_paths:\n      - \"config/test.yml\"\n    base_sub_dir: \"test/baseDir\"\n  duplication:\n    exclude_paths:\n      - \"config/test.yml\"\n    config:\n      languages:\n        - \"ruby\"\nlanguages:\n  css:\n    extensions:\n      - \".scss\"\n  python:\n    enabled: false\nexclude_paths:\n  - \".bundle/**\"\n  - \"spec/**/*\"\n  - \"benchmarks/**/*\"\n  - \"**.min.js\"\n  - \"**/tests/**\"\ninclude_paths:\n  - \"**/tests/integration/**\"\n</code></pre> </li> <li> <p>Optionally, validate the syntax of your configuration file with the Codacy Analysis CLI by running the following command in the same folder as the Codacy configuration file:</p> <pre><code>codacy-analysis-cli validate-configuration --directory `pwd`\n</code></pre> </li> </ol>"}, {"location": "repositories-configure/codacy-configuration-file/#ignore-files", "title": "Ignoring files using a Codacy configuration file", "text": "<p>The Codacy configuration file gives you more flexibility in ignoring or excluding files from the Codacy analysis.</p> <p>Note</p> <p>To exclude files from coverage analysis only, you must ignore them directly in the tool you're using to generate coverage reports and ensure that the reports you upload to Codacy don't include coverage information for those files.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#syntax-for-ignoring-files", "title": "Syntax for ignoring files", "text": "<p>To ignore files using a Codacy configuration file, you must define one or more patterns under <code>exclude_paths</code> using the Java glob syntax:</p> Example pattern Ignored files <code>test/README.md</code> The file <code>test/README.md</code> <code>test/*</code> All files in the root of test <code>test/**</code> All files and directories inside test <code>test/**/*</code> All files inside sub-directories of test <code>**.resource</code> All <code>.resource</code> files across all your repository <code>**/*.resource</code> All <code>.resource</code> files in all directories and sub-directories <p>For example:</p> <pre><code>---\nexclude_paths:\n  - \"test/README.md\"\n  - \"**/*.resource\"\n</code></pre>"}, {"location": "repositories-configure/codacy-configuration-file/#include-files", "title": "Including specific files using a Codacy configuration file", "text": "<p>The Codacy configuration file allows you to explicitly specify files or directories to include in the analysis. This is particularly useful for bypassing files or directories that are ignored by default or specified in <code>exclude_paths</code>.</p> <p>Note</p> <p>If both <code>exclude_paths</code> and <code>include_paths</code> are defined, <code>include_paths</code> will specify exceptions to the exclusions defined in <code>exclude_paths</code>.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#syntax-for-including-files", "title": "Syntax for including files", "text": "<p>To include specific files using a Codacy configuration file, you must define one or more patterns under <code>include_paths</code> using the same syntax as <code>exclude_paths</code>.</p> <p>For example:</p> <pre><code>---\nexclude_paths:\n  - \"lib*/**\"\ninclude_paths:\n  - \"lib-a/**\"\n  - \"libs/**\"\n</code></pre> <p>In this example, while all directories matching <code>lib*</code> are excluded, <code>lib-a</code> is specifically included for analysis, as well as any files within <code>libs</code>.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#tool-conf", "title": "Adjusting tool configurations", "text": "<p>Note</p> <p>The Codacy configuration file lets you configure tools, but you can't enable or disable them. A tool can only be enabled or disabled on the Code patterns page by users with the necessary permissions.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#which-tools-can-be-configured-and-which-name-should-i-use", "title": "Which tools can be configured and which name should I use?", "text": "<p>You can use the Codacy configuration file to configure all tools supported by Codacy except the client-side tools.</p> <p>The following are the tool names that must be used in the Codacy configuration file:</p> <pre><code>ameba\nbandit\nbrakeman\ncheckov\ncheckstyle\ncodacy-scalameta-pro\ncodenarc\ncoffeelint\ncppcheck\ncredo\ndartanalyzer\ndetekt\neslint-8\nflawfinder\nhadolint\njacksonlinter\nmarkdownlint\nphpcs\nphpmd\npmd\nprospector\npsscriptanalyzer\npylintpython3\nremark-lint\nrevive\nrubocop\nscalastyle\nsemgrep\nshellcheck\nsonarcsharp\nsonarvb\nspectral\nSQLint\nstylelint\nswiftlint\ntrivy\ntsqllint\n</code></pre> <p>The following names are deprecated and shouldn't be used, although they're still accepted in the Codacy configuration file:</p> <ul> <li><code>bundleraudit</code> - The tool bundler-audit is deprecated. If you are using Semprep or Trivy instead, use the names <code>trivy</code> or <code>semgrep</code>.</li> <li><code>csslint</code> - The tool CSSLint is deprecated. If you are using Stylelint instead, use the name <code>stylelint</code>.</li> <li><code>eslint</code> - Use the name <code>eslint-8</code> for ESLint.</li> <li><code>jshint</code>, <code>tslint</code> - The tools JSHint and TSLint are deprecated. If you are using ESLint instead, use the name <code>eslint-8</code>.</li> <li><code>pylint</code> - Use the name <code>pylintpython3</code> for Pylint.</li> <li><code>tailor</code> - The tool Tailor is deprecated. If you are using SwiftLint instead, use the name <code>swiftlint</code>.</li> </ul>"}, {"location": "repositories-configure/codacy-configuration-file/#tool-specific-configurations", "title": "Tool-specific configurations", "text": "<p>By default, Codacy tries to detect which language is used on each source code file, and uses a set of default options for identifying duplicate blocks of code. However, some false positives may occur.</p> <p>The tools below support specifying the language or language version used in the source code files that you're analyzing, or tuning the duplication detection.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#cppcheck", "title": "Cppcheck", "text": "<p>If you're using Cppcheck to analyze C or C++ source code files, add the following configuration to your Codacy configuration file to define the programming language you're using. The supported languages are <code>c</code> and <code>c++</code>:</p> <pre><code>---\nengines:\n  cppcheck:\n    language: c++\n</code></pre>"}, {"location": "repositories-configure/codacy-configuration-file/#php_codesniffer", "title": "PHP_CodeSniffer", "text": "<p>If you're using the PHP Compatibility coding standard for PHP_CodeSniffer, add the following configuration to your Codacy configuration file to define the PHP version you're using:</p> <pre><code>---\nengines:\n  phpcs:\n    php_version: 5.5\n</code></pre>"}, {"location": "repositories-configure/codacy-configuration-file/#legacy-pylint-19", "title": "Legacy Pylint 1.9.*", "text": "<p>If you're using the legacy Pylint 1.9.* to analyze Python source code files, add the following configuration to your Codacy configuration file to define the Python language version you're using. The supported versions are <code>2</code> and <code>3</code>:</p> <pre><code>---\nengines:\n  pylint:\n    python_version: 2\n</code></pre> <p>Tip</p> <p>If you're using Python 3.4.* or later as your programming language, disable the tool Pylint (legacy) and enable the tool Pylint on your repository Code patterns page instead. For more information, see What's New in Pylint 2.0.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#pmd-cpd-duplication", "title": "PMD CPD (Duplication)", "text": "<p>Codacy uses PMD's Copy/Paste Detector (CPD) to identify duplicated blocks of code on the supported languages.</p> <p>By default, Codacy only reports duplicate code blocks that have the following minimum token length, depending on the language:</p> Language Default minimum token length C# 50 C/C++ 50 Go 40 Java 100 JavaScript 40 Python 50 Ruby 50 SQL 100 Scala 50 Swift 50 <p>Besides this, Codacy runs PMD CPD with the following options enabled by default:</p> <ul> <li>Skip lexical errors: Skip files which can't be tokenized due to invalid characters instead of aborting CPD</li> <li>Ignore literals: Ignore number values and string contents when comparing text</li> <li>Ignore annotations: Ignore language annotations when comparing text</li> <li>Ignore usings: Ignore <code>using</code> directives in C# when comparing text</li> </ul> <p>To use a different minimum token length or change any of the default options, add your settings to the Codacy configuration file based on the example template below.</p> <p>Important</p> <p>If you configure <code>minTokenMatch</code> on the Codacy configuration file, Codacy will use that value for all languages.</p> <pre><code>---\nengines:\n  duplication:\n    minTokenMatch: 20\n    skipLexicalErrors: false\n    ignoreLiterals: false\n    ignoreIdentifiers: true\n    ignoreAnnotations: false\n    ignoreUsings: false\n</code></pre>"}, {"location": "repositories-configure/codacy-configuration-file/#languages", "title": "Configuring languages using a Codacy configuration file", "text": "<p>You can use a Codacy configuration file to manage the languages that Codacy analyzes in your repository.</p> <p>Note</p> <p>Codacy applies the language settings from the Codacy configuration file as well as any settings defined in the Codacy UI.</p>"}, {"location": "repositories-configure/codacy-configuration-file/#file-extensions", "title": "Adding custom file extensions", "text": "<p>To add custom file extensions to languages using a Codacy configuration file, you must define one or more extensions under <code>languages.&lt;LANGUAGE&gt;.extensions</code>. Keep in mind that some tools might not work out of the box with those extensions.</p> <p>For example:</p> <pre><code>---\nlanguages:\n  css:\n    extensions:\n      - \".scss\"\n</code></pre>"}, {"location": "repositories-configure/codacy-configuration-file/#disable-language", "title": "Disabling analysis of a language", "text": "<p>To disable the analysis of a specific language using a Codacy configuration file, set <code>languages.&lt;LANGUAGE&gt;.enabled</code> to <code>false</code>. The analysis is enabled by default for all languages.</p> <p>For example:</p> <pre><code>---\nlanguages:\n  css:\n    enabled: false\n</code></pre>"}, {"location": "repositories-configure/configuring-code-patterns/", "title": "Configuring code patterns", "text": "<p>Organization admins can manage access to this feature</p> <p>By default, Codacy analyzes your repositories using a subset of the supported analysis tools and code patterns. These defaults are based on current best practices and community feedback, and you can adapt them to your needs as follows:</p> <ul> <li>Configuring tools and code patterns using the Codacy UI</li> <li>Customizing applied coding standards</li> <li>Customizing patterns when following coding standards</li> <li>Using tool configuration files</li> </ul>"}, {"location": "repositories-configure/configuring-code-patterns/#configuring-tools-and-code-patterns-using-the-codacy-ui", "title": "Configuring tools and code patterns using the Codacy UI", "text": "<p>To configure the tools and code patterns for a repository using the Codacy UI:</p> <ol> <li> <p>Open your repository Code patterns page.</p> <p></p> </li> <li> <p>Enable or disable the tools that Codacy will use to analyze the repository.</p> <p></p> </li> <li> <p>Select a tool to enable or disable its code patterns. To make it easier to find relevant patterns, use the filters above the pattern list. You can filter by issue category, status, severity level, or display only recommended code patterns.</p> <p>To see an explanation of the issues that a pattern detects and how to fix them, click the respective dropdown arrow.</p> <p>Tip</p> <ul> <li> <p>To enable a group of code patterns, use the filter to select the relevant group of patterns and click the checkbox in the header of the patterns list.</p> </li> <li> <p>Codacy displays the tag New for one month next to the name of newly added code patterns.</p> </li> </ul> <p></p> </li> <li> <p>Optionally, to take the changes into account immediately, reanalyze the repository manually. Otherwise, Codacy will use the updated configuration when analyzing new commits and pull requests.</p> </li> </ol>"}, {"location": "repositories-configure/configuring-code-patterns/#customizing-applied-coding-standards", "title": "Customizing applied coding standards", "text": "<p>To apply or edit a repository's coding standards, click Customize in the Following ... section at the top of the Code patterns page.</p> <p></p> <p>Select the coding standards that you want to follow or stop following and click Apply.</p> <p></p>"}, {"location": "repositories-configure/configuring-code-patterns/#customizing-patterns-following-standards", "title": "Customizing patterns when following coding standards", "text": "<p>Tools and patterns enabled by a coding standard are enforced and cannot be disabled. You can add extra tools and patterns, if these are not enabled by any applied coding standard.</p>"}, {"location": "repositories-configure/configuring-code-patterns/#using-your-own-tool-configuration-files", "title": "Using tool configuration files", "text": "<p>Note</p> <ul> <li> <p>After activating a configuration file for a tool, Codacy uses that configuration file even if you exclude it from Codacy analysis.</p> </li> <li> <p>When using a tool configuration file alongside a coding standard, the configuration file controls the code patterns, while the coding standard controls whether the tool is enabled or disabled.</p> </li> </ul> <p>Codacy supports configuration files for several static analysis tools to help you streamline your setup.</p> <p>To use a configuration file for a static analysis tool:</p> <ol> <li> <p>Push the configuration file to the root of the default Codacy branch.</p> </li> <li> <p>Open the repository Code patterns page, select the tool of interest, and activate the toggle to use a configuration file.</p> <p>Note</p> <ul> <li> <p>Codacy uses the version of the configuration file in the branch being analyzed. For example, if you open a pull request that includes changes to the configuration file, the analysis results take those changes into account.</p> </li> <li> <p>If Codacy analyzes a branch that doesn't include the configuration file, Codacy reverts to using the code patterns configured for the tool before you selected the option Configuration file on the Code patterns page.</p> </li> <li> <p>For performance reasons, when you update pattern settings using a configuration file, Codacy may display outdated messages for issues identified previously by those patterns.</p> </li> </ul> <p></p> </li> </ol> <p>The table below lists the configuration file names that Codacy detects and supports for each tool:</p> Tool name Languages Files detected Other info Ameba Crystal <code>.ameba.yml</code> Bandit Python <code>bandit.yml</code>, <code>bandit.yaml</code>, <code>.bandit</code>, <code>bandit.toml</code>, <code>bandit.ini</code> To solve flagged valid Python \"assert\" statements, create a <code>bandit.yml</code> on the root of the repository containing: <code>skips: \\['B101'\\]</code> Brakeman Ruby <code>config/brakeman.yml</code> Checkstyle Java <code>checkstyle.xml</code> Supports configuration file in directories other than root and can search up to 5 directories into the repository. CodeNarc Groovy <code>.codenarcrc</code> Credo Elixir <code>.credo.exs</code>, <code>config/.credo.exs</code> dartanalyzer Dart <code>analysis_options.yml</code> Customizing static analysis detekt Kotlin <code>default-detekt-config.yml</code>, <code>detekt.yml</code> Supports configuration file in directories other than root and can search up to 5 directories into the repository. ESLint JavaScript, TypeScript <code>.eslintrc.js</code>, <code>.eslintrc.cjs</code>, <code>.eslintrc.yaml</code>, <code>.eslintrc.yml</code>, <code>.eslintrc.json</code> Plugins configurable on the Codacy UI Other supported plugins <p>If you're using module-level ESLint configuration files, you must also include a ESLint configuration file on the root of your repository for Codacy to detect that you're using configuration files. For example, add the following minimal <code>.eslintrc.json</code> configuration file:</p> <pre><code>{ \"root\": true }</code></pre> Hadolint Dockerfile <code>.hadolint.yaml</code> markdownlint Markdown <code>.markdownlint.json</code> PHP_CodeSniffer PHP <code>phpcs.xml</code>, <code>phpcs.xml.dist</code> PHP Mess Detector PHP <code>codesize.xml</code>, <code>phpmd.xml</code>, <code>phpmd.xml.dist</code> PMD Apex, Java, JavaScript, JSP, PL/SQL, XML, Velocity and Visualforce <code>ruleset.xml</code>, <code>apex-ruleset.xml</code> Supports configuration file in directories other than root and can search up to 5 directories into the repository. Prospector Python <code>.prospector.yml</code>, <code>.prospector.yaml</code>, <code>prospector.yml</code>, <code>prospector.yaml</code>, <code>.landscape.yml</code>, <code>.landscape.yaml</code>, <code>landscape.yml</code>, <code>landscape.yaml</code> Pylint Python <code>pylintrc</code>, <code>.pylintrc</code> Plugins remark-lint Markdown <code>.remarkrc</code>, <code>.remarkrc.json</code>, <code>.remarkrc.yaml</code>, <code>.remarkrc.yml</code>, <code>.remarkrc.js</code> Revive Go <code>revive.toml</code> RuboCop Ruby <code>.rubocop.yml</code>, <code>.rubocop-codacy.yml</code> Supports alternative configuration file <code>.rubocop-codacy.yml</code> for Codacy analysis, allowing exclusion of private gems. This prevents analysis issues caused by private gem references, ensuring proper validation by Codacy. Scalastyle Scala <code>scalastyle-config.xml</code>, <code>scalastyle_config.xml</code> Semgrep Apex, C++, C#, Dockerfile, Elixir, GitHub Actions, Go, Java, JavaScript, Kotlin, PHP, Python, Ruby, Rust, Scala, Shell, Swift, Terraform, TypeScript <code>.semgrep.yaml</code> SonarC# C# <code>SonarLint.xml</code> SonarVB Visual Basic <code>SonarLint.xml</code> Spectral AsyncAPI, OpenAPI <code>.spectral.yaml</code>, <code>.spectral.yml</code>, <code>.spectral.json</code> SpotBugs Java, Scala <code>findbugs.xml</code>, <code>findbugs-includes.xml</code>, <code>findbugs-excludes.xml</code>, <code>spotbugs.xml</code>, <code>spotbugs-includes.xml</code>, <code>spotbugs-excludes.xml</code> Supports configuration file in directories other than root and can search up to 5 directories into the repository. Stylelint CSS, LESS, SASS <code>.stylelintrc</code>, <code>stylelint.config.js</code>, <code>.stylelintrc.json</code>, <code>.stylelintrc.yaml</code>, <code>.stylelintrc.yml</code>, <code>.stylelintrc.js</code> Supports configuration file in directories other than root and can search up to 5 directories into the repository. SwiftLint Swift <code>.swiftlint.yml</code> TSQLLint Transact-SQL <code>.tsqllintrc</code> <p>Note</p> <p>Codacy doesn't support configuration files for the following tools:</p> <ul> <li>aligncheck</li> <li>Checkov</li> <li>Clang-Tidy</li> <li>Codacy Scalameta Pro</li> <li>CoffeeLint</li> <li>Cppcheck</li> <li>deadcode</li> <li>Flawfinder</li> <li>Gosec</li> <li>Jackson Linter</li> <li>PSScriptAnalyzer</li> <li>ShellCheck</li> <li>SQLint</li> <li>Staticcheck</li> <li>Trivy</li> <li>Unity Roslyn Analyzers</li> </ul>"}, {"location": "repositories-configure/configuring-code-patterns/#see-also", "title": "See also", "text": "<ul> <li>Applying a coding standard across multiple repositories</li> <li>How to implement Google JavaScript style guide with Codacy</li> </ul>"}, {"location": "repositories-configure/ignoring-files/", "title": "Ignoring files", "text": "<p>Organization admins can manage access to this feature</p> <p>In some situations, you may want to ignore or exclude files from the Codacy analysis.</p> <p>To exclude files from your repository analysis open your repository Settings, tab Ignored Files, and select the files you want to ignore. This view only shows the files on your main branch.</p> <p></p> <p>Note</p> <ul> <li> <p>See below the files that Codacy ignores by default.</p> </li> <li> <p>You can also ignore files using your own tool configuration files, although this depends on the option being supported by each tool.</p> </li> <li> <p>To exclude files from coverage analysis only, you must ignore them directly in the tool you're using to generate coverage reports and ensure that the reports you upload to Codacy don't include coverage information for those files.</p> </li> </ul> <p>If you need more flexibility in ignoring files, use a Codacy configuration file to define a custom list of file paths to exclude.</p> <p>Important</p> <p>If your repository has a Codacy configuration file, the Ignored files settings defined on the Codacy UI don't apply and you must ignore files using the configuration file instead.</p> <p></p>"}, {"location": "repositories-configure/ignoring-files/#default-ignored-files", "title": "Default ignored files", "text": "<p>By default, Codacy ignores all the files that match the regular expressions below. If you need to analyze files that match these regular expressions, use a Codacy configuration file to define a custom list of file paths to include.</p> <pre><code>.*[\\.-]min\\.css\n.*[\\.-]min\\.js\n.*node_modules/.*\n.*bower_components/.*\n.*vendor/.*\n.*third[_-]?[Pp]arty/.*\n.*samples?/.*\n.*releases?/.*\n.*builds?/.*\n.*dist/.*\n.*external/.*\n.*libs/.*\n.*d3\\.js\n.*angular(-resource|)?\\.js\n.*select2(-resource|)?\\.js\n.*-ace\\.js\n.*typeahead\\.js\n.*jquery-ui\\.js\n.*reveal\\.js\n.*three\\.js\n.*chart\\.js\n.*jquery\\.js\n.*underscore\\.js\n.*lodash\\.js\n.*bootstrap\\.js\n.*bootstrap\\.css\n.*font-awesome\\.css\n.*\\.[Dd]esigner\\.cs\n</code></pre>"}, {"location": "repositories-configure/languages/", "title": "Configuring languages", "text": "<p>Organization admins can manage access to this feature</p> <p>Codacy automatically detects and analyzes languages in your repository based on a list of supported file extensions. On the repository Settings, tab Languages, you can see the list of languages that Codacy detected and will include in the next analysis.</p> <p>By default, the analysis is enabled for all languages that Codacy detects in you repository. You can adapt this configuration to your needs as follows:</p> <ul> <li>Configure Codacy to include unrecognized extensions</li> <li>Disable the analysis of specific languages</li> </ul> <p>Note</p> <p>Codacy applies the language settings defined in the Codacy UI as well as any settings defined using a Codacy configuration file.</p>"}, {"location": "repositories-configure/languages/#configuring-file-extensions", "title": "Configuring file extensions", "text": "<p>If your repository contains source files with extensions not supported by Codacy, associate these extensions with their respective languages to ensure Codacy analyzes them in the next analysis:</p> <ol> <li> <p>Go to your repository's Settings, Languages.</p> </li> <li> <p>Add the extensions you want to be recognized for each language.</p> </li> <li> <p>Click Save changes to update your file extension settings.</p> <p></p> <p> The updated settings will be used on the next analysis, but you can click reanalyze the latest commit of your branches now on the notification that appears at the bottom of the page to trigger an analysis immediately.</p> <p> </p> </li> </ol> <p>Note</p> <p>Currently, the Semgrep static analysis tool doesn't support custom file extensions.</p>"}, {"location": "repositories-configure/languages/#disable-language", "title": "Disabling analysis of a language", "text": "<p>By default, Codacy analyzes all languages detected in your repository. To disable the analysis of a specific language, do the following:</p> <ol> <li> <p>Go to your repository's Settings, Languages.</p> </li> <li> <p>Use the toggle next to the language to disable its analysis.</p> </li> <li> <p>Click Save changes to update your settings.</p> <p></p> <p> The updated settings will be used on the next analysis, but you can click reanalyze the latest commit of your branches now on the notification that appears at the bottom of the page to trigger an analysis immediately.</p> <p> </p> </li> </ol>"}, {"location": "repositories-configure/managing-branches/", "title": "Managing branches", "text": "<p>Organization admins can manage access to this feature</p> <p>Codacy automatically analyzes the default branch of your repository (typically <code>master</code> or <code>main</code> as configured on your Git provider) and loads its data first on dashboards. Codacy also supports analyzing multiple branches.</p> <p>Note</p> <p>Codacy doesn't support and skips the analysis of branches named <code>HEAD</code> or matching the pattern <code>refs/heads/*</code>, as these are Git reserved terms.</p> <p>To change the default branch of your repository or start analyzing other branches:</p> <ol> <li> <p>Open your repository Settings, tab Branches.</p> <p></p> </li> <li> <p>To enable analysis for a new branch, toggle the corresponding switch in the column Analyze.</p> <p>Enabling a new branch triggers an initial analysis of that branch and the analysis results and information for that branch will become available after the analysis is complete.</p> </li> <li> <p>To change the default branch on Codacy, click the corresponding Make default link that appears when you hover the column Default.</p> <p>Changing the default branch on Codacy doesn't change the default branch on your Git provider. Likewise, changing the default branch on your Git provider doesn't change the default branch on Codacy.</p> <p>Note</p> <p>You can only set as default branch an already enabled branch.</p> </li> </ol> <p>Codacy manages pull request branches and inactive branches as follows:</p> <ul> <li> <p>Pull request branches</p> <p>Codacy automatically analyzes branches corresponding to new pull requests and also enables the target branches if they're disabled.</p> </li> <li> <p>Inactive branches</p> <p>Codacy automatically disables analysis for branches that don't have any commits for more than 2 weeks, except for the main branch and pull request branches that are analyzed automatically.</p> </li> </ul>"}, {"location": "repositories-configure/removing-your-repository/", "title": "Removing your repository", "text": "<p>To stop Codacy from analyzing your repository, you must remove the repository from Codacy.</p> <p>Removing a repository from Codacy completely removes the configurations and all data related to your repository from Codacy. This operation doesn't make any changes on your Git provider.</p> <p>Important</p> <p>To remove a repository from Codacy you must have administrator permissions for that repository on your Git provider.</p> <p>To delete your repository from Codacy:</p> <ol> <li> <p>Open your repository Settings, tab General.</p> </li> <li> <p>Click the button Remove repository and confirm that you want to remove the repository.</p> <p></p> <p>Note</p> <p>For added security, after you remove the repository from Codacy you can delete from your Git provider the Codacy resources related to that repository to prevent their reuse:</p> <ul> <li>Webhooks</li> <li>SSH keys (GitLab and Bitbucket only)</li> </ul> </li> </ol>"}, {"location": "repositories-configure/using-submodules/", "title": "Using submodules", "text": "<p>Git submodules allow you to keep a Git repository as a subdirectory within another Git repository. Git submodules are helpful in maintaining a shared configuration file for your team, and then applying it to multiple Git repositories.</p> <p>By default, Codacy does normal Git clones that don't include submodules to ensure that we only clone necessary repositories. If your organization needs to use submodules, you can request Codacy to enable this feature for you.</p> <p>Important</p> <p>GitHub only: Your repository and the repositories that you add as submodules must belong to the same GitHub organization.</p>"}, {"location": "repositories-configure/using-submodules/#prerequisites-for-using-submodules", "title": "Prerequisites for using submodules", "text": "<ol> <li> <p>Contact us at support@codacy.com asking to enable submodules on Codacy.</p> </li> <li> <p>If you're using Codacy Self-hosted, update your license.</p> </li> <li> <p>Make sure that your Git URL uses the correct protocol:</p> <ul> <li>GitHub: HTTPS protocol</li> <li>GitLab and Bitbucket:<ul> <li>HTTPS protocol, if your submodules are public repositories</li> <li>SSH protocol, if your submodules are private repositories</li> </ul> </li> </ul> </li> </ol>"}, {"location": "repositories-configure/using-submodules/#enabling-submodules-on-a-repository", "title": "Enabling submodules on a repository", "text": "<p>When using submodules, you must do the following for all your existing and new repositories:</p> <ol> <li> <p>GitLab and Bitbucket only: Update the public SSH key that Codacy uses to access your repository.</p> </li> <li> <p>If you're using submodules to share an analysis tool configuration file across your repositories, check if your tool recursively searches the subdirectories of your repositories for configuration files.</p> <p>If your tool doesn't detect the configuration files in the submodule directories, you must include a configuration file directly in the root of your repositories referencing the configuration files in the submodule directories.</p> </li> </ol>"}, {"location": "repositories-configure/using-submodules/#update-key", "title": "Updating the public SSH key to access the repository", "text": "<p>This section applies only to GitLab and Bitbucket</p> <p>On GitLab and Bitbucket organizations, Codacy generates a repository key when you add a repository to Codacy and uses it to clone that repository. When you're using submodules, Codacy needs to clone additional repositories it may not have access to. To overcome this, Codacy must use an SSH key of your user account to have access to the same repositories as your user.</p> <p>To update your GitLab or Bitbucket public SSH key that Codacy uses to access your repository, do the following:</p> <ol> <li> <p>Open the repository Settings, tab General. In the Danger zone area, you have the SSH Key generated by Codacy to access your repository.</p> </li> <li> <p>Depending on your Git provider, do the following to update the key:</p> <ul> <li> <p>For GitLab, click the button Generate New User Key. Codacy removes the existing repository key and creates the new SSH key on your user account automatically.</p> </li> <li> <p>For Bitbucket:</p> <ol> <li>Remove the existing Codacy key from the repository settings on your Git provider.</li> <li>Click the link Add new user key. This takes you to the Git provider page where you can manage your user account SSH keys.</li> <li>Add a new SSH key to your Git provider account.</li> </ol> </li> </ul> <p></p> </li> </ol>"}, {"location": "repositories-configure/using-submodules/#automating-user-keys-for-new-repositories", "title": "Automating user keys for new repositories", "text": "<p>This section applies only to Codacy Self-hosted</p> <p>You can set Codacy to automatically add the new SSH key to your Git provider account for all new repositories by enabling Add project key to the user, by default on the Administration console, page Settings.</p> <p>Important</p> <p>If you're using Bitbucket Cloud this setting must be turned off since automatically adding the user keys isn't supported.</p> <p></p>"}, {"location": "repositories-configure/using-submodules/#see-also", "title": "See also", "text": "<ul> <li>Configure repository settings in Bitbucket</li> <li>Add an SSH key to your Bitbucket account</li> </ul>"}, {"location": "repositories-configure/integrations/bitbucket-integration/", "title": "Bitbucket integration", "text": "<p>The Bitbucket integration incorporates Codacy on your existing Git provider workflows by reporting issues and the analysis status directly on your pull requests.</p> <p>When you add a new repository, Codacy sets the Bitbucket integration using the default settings for your organization. You can then customize the settings for the repository.</p> <p></p> <p>Important</p> <p>Codacy uses the Bitbucket user who added the repository to create comments on pull requests. If that user loses access to the repository, a repository admin must refresh the Bitbucket integration.</p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#configuring", "title": "Configuring the Bitbucket integration", "text": "<p>To configure the Bitbucket integration, open your repository Settings, tab Integrations.</p> <p>Depending on the options that you enable, Codacy will automatically update pull requests on Bitbucket with extra information when accepting pull requests.</p> <p>Tip</p> <p>You can apply the default Git provider integration settings to all repositories to ensure that your repositories all share the same settings.</p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#pull-request-status", "title": "Status checks", "text": "<p>Adds a report to your pull requests showing whether your pull requests and coverage are up to standards or not as configured on the quality gate rules for your repository. You can then optionally block merging pull requests that aren't up to standards.</p> <p>Important</p> <p>To get a status for coverage you must also:</p> <ul> <li>Add coverage to your repository</li> <li>Enable the rule Diff coverage is under or Coverage variation is under on the pull request quality gate.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#pull-request-comment", "title": "Issue annotations", "text": "<p>Adds comments on the lines of the pull request where Codacy finds new issues. Click on the links to open Codacy and see more details about the issues and how to fix them. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#pull-request-summary", "title": "Issue summaries", "text": "<p>This feature isn't available for Bitbucket Server</p> <p>Shows an overall view of the changes in the pull request, including new issues and metrics such as complexity and duplication. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#ai-enhanced-comments", "title": "AI-Enhanced Comments", "text": "<p>Adds AI-enhanced comments with insights to help you fix identified issues.</p> <p>Note</p> <ul> <li>This feature is compatible with most programming languages and requires no additional setup.</li> <li>Comments are generated using the description of the static analysis issue, information about the tool that detected the issue, and a few lines of surrounding code to provide the AI with extra context and improve its accuracy.</li> <li>This feature leverages the OpenAI API. No information is shared with other third parties or used to train AI models. Please refer to the OpenAI API data usage policies for more information.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#refreshing", "title": "Refreshing the Bitbucket integration", "text": "<p>If the user who added the repository to Codacy loses access to the repository, which may happen when the user leaves the team or the organization, Codacy won't be able to create comments on pull requests.</p> <p>In this situation, another user with administrator access to the repository needs to refresh the Bitbucket integration:</p> <p>Tip</p> <p>Use a dedicated service account to integrate Codacy with your repositories. This prevents disruption of service if the user who originally enabled the integration loses access to the repositories, which may happen when a user leaves the team or the organization.</p> <p>For more information and instructions on how to set up a dedicated service account see Why did Codacy stop commenting on pull requests?</p> <ol> <li> <p>Open the repository Settings, tab Integrations.</p> </li> <li> <p>On the Bitbucket integration area, click the link Refresh connection.</p> <p></p> </li> </ol> <p>After refreshing the integration, Codacy will use the logged in Bitbucket user to create comments on new pull requests.</p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#generating-automatic-pull-request-summaries", "title": "Generating automatic pull request summaries", "text": "<p>This is a preview feature</p> <p>This is an upcoming Codacy feature. If you're interested, contact support@codacy.com for early access.</p> <p>Codacy can provide a clear, high-level summary of the code changes introduced by a pull request, based on the committed code. Codacy generates an overview of the changes in the pull request so that any reviewer can understand its intent and impact.</p> <p></p> <p>Note</p> <ul> <li>This feature uses only AWS services within Codacy's existing infrastructure. No information is shared with any other third party or used to train AI models.</li> <li>Summaries are generated using the pull request title, branch name, commit messages, and changes diff.</li> </ul> <p>To enable this feature, add the following to the Codacy configuration file <code>.codacy.yaml</code> in the root of your repository:</p> <pre><code>---\nreviews:\n  high_level_summary: true\n</code></pre> <p>You can also enable this feature across your organization by creating the above file in the root of a repository named <code>.codacy</code>. This file will be used as the default configuration for all repositories in the organization and overridden by repository-specific configuration files.</p> <p>Once enabled, summaries will be created when pull requests are opened and updated at each commit to reflect any changes to the pull request.</p> <p>Pull requests opened by bots, such as Dependabot, are ignored.</p> <p>If you see duplicated comments posted by Codacy on the same pull request, please ensure that your repository only has one configured webhook for Codacy.</p>"}, {"location": "repositories-configure/integrations/bitbucket-integration/#see-also", "title": "See also", "text": "<ul> <li>Integrating Codacy with your Git workflow</li> </ul>"}, {"location": "repositories-configure/integrations/github-integration/", "title": "GitHub integration", "text": "<p>The GitHub integration incorporates Codacy on your existing Git provider workflows by reporting issues and the analysis status directly on your pull requests.</p> <p>When you add a new repository, Codacy sets the GitHub integration using the default settings for your organization. You can then customize the settings for the repository.</p> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#configuring", "title": "Configuring the GitHub integration", "text": "<p>To configure the GitHub integration, open your repository Settings, tab Integrations.</p> <p>Depending on the options that you enable, Codacy will automatically update pull requests on GitHub with extra information when accepting pull requests.</p> <p>Tip</p> <p>You can apply the default Git provider integration settings to all repositories to ensure that your repositories all share the same settings.</p>"}, {"location": "repositories-configure/integrations/github-integration/#status-checks", "title": "Status checks", "text": "<p>Adds a report to your pull requests showing whether your pull requests and coverage are up to standards or not as configured on the quality gate rules for your repository. You can then optionally block merging pull requests that aren't up to standards.</p> <p>Important</p> <p>To get a status for coverage you must also:</p> <ul> <li>Add coverage to your repository</li> <li>Enable the rule Diff coverage is under or Coverage variation is under on the pull request quality gate.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#issue-annotations", "title": "Issue annotations", "text": "<p>Adds annotations on the lines of the pull request where Codacy finds new issues. Codacy maps the severity of the issues reported by the tools to the severity levels of the annotations. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#issue-summaries", "title": "Issue summaries", "text": "<p>Shows an overall view of the changes in the pull request, including new issues and metrics such as complexity and duplication. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#coverage-summaries", "title": "Coverage summaries", "text": "<p>Adds a pull request comment showing an overall view of the coverage metrics for the pull request, including details about the data that Codacy used to calculate the coverage variation and diff coverage metrics.</p> <p>When there are new coverage results, Codacy updates the last coverage summary comment if it's included in the last 5 comments of the pull request. Otherwise, Codacy creates a new comment.</p> <p>Important</p> <p>To get coverage summaries you must also add coverage to your repository.</p> <p></p> <p>Note</p> <p>This feature is only supported on GitHub Cloud.</p>"}, {"location": "repositories-configure/integrations/github-integration/#suggest-fixes", "title": "Suggested fixes", "text": "<p>This feature is only available on paid plans</p> <p>Adds comments on the lines of the pull request where Codacy finds new issues with suggestions on how to fix the issues. Codacy doesn't apply any changes automatically. To apply the changes, manually review and accept the suggestions.</p> <p>Tip</p> <p>Enable also AI-enhanced comments to get ready-to-commit AI-generated fixes.</p> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#ai-enhanced-comments", "title": "AI-enhanced comments", "text": "<p>Adds AI-enhanced comments, providing insights and ready-to-commit AI-generated fixes for identified issues in cases where tool-suggested fixes are not supported. To enable this option, you must enable Suggested fixes first.</p> <p>Note</p> <ul> <li>This feature is compatible with most programming languages and requires no additional setup.</li> <li>Comments are generated using the description of the static analysis issue, information about the tool that detected the issue, and a few lines of surrounding code to provide the AI with extra context and improve its accuracy.</li> <li>This feature leverages the OpenAI API. No information is shared with other third parties or used to train AI models. Please refer to the OpenAI API data usage policies for more information.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/github-integration/#generating-automatic-pull-request-summaries", "title": "Generating automatic pull request summaries", "text": "<p>This is a preview feature</p> <p>This is an upcoming Codacy feature. If you're interested, contact support@codacy.com for early access.</p> <p>Codacy can provide a clear, high-level summary of the code changes introduced by a pull request, based on the committed code. Codacy generates an overview of the changes in the pull request so that any reviewer can understand its intent and impact.</p> <p></p> <p>Note</p> <ul> <li>This feature uses only AWS services within Codacy's existing infrastructure. No information is shared with any other third party or used to train AI models.</li> <li>Summaries are generated using the pull request title, branch name, commit messages, and changes diff.</li> </ul> <p>To enable this feature, add the following to the Codacy configuration file <code>.codacy.yaml</code> in the root of your repository:</p> <pre><code>---\nreviews:\n  high_level_summary: true\n</code></pre> <p>You can also enable this feature across your organization by creating the above file in the root of a repository named <code>.codacy</code>. This file will be used as the default configuration for all repositories in the organization and overridden by repository-specific configuration files.</p> <p>Once enabled, summaries will be created when pull requests are opened and updated at each commit to reflect any changes to the pull request.</p> <p>Pull requests opened by bots, such as Dependabot, are ignored.</p> <p>If you see duplicated comments posted by Codacy on the same pull request, please ensure that your repository only has one configured webhook for Codacy.</p>"}, {"location": "repositories-configure/integrations/github-integration/#see-also", "title": "See also", "text": "<ul> <li>Integrating Codacy with your Git workflow</li> </ul>"}, {"location": "repositories-configure/integrations/gitlab-integration/", "title": "GitLab integration", "text": "<p>The GitLab integration incorporates Codacy on your existing Git provider workflows by reporting issues and the analysis status directly on your merge requests.</p> <p>When you add a new repository, Codacy sets the GitLab integration using the default settings for your organization. You can then customize the settings for the repository.</p> <p></p> <p>Important</p> <p>Codacy uses the GitLab user who added the repository to create comments on merge requests. If that user loses access to the repository, a repository admin must refresh the GitLab integration.</p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#configuring", "title": "Configuring the GitLab integration", "text": "<p>To configure the GitLab integration, open your repository Settings, tab Integrations.</p> <p>Depending on the options that you enable, Codacy will automatically update merge requests on GitLab with extra information when accepting merge requests.</p> <p>Tip</p> <p>You can apply the default Git provider integration settings to all repositories to ensure that your repositories all share the same settings.</p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#pull-request-status", "title": "Status checks", "text": "<p>Adds a report to your merge requests showing whether your merge requests and coverage are up to standards or not as configured on the quality gate rules for your project. You can then optionally block merging merge requests that aren't up to standards.</p> <p>Important</p> <p>To get a status for coverage you must also:</p> <ul> <li>Add coverage to your repository</li> <li>Enable the rule Diff coverage is under or Coverage variation is under on the pull request quality gate.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#pull-request-comment", "title": "Issue annotations", "text": "<p>Adds comments on the lines of the merge request where Codacy finds new issues. Click on the links to open Codacy and see more details about the issues and how to fix them. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#pull-request-summary", "title": "Issue summaries", "text": "<p>Shows an overall view of the changes in the merge request, including new issues and metrics such as complexity and duplication. To enable this option, you must enable Status checks first.</p> <p></p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#ai-enhanced-comments", "title": "AI-Enhanced Comments", "text": "<p>Adds AI-enhanced comments with insights to help you fix identified issues.</p> <p>Note</p> <ul> <li>This feature is compatible with most programming languages and requires no additional setup.</li> <li>Comments are generated using the description of the static analysis issue, information about the tool that detected the issue, and a few lines of surrounding code to provide the AI with extra context and improve its accuracy.</li> <li>This feature leverages the OpenAI API. No information is shared with other third parties or used to train AI models. Please refer to the OpenAI API data usage policies for more information.</li> </ul> <p></p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#refreshing", "title": "Refreshing the GitLab integration", "text": "<p>If the user who added the repository to Codacy loses access to the repository, which may happen when the user leaves the team or the organization, Codacy won't be able to create comments on merge requests.</p> <p>In this situation, another user with administrator access to the repository needs to refresh the GitLab integration:</p> <p>Tip</p> <p>Use a dedicated service account to integrate Codacy with your repositories. This prevents disruption of service if the user who originally enabled the integration loses access to the repositories, which may happen when a user leaves the team or the organization.</p> <p>For more information and instructions on how to set up a dedicated service account see Why did Codacy stop commenting on pull requests?</p> <ol> <li> <p>Open the repository Settings, tab Integrations.</p> </li> <li> <p>On the GitLab integration area, click the link Refresh connection.</p> <p></p> </li> </ol> <p>After refreshing the integration, Codacy will use the logged in GitLab user to create comments on new merge requests.</p>"}, {"location": "repositories-configure/integrations/gitlab-integration/#see-also", "title": "See also", "text": "<ul> <li>Integrating Codacy with your Git workflow</li> </ul>"}, {"location": "repositories-configure/integrations/post-commit-hooks/", "title": "Post-commit hooks", "text": "<p>When you add a new repository to Codacy, Codacy automatically creates a repository hook on your Git provider to check for new commits and pull requests. This post-commit hook enables Codacy to trigger an analysis to run immediately after you push code to your repository.</p> <p>Important</p> <p>Don't change the configuration of the hooks created by Codacy on your Git provider, as it might cause service failure.</p>"}, {"location": "repositories-configure/integrations/post-commit-hooks/#creating-a-new-post-commit-hook", "title": "Creating a new post-commit hook", "text": "<p>In case your repository\u2019s hook is missing from your Git provider, you can create a new one:</p> <ol> <li>Open your repository Settings, tab Integrations.</li> <li>On the Post-commit hook area, click the button Create new hook.</li> </ol> <p></p>"}, {"location": "repositories-configure/local-analysis/client-side-tools/", "title": "Client-side tools", "text": "<p>Client-side tools enable you to run an analysis locally or as part of your build process and upload the results to Codacy. This way, Codacy presents the analysis information reported by your local tools on the Codacy dashboards, in addition to the default code quality information.</p> <p>The following diagram presents a high-level overview of the local analysis flow.</p> <p></p> <p>Codacy supports client-side tools in two ways:</p> <ul> <li> <p>Containerized tools: Codacy provides Docker images to run analysis tools locally. To fetch code pattern configurations from Codacy, run the images, print out analysis results, and upload them to Codacy, use the Codacy Analysis CLI.</p> <p>The Codacy Analysis CLI automatically fetches the code pattern settings that you define on the Codacy UI and applies them when running the tools.</p> </li> <li> <p>Standalone tools: Codacy provides auxiliary converters that parse the output of third-party tools and convert to a format that you then upload to Codacy. You must download, configure, and run the third-party tools yourself.</p> <p>You can't configure these tools on the Codacy UI, since you manage their configuration locally.</p> </li> </ul> <p>Tip</p> <p>In order to receive results from local analysis, the flag \"Run analysis on your build server\" must be enabled.</p> <p></p> <p>The table below describes the supported client-side tools and includes links to specific instructions on how to run each tool.</p> <p>Tip</p> <p>If you're using GitHub we recommend that you use the Codacy Analysis CLI GitHub Action to run the containerized client-side tools and upload the results to Codacy.</p> Language Client-side tool Description Usage instructions C, C++ Clang-Tidy Clang-tidy is a clang-based C++ \u201clinter\u201d tool. Its purpose is to provide an extensible framework for diagnosing and fixing typical programming errors, like style violations, interface misuse, or bugs that can be deduced via static analysis. Clang-tidy is modular and provides a convenient interface for writing new checks. Running Clang-Tidy (standalone) Go aligncheck aligncheck is a utility for finding unused struct fields in Go source files. Running aligncheck (containerized) deadcode deadcode is a very simple utility which detects unused declarations in Go packages. Running deadcode (containerized) Gosec Gosec inspects source code for security problems by scanning the Go AST. Running Gosec (standalone) Staticcheck Staticcheck is a state of the art linter for the Go programming language. Using static analysis, it finds bugs and performance issues, offers simplifications, and enforces style rules. Running Staticcheck (standalone) Java, Scala SpotBugs SpotBugs is a program which uses static analysis to look for bugs in Java code. Together with the Find Security Bugs plugin it provides security audits. It has support for Maven, sbt, and Gradle in Java projects. Running SpotBugs (containerized) Objective-C Clang-Tidy Clang-tidy is a clang-based C++ \"linter\" tool. Its purpose is to provide an extensible framework for diagnosing and fixing typical programming errors, like style violations, interface misuse, or bugs that can be deduced via static analysis. Clang-tidy is modular and provides a convenient interface for writing new checks. Running Clang-Tidy (standalone) Unity Unity Roslyn Analyzers Unity-specific diagnostics for CSharp Unity projects. Running Unity Roslyn Analyzers (standalone)"}, {"location": "repositories-configure/local-analysis/client-side-tools/#see-also", "title": "See also", "text": "<ul> <li>Supported languages and tools</li> </ul>"}, {"location": "repositories-configure/local-analysis/running-aligncheck/", "title": "Running aligncheck", "text": "<p>To run aligncheck as a client-side tool:</p> <ol> <li> <p>Enable aligncheck and configure the corresponding code patterns on your repository Code patterns page.</p> </li> <li> <p>Enable Run analysis on your build server on your repository Settings, tab General, Repository analysis on your server.</p> <p>This setting enables Codacy to wait for the results of the local analysis before resuming the analysis of your commits.</p> <p></p> </li> <li> <p>Set up an API token to authenticate on Codacy:</p> <ul> <li> <p>If you're setting up one repository, obtain a repository API token and set the following environment variable to specify your repository API token:</p> <pre><code>export CODACY_PROJECT_TOKEN=&lt;your repository API token&gt;\n</code></pre> </li> <li> <p>If you're setting up multiple repositories, obtain an account API Token and set the following environment variable to specify the account API token:</p> <pre><code>export CODACY_API_TOKEN=&lt;your account API token&gt;\n</code></pre> </li> </ul> <p>Warning</p> <p>Never write API tokens to your configuration files and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy.</p> <p>It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this.</p> </li> <li> <p>If you're using Codacy Self-hosted set the following environment variable to specify your Codacy instance URL:</p> <pre><code>export CODACY_API_BASE_URL=&lt;your Codacy instance URL&gt;\n</code></pre> </li> <li> <p>Download and run the Codacy Analysis CLI on the root of the repository, specifying the tool aligncheck.</p> <pre><code>codacy-analysis-cli analyze --tool aligncheck \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> <p>If you're using an account API token, you must also provide the flags <code>--provider</code>, <code>--username</code>, and <code>--project</code>. You can obtain the values for these flags from the URL of your repository dashboard on Codacy:</p> <pre><code>codacy-analysis-cli analyze --provider &lt;gh, ghe, gl, gle, bb, or bbe&gt; \\\n                            --username &lt;name of your Codacy organization&gt; \\\n                            --project &lt;name of your repository&gt; \\\n                            --tool aligncheck \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> </li> </ol> <p>The Codacy Analysis CLI runs aligncheck on your repository and uploads the results to Codacy so you can use them in your workflow.</p>"}, {"location": "repositories-configure/local-analysis/running-aligncheck/#advanced-configuration", "title": "Advanced configuration", "text": "<p>See the available Codacy Analysis CLI configuration flags to configure running aligncheck in more advanced scenarios.</p>"}, {"location": "repositories-configure/local-analysis/running-deadcode/", "title": "Running deadcode", "text": "<p>To run deadcode as a client-side tool:</p> <ol> <li> <p>Enable deadcode and configure the corresponding code patterns on your repository Code patterns page.</p> </li> <li> <p>Enable Run analysis on your build server on your repository Settings, tab General, Repository analysis on your server.</p> <p>This setting enables Codacy to wait for the results of the local analysis before resuming the analysis of your commits.</p> <p></p> </li> <li> <p>Set up an API token to authenticate on Codacy:</p> <ul> <li> <p>If you're setting up one repository, obtain a repository API token and set the following environment variable to specify your repository API token:</p> <pre><code>export CODACY_PROJECT_TOKEN=&lt;your repository API token&gt;\n</code></pre> </li> <li> <p>If you're setting up multiple repositories, obtain an account API Token and set the following environment variable to specify the account API token:</p> <pre><code>export CODACY_API_TOKEN=&lt;your account API token&gt;\n</code></pre> </li> </ul> <p>Warning</p> <p>Never write API tokens to your configuration files and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy.</p> <p>It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this.</p> </li> <li> <p>If you're using Codacy Self-hosted set the following environment variable to specify your Codacy instance URL:</p> <pre><code>export CODACY_API_BASE_URL=&lt;your Codacy instance URL&gt;\n</code></pre> </li> <li> <p>Download and run the Codacy Analysis CLI on the root of the repository, specifying the tool deadcode.</p> <pre><code>codacy-analysis-cli analyze --tool deadcode \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> <p>If you're using an account API token, you must also provide the flags <code>--provider</code>, <code>--username</code>, and <code>--project</code>. You can obtain the values for these flags from the URL of your repository dashboard on Codacy:</p> <pre><code>codacy-analysis-cli analyze --provider &lt;gh, ghe, gl, gle, bb, or bbe&gt; \\\n                            --username &lt;name of your Codacy organization&gt; \\\n                            --project &lt;name of your repository&gt; \\\n                            --tool deadcode \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> </li> </ol> <p>The Codacy Analysis CLI runs deadcode on your repository and uploads the results to Codacy so you can use them in your workflow.</p>"}, {"location": "repositories-configure/local-analysis/running-deadcode/#advanced-configuration", "title": "Advanced configuration", "text": "<p>See the available Codacy Analysis CLI configuration flags to configure running deadcode in more advanced scenarios.</p>"}, {"location": "repositories-configure/local-analysis/running-spotbugs/", "title": "Running SpotBugs", "text": "<p>To run SpotBugs as a client-side tool:</p> <ol> <li> <p>Enable SpotBugs and configure the corresponding code patterns on your repository Code patterns page.</p> </li> <li> <p>Enable Run analysis on your build server on your repository Settings, tab General, Repository analysis on your server.</p> <p>This setting enables Codacy to wait for the results of the local analysis before resuming the analysis of your commits.</p> <p></p> </li> <li> <p>Set up an API token to authenticate on Codacy:</p> <ul> <li> <p>If you're setting up one repository, obtain a repository API token and set the following environment variable to specify your repository API token:</p> <pre><code>export CODACY_PROJECT_TOKEN=&lt;your repository API token&gt;\n</code></pre> </li> <li> <p>If you're setting up multiple repositories, obtain an account API Token and set the following environment variable to specify the account API token:</p> <pre><code>export CODACY_API_TOKEN=&lt;your account API token&gt;\n</code></pre> </li> </ul> <p>Warning</p> <p>Never write API tokens to your configuration files and keep your API tokens well protected, as they grant owner permissions to your projects on Codacy.</p> <p>It's a best practice to store API tokens as environment variables. Check the documentation of your CI/CD platform on how to do this.</p> </li> <li> <p>If you're using Codacy Self-hosted set the following environment variable to specify your Codacy instance URL:</p> <pre><code>export CODACY_API_BASE_URL=&lt;your Codacy instance URL&gt;\n</code></pre> </li> <li> <p>Compile your Java or Scala repository on your build server, as you would normally do.</p> </li> <li> <p>Download and run the Codacy Analysis CLI on the root of the repository, specifying the tool SpotBugs.</p> <pre><code>codacy-analysis-cli analyze --tool spotbugs \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> <p>If you're using an account API token, you must also provide the flags <code>--provider</code>, <code>--username</code>, and <code>--project</code>. You can obtain the values for these flags from the URL of your repository dashboard on Codacy:</p> <pre><code>codacy-analysis-cli analyze --provider &lt;gh, ghe, gl, gle, bb, or bbe&gt; \\\n                            --username &lt;name of your Codacy organization&gt; \\\n                            --project &lt;name of your repository&gt; \\\n                            --tool spotbugs \\\n                            --allow-network \\\n                            --upload \\\n                            --verbose\n</code></pre> </li> </ol> <p>The Codacy Analysis CLI runs SpotBugs on the compiled classes of your repository and uploads the results to Codacy so you can use them in your workflow.</p>"}, {"location": "repositories-configure/local-analysis/running-spotbugs/#detecting-sources-and-compiled-classes", "title": "Detecting sources and compiled classes", "text": "<p>The Codacy Analysis CLI tries to find the compiled classes and map results to the source files automatically. If you use Maven, Gradle, or sbt the Codacy Analysis CLI also detects the default layouts automatically.</p> <p>If there is an issue with detection, you can configure these paths manually by adding a <code>.codacy.yml</code> Codacy configuration file to the root of the repository:</p> <pre><code>---\nengines:\n  spotbugs:\n    modules:\n      - classesDirectories: [ \"core/target/classes\" ]\n        sourceDirectories:  [ \"core/src/main\" ]\n      - classesDirectories: [ \"api/target/classes\" ]\n        sourceDirectories:  [ \"api/src/main\" ]\n</code></pre>"}, {"location": "repositories-configure/local-analysis/running-spotbugs/#increasing-the-timeout-to-run-spotbugs", "title": "Increasing the timeout to run SpotBugs", "text": "<p>When running SpotBugs on the compiled classes of larger projects, the default execution timeout of 15 minutes may not be enough for SpotBugs to complete the analysis.</p> <p>To increase the timeout that SpotBugs has to execute, use the option <code>--tool-timeout</code> when running the Codacy Analysis CLI. For example, use <code>--tool-timeout 1hour</code> to set the timeout to one hour.</p>"}, {"location": "repositories-configure/local-analysis/running-spotbugs/#advanced-configuration", "title": "Advanced configuration", "text": "<p>See the available Codacy Analysis CLI configuration flags to configure running SpotBugs in more advanced scenarios.</p>"}]}